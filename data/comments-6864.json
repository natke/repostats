[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/789635447",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6864#issuecomment-789635447",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6864",
        "id": 789635447,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTYzNTQ0Nw==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-03T11:11:00Z",
        "updated_at": "2021-03-03T11:11:00Z",
        "author_association": "MEMBER",
        "body": "@chilo-ms , can you advise as you've tested this in the past. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/789635447/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/792238342",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6864#issuecomment-792238342",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6864",
        "id": 792238342,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5MjIzODM0Mg==",
        "user": {
            "login": "chilo-ms",
            "id": 54722500,
            "node_id": "MDQ6VXNlcjU0NzIyNTAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/54722500?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chilo-ms",
            "html_url": "https://github.com/chilo-ms",
            "followers_url": "https://api.github.com/users/chilo-ms/followers",
            "following_url": "https://api.github.com/users/chilo-ms/following{/other_user}",
            "gists_url": "https://api.github.com/users/chilo-ms/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chilo-ms/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chilo-ms/subscriptions",
            "organizations_url": "https://api.github.com/users/chilo-ms/orgs",
            "repos_url": "https://api.github.com/users/chilo-ms/repos",
            "events_url": "https://api.github.com/users/chilo-ms/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chilo-ms/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-07T08:30:04Z",
        "updated_at": "2021-03-07T08:30:04Z",
        "author_association": "MEMBER",
        "body": "Current onnxruntime C# API has not yet exposed TensorRT enable function, but this function is already there and will soon be exposed. Please see this [commit ](https://github.com/microsoft/onnxruntime/commit/33d7d6e4942a1adf32a769e965a05ef57012f5d2)first or build from this [branch](https://github.com/microsoft/onnxruntime/tree/c_sharp_tensorrt).\r\n\r\nAfter built, there should be two nuget files, `Microsoft.ML.OnnxRuntime.Managed.1.7.0-dev-20210307-0735-9126faa35.nupkg` and `Microsoft.ML.OnnxRuntime.TensorRT.1.7.0-dev-20210307-0735-9126faa35.nupkg`, located at .\\build\\Windows\\Release\\Release\\nuget-artifacts, and then install them.\r\n\r\nAnd you can use TRT-EP simply like following code:\r\n```\r\nusing Microsoft.ML.OnnxRuntime;\r\nusing Microsoft.ML.OnnxRuntime.Tensors;\r\n...\r\nstatic InferenceSession session;\r\nsession = new InferenceSession(modelPath, SessionOptions.MakeSessionOptionWithTensorrtProvider(0));\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/792238342/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/793810489",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6864#issuecomment-793810489",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6864",
        "id": 793810489,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzgxMDQ4OQ==",
        "user": {
            "login": "thoron",
            "id": 1374642,
            "node_id": "MDQ6VXNlcjEzNzQ2NDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1374642?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thoron",
            "html_url": "https://github.com/thoron",
            "followers_url": "https://api.github.com/users/thoron/followers",
            "following_url": "https://api.github.com/users/thoron/following{/other_user}",
            "gists_url": "https://api.github.com/users/thoron/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thoron/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thoron/subscriptions",
            "organizations_url": "https://api.github.com/users/thoron/orgs",
            "repos_url": "https://api.github.com/users/thoron/repos",
            "events_url": "https://api.github.com/users/thoron/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thoron/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-09T12:24:25Z",
        "updated_at": "2021-03-09T12:24:25Z",
        "author_association": "CONTRIBUTOR",
        "body": "@chilo-ms I am encountering a issue when trying to build TensorRT nuget.\r\n\r\nRunning build command on Windows for commit `33d7d6e4942a1adf32a769e965a05ef57012f5d2 (HEAD -> c_sharp_tensorrt, origin/c_sharp_tensorrt)`\r\n```cmd\r\n./build.bat --config Release `\r\n  --build_shared_lib --build_nuget --parallel `\r\n  --cuda_version 11.2 --cuda_home \"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v11.2\" `\r\n  --cudnn_home \"C:\\Users\\thomas\\bin\\cudnn-11.2-windows-x64-v8.1.1.33\" `\r\n  --use_tensorrt --tensorrt_home \"C:\\Users\\thomas\\bin\\TensorRT-7.2.2.3\" `\r\n  --cmake_generator \"Visual Studio 16 2019\" --skip_tests\r\n```\r\nLog, truncated for brevity.\r\n```\r\n....\r\ncrop_impl.cu\r\n  binary_elementwise_ops_impl.cu\r\n  image_scaler_impl.cu\r\n_ __device__ function is not allowed [C:\\Users\\thomas\\dev\\onnxruntime\\build\\Windows\\Release\\onnxruntime_providers_cuda.v\r\ncxproj]\r\n\r\n  where_impl.cu\r\n  fft_ops_impl.cu\r\n  complex_mul_impl.cu\r\n  bias_softmax_impl.cu\r\n  binary_elementwise_ops_impl.cu\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\thomas\\dev\\onnxruntime\\tools\\ci_build\\build.py\", line 2003, in <module>\r\n    sys.exit(main())\r\n  File \"C:\\Users\\thomas\\dev\\onnxruntime\\tools\\ci_build\\build.py\", line 1938, in main\r\n  File \"C:\\Users\\thomas\\dev\\onnxruntime\\tools\\ci_build\\build.py\", line 1017, in build_targets\r\n    run_subprocess(cmd_args, env=env)\r\n  File \"C:\\Users\\thomas\\dev\\onnxruntime\\tools\\ci_build\\build.py\", line 536, in run_subprocess\r\n    return run(*args, cwd=cwd, capture_stdout=capture_stdout, shell=shell, env=my_env)\r\n  File \"C:\\Users\\thomas\\dev\\onnxruntime\\tools\\python\\util\\run.py\", line 41, in run\r\n    completed_process = subprocess.run(\r\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.9_3.9.752.0_x64__qbz5n2kfra8p0\\lib\\subprocess.py\", line 528, in run\r\n    raise CalledProcessError(retcode, process.args,\r\nsubprocess.CalledProcessError: Command '['C:\\\\Program Files\\\\CMake\\\\bin\\\\cmake.EXE', '--build', 'C:\\\\Users\\\\thomas\\\\dev\\\\onnxruntime\\\\\\\\build\\\\Windows\\\\Release', '--config', 'Release', '--', '/maxcpucount:20', '/nodeReuse:False']' returned non-zero exit status 1\r\n```\r\nAny advice on how to continue so I can assist in the testing?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/793810489/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/804769805",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6864#issuecomment-804769805",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6864",
        "id": 804769805,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgwNDc2OTgwNQ==",
        "user": {
            "login": "chilo-ms",
            "id": 54722500,
            "node_id": "MDQ6VXNlcjU0NzIyNTAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/54722500?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chilo-ms",
            "html_url": "https://github.com/chilo-ms",
            "followers_url": "https://api.github.com/users/chilo-ms/followers",
            "following_url": "https://api.github.com/users/chilo-ms/following{/other_user}",
            "gists_url": "https://api.github.com/users/chilo-ms/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chilo-ms/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chilo-ms/subscriptions",
            "organizations_url": "https://api.github.com/users/chilo-ms/orgs",
            "repos_url": "https://api.github.com/users/chilo-ms/repos",
            "events_url": "https://api.github.com/users/chilo-ms/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chilo-ms/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-23T09:56:18Z",
        "updated_at": "2021-03-23T09:56:18Z",
        "author_association": "MEMBER",
        "body": "Could you try CUDA11.0, CuDNN8 and TensorRT7.1.3.4/TensorRT7.2.2.3 ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/804769805/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/804921703",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6864#issuecomment-804921703",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6864",
        "id": 804921703,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgwNDkyMTcwMw==",
        "user": {
            "login": "thoron",
            "id": 1374642,
            "node_id": "MDQ6VXNlcjEzNzQ2NDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1374642?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thoron",
            "html_url": "https://github.com/thoron",
            "followers_url": "https://api.github.com/users/thoron/followers",
            "following_url": "https://api.github.com/users/thoron/following{/other_user}",
            "gists_url": "https://api.github.com/users/thoron/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thoron/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thoron/subscriptions",
            "organizations_url": "https://api.github.com/users/thoron/orgs",
            "repos_url": "https://api.github.com/users/thoron/repos",
            "events_url": "https://api.github.com/users/thoron/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thoron/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-23T13:54:13Z",
        "updated_at": "2021-03-23T13:54:13Z",
        "author_association": "CONTRIBUTOR",
        "body": "@chilo-ms I am unable to compile with CUDA 11.0 as I am also trying to test this on my GPU (RTX 3080, compute_86). I could compile with CUDA 11.1 but ran in to the same issue:\r\n```\r\n\r\n  topk_impl.cu\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\thomas\\dev\\onnxruntime\\tools\\ci_build\\build.py\", line 2003, in <module>\r\n    sys.exit(main())\r\n  File \"C:\\Users\\thomas\\dev\\onnxruntime\\tools\\ci_build\\build.py\", line 1938, in main\r\n    build_targets(args, cmake_path, build_dir, configs, num_parallel_jobs, args.target)\r\n  File \"C:\\Users\\thomas\\dev\\onnxruntime\\tools\\ci_build\\build.py\", line 1017, in build_targets\r\n    run_subprocess(cmd_args, env=env)\r\n  File \"C:\\Users\\thomas\\dev\\onnxruntime\\tools\\ci_build\\build.py\", line 536, in run_subprocess\r\n    return run(*args, cwd=cwd, capture_stdout=capture_stdout, shell=shell, env=my_env)\r\n  File \"C:\\Users\\thomas\\dev\\onnxruntime\\tools\\python\\util\\run.py\", line 41, in run\r\n    completed_process = subprocess.run(\r\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.9_3.9.752.0_x64__qbz5n2kfra8p0\\lib\\subprocess.py\", line 528, in run\r\n    raise CalledProcessError(retcode, process.args,\r\nsubprocess.CalledProcessError: Command '['C:\\\\Program Files\\\\CMake\\\\bin\\\\cmake.EXE', '--build', 'C:\\\\Users\\\\thomas\\\\dev\\\\onnxruntime\\\\\\\\build\\\\Windows\\\\Release', '--config', 'Release', '--', '/maxcpucount:20', '/nodeReuse:False']' returned non-zero exit status 1.\r\n```\r\nI updated cmake to include 8.6.\r\n```diff\r\ndiff --git a/cmake/CMakeLists.txt b/cmake/CMakeLists.txt\r\nindex 5307f4f85..a84a4ea73 100644\r\n--- a/cmake/CMakeLists.txt\r\n+++ b/cmake/CMakeLists.txt\r\n@@ -1196,16 +1196,17 @@ if (onnxruntime_USE_CUDA)\r\n       # the following compute capabilities are removed in CUDA 11 Toolkit\r\n       if (CMAKE_CUDA_COMPILER_VERSION VERSION_LESS 11)\r\n         set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_30,code=sm_30\") # K series\r\n+        set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_37,code=sm_37\") # K80\r\n+        set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_50,code=sm_50\") # M series\r\n       endif()\r\n       # 37, 50 still work in CUDA 11 but are marked deprecated and will be removed in future CUDA version.\r\n-      set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_37,code=sm_37\") # K80\r\n-      set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_50,code=sm_50\") # M series\r\n\r\n       set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_52,code=sm_52\") # M60\r\n       set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_60,code=sm_60\") # P series\r\n       set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_70,code=sm_70\") # V series\r\n       if (CMAKE_CUDA_COMPILER_VERSION VERSION_GREATER_EQUAL 11)\r\n         set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_80,code=sm_80\") # A series\r\n+        set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_86,code=[sm_86,compute_86]\") # A series\r\n       endif()\r\n     endif()\r\n   endif()\r\n```\r\n\r\nI tried to compile with both TensorRT versions (7.1.3.4 and 7.2.2.3) and it produced the same error. Perhaps it is an issue with my GPU version? Build command:\r\n\r\n```bat\r\n./build.bat --config Release `\r\n   --build_shared_lib --build_csharp --parallel `\r\n   --use_cuda --cuda_version 11.1 --cuda_home \"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v11.1\" `\r\n   --cudnn_home \"C:\\Users\\thomas\\bin\\cudnn-11.2-windows-x64-v8.1.1.33\" `\r\n   --use_tensorrt --tensorrt_home \"C:\\Users\\thomas\\bin\\TensorRT-7.1.3.4\" `\r\n   --cmake_generator \"Visual Studio 16 2019\" --skip_tests --use_dml `\r\n   --cmake_extra_defines=\"CMAKE_SYSTEM_VERSION=10.0.19041.0\" --skip_submodule_sync\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/804921703/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813500627",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6864#issuecomment-813500627",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6864",
        "id": 813500627,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzUwMDYyNw==",
        "user": {
            "login": "chilo-ms",
            "id": 54722500,
            "node_id": "MDQ6VXNlcjU0NzIyNTAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/54722500?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chilo-ms",
            "html_url": "https://github.com/chilo-ms",
            "followers_url": "https://api.github.com/users/chilo-ms/followers",
            "following_url": "https://api.github.com/users/chilo-ms/following{/other_user}",
            "gists_url": "https://api.github.com/users/chilo-ms/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chilo-ms/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chilo-ms/subscriptions",
            "organizations_url": "https://api.github.com/users/chilo-ms/orgs",
            "repos_url": "https://api.github.com/users/chilo-ms/repos",
            "events_url": "https://api.github.com/users/chilo-ms/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chilo-ms/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-05T16:52:41Z",
        "updated_at": "2021-04-05T16:52:41Z",
        "author_association": "MEMBER",
        "body": "I used the same build command you pasted above and it can successfully build on my Windows10 machine. \r\nQuestions here, can you successfully build other applications/samples using the same CUDA 11.1 repo? What is your cmake version?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813500627/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1056961065",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6864#issuecomment-1056961065",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6864",
        "id": 1056961065,
        "node_id": "IC_kwDOCVq1mM4-__Ip",
        "user": {
            "login": "thoron",
            "id": 1374642,
            "node_id": "MDQ6VXNlcjEzNzQ2NDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1374642?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thoron",
            "html_url": "https://github.com/thoron",
            "followers_url": "https://api.github.com/users/thoron/followers",
            "following_url": "https://api.github.com/users/thoron/following{/other_user}",
            "gists_url": "https://api.github.com/users/thoron/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thoron/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thoron/subscriptions",
            "organizations_url": "https://api.github.com/users/thoron/orgs",
            "repos_url": "https://api.github.com/users/thoron/repos",
            "events_url": "https://api.github.com/users/thoron/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thoron/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-02T13:59:05Z",
        "updated_at": "2022-03-02T13:59:05Z",
        "author_association": "CONTRIBUTOR",
        "body": "I close this issue as the official package now supports TensorRT",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1056961065/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]