[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1214408589",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/12576#issuecomment-1214408589",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/12576",
        "id": 1214408589,
        "node_id": "IC_kwDOCVq1mM5IYmeN",
        "user": {
            "login": "yufenglee",
            "id": 30486710,
            "node_id": "MDQ6VXNlcjMwNDg2NzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yufenglee",
            "html_url": "https://github.com/yufenglee",
            "followers_url": "https://api.github.com/users/yufenglee/followers",
            "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
            "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
            "organizations_url": "https://api.github.com/users/yufenglee/orgs",
            "repos_url": "https://api.github.com/users/yufenglee/repos",
            "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yufenglee/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-14T16:14:45Z",
        "updated_at": "2022-08-14T16:14:45Z",
        "author_association": "MEMBER",
        "body": "quantization also saves model file and the external files in the same directory. location specifies the external file name under the same directory as the model file.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1214408589/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1222391570",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/12576#issuecomment-1222391570",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/12576",
        "id": 1222391570,
        "node_id": "IC_kwDOCVq1mM5I3DcS",
        "user": {
            "login": "JingyaHuang",
            "id": 44135271,
            "node_id": "MDQ6VXNlcjQ0MTM1Mjcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/44135271?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JingyaHuang",
            "html_url": "https://github.com/JingyaHuang",
            "followers_url": "https://api.github.com/users/JingyaHuang/followers",
            "following_url": "https://api.github.com/users/JingyaHuang/following{/other_user}",
            "gists_url": "https://api.github.com/users/JingyaHuang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JingyaHuang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JingyaHuang/subscriptions",
            "organizations_url": "https://api.github.com/users/JingyaHuang/orgs",
            "repos_url": "https://api.github.com/users/JingyaHuang/repos",
            "events_url": "https://api.github.com/users/JingyaHuang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JingyaHuang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-22T13:50:06Z",
        "updated_at": "2022-08-22T13:50:06Z",
        "author_association": "NONE",
        "body": "Hi @yufenglee,\r\n\r\nThanks for the explanation! After further debugging, it turns out that the reason why the external data was put outside of the folder where stores the model proto comes from the fact that our `output_path` is a PosixPath object and [`onnx._get_file_path`](https://github.com/onnx/onnx/blob/e6547e8b41578c766dd2ccf298a01b2b1b6335cd/onnx/__init__.py#L50-L56) return `os.path.abspath(f.name)` instead of `os.path.abspath(f)` which remove the folder from the path. \r\n\r\n\r\nOut of curiosity, is there any particular reasons that quantization add additional lines for saving the external tensors instead of using the [flags `location` and `save_as_external_data`](https://github.com/onnx/onnx/blob/main/onnx/__init__.py#L194) of `onnx.save_model` directly? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1222391570/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]