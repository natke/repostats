[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1590230102",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16301#issuecomment-1590230102",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16301",
        "id": 1590230102,
        "node_id": "IC_kwDOCVq1mM5eyPxW",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-14T00:06:09Z",
        "updated_at": "2023-06-14T00:21:49Z",
        "author_association": "MEMBER",
        "body": "The reason is that our Java code does not implement for string tensors.\r\n\r\nThe data is serialized to a single BASE64 strings for non-string tensors, and will pass as a string array for string tensors.\r\nhttps://github.com/microsoft/onnxruntime/blob/2cb3fb18b5f168550ccfb607286b4f42750a76e6/js/react_native/lib/backend.ts#L112-L118\r\n\r\nTo support string tensors, need to add code to handle them in OnnxruntimeModule.java",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1590230102/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1590240130",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16301#issuecomment-1590240130",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16301",
        "id": 1590240130,
        "node_id": "IC_kwDOCVq1mM5eySOC",
        "user": {
            "login": "YUNQIUGUO",
            "id": 35738743,
            "node_id": "MDQ6VXNlcjM1NzM4NzQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/35738743?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/YUNQIUGUO",
            "html_url": "https://github.com/YUNQIUGUO",
            "followers_url": "https://api.github.com/users/YUNQIUGUO/followers",
            "following_url": "https://api.github.com/users/YUNQIUGUO/following{/other_user}",
            "gists_url": "https://api.github.com/users/YUNQIUGUO/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/YUNQIUGUO/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/YUNQIUGUO/subscriptions",
            "organizations_url": "https://api.github.com/users/YUNQIUGUO/orgs",
            "repos_url": "https://api.github.com/users/YUNQIUGUO/repos",
            "events_url": "https://api.github.com/users/YUNQIUGUO/events{/privacy}",
            "received_events_url": "https://api.github.com/users/YUNQIUGUO/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-14T00:16:45Z",
        "updated_at": "2023-06-14T00:16:45Z",
        "author_association": "MEMBER",
        "body": "ah okay. I see. sorry about the confusion. I deleted the referenced e2e example.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1590240130/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1590246540",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16301#issuecomment-1590246540",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16301",
        "id": 1590246540,
        "node_id": "IC_kwDOCVq1mM5eyTyM",
        "user": {
            "login": "mono0218",
            "id": 81796635,
            "node_id": "MDQ6VXNlcjgxNzk2NjM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/81796635?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mono0218",
            "html_url": "https://github.com/mono0218",
            "followers_url": "https://api.github.com/users/mono0218/followers",
            "following_url": "https://api.github.com/users/mono0218/following{/other_user}",
            "gists_url": "https://api.github.com/users/mono0218/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mono0218/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mono0218/subscriptions",
            "organizations_url": "https://api.github.com/users/mono0218/orgs",
            "repos_url": "https://api.github.com/users/mono0218/repos",
            "events_url": "https://api.github.com/users/mono0218/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mono0218/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-14T00:25:27Z",
        "updated_at": "2023-06-14T00:30:09Z",
        "author_association": "NONE",
        "body": "> > FYI: Looks like the error message comes from here:\r\n> > https://github.com/microsoft/onnxruntime/blob/c8bd34f9750ebc0cbd2443a90ad06a647ea5c203/js/react_native/android/src/main/java/ai/onnxruntime/reactnative/OnnxruntimeModule.java#L227-L238\r\n> > \r\n> > You may want to provide the input as a base64 encoded type string for now.\r\n> > Here's an example usage in react_native/e2e test app as a reference: (in constructing a Float32Array type though)\r\n> > https://github.com/microsoft/onnxruntime/blob/2cb3fb18b5f168550ccfb607286b4f42750a76e6/js/react_native/e2e/src/App.tsx#L58-L69\r\n> \r\n> please don't refer to this example. The e2e test uses Java code to generate BASE64 encoded string for the data (`mnistInput[key].data`) and the JavaScript code tries to decode it to generate a raw buffer.\r\n> \r\n> For normal users who consumes `onnxruntime-react-native` package, the BASE64 encoding/decoding is transparent to users and we do not expect users to write code in this way.\r\n> \r\n> Users should write code normally, for example:\r\n> \r\n> ```js\r\n> const tensorData = Float32Array.from([1.0, 2.0, 3.0, 4.0]);\r\n> const myTensor = new Tensor('float32', tensorData, [2, 2]);\r\n> ```\r\n> \r\n> The only reason why the error \"Error: Non string type of a tensor data is not allowed\" happen is because string tensor support is not implemented in OnnxruntimeModule.java. The error message is a little bit confusing.\r\n\r\nThanks for the reply.\r\nI was able to infer successfully by deleting the if syntax from line 227 of OnnxruntimeModule.java.\r\n\r\nThis means that I can infer even with strings.\r\nPerhaps the if syntax needs to allow arrays as well!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1590246540/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1590252052",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16301#issuecomment-1590252052",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16301",
        "id": 1590252052,
        "node_id": "IC_kwDOCVq1mM5eyVIU",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-14T00:33:23Z",
        "updated_at": "2023-06-14T00:33:23Z",
        "author_association": "MEMBER",
        "body": "thank you for the verification. I didn't realize that creating string tensor is already implemented in https://github.com/microsoft/onnxruntime/blob/c8bd34f9750ebc0cbd2443a90ad06a647ea5c203/js/react_native/android/src/main/java/ai/onnxruntime/reactnative/TensorHelper.java#L63-L69\r\n\r\nyes, we need to change this line to support Array type as well.\r\n```\r\nif (inputMap.getType(\"data\") != ReadableType.String)\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1590252052/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1590268650",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16301#issuecomment-1590268650",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16301",
        "id": 1590268650,
        "node_id": "IC_kwDOCVq1mM5eyZLq",
        "user": {
            "login": "mono0218",
            "id": 81796635,
            "node_id": "MDQ6VXNlcjgxNzk2NjM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/81796635?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mono0218",
            "html_url": "https://github.com/mono0218",
            "followers_url": "https://api.github.com/users/mono0218/followers",
            "following_url": "https://api.github.com/users/mono0218/following{/other_user}",
            "gists_url": "https://api.github.com/users/mono0218/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mono0218/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mono0218/subscriptions",
            "organizations_url": "https://api.github.com/users/mono0218/orgs",
            "repos_url": "https://api.github.com/users/mono0218/repos",
            "events_url": "https://api.github.com/users/mono0218/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mono0218/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-14T00:59:12Z",
        "updated_at": "2023-06-14T00:59:12Z",
        "author_association": "NONE",
        "body": "Pull request submitted.[URL](https://github.com/microsoft/onnxruntime/pull/16348)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1590268650/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]