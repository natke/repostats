[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1006792449",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10196#issuecomment-1006792449",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10196",
        "id": 1006792449,
        "node_id": "IC_kwDOCVq1mM48Am8B",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-06T17:51:35Z",
        "updated_at": "2022-01-06T17:51:35Z",
        "author_association": "MEMBER",
        "body": "It seems that GPT-Neo uses local causal self attention which is a sliding window where each token can only attend to the previous window_size tokens. Our attention CUDA kernel accepts 4D mask (Bx1xMxM) like in Megatron, where M is the max sequence length. \r\n\r\nI think optimization for GPT-Neo could adopt such approach. The optimized graph might be similar to GPT-2 model with 4D mask input. For optimization, need modify graph [fusion tool](https://github.com/microsoft/onnxruntime/tree/master/onnxruntime/python/tools/transformers), and see fusion fusion_gpt_attention.py for example. For more information, see [dev guide](https://github.com/microsoft/onnxruntime/blob/master/onnxruntime/python/tools/transformers/Dev_Guide.md)\r\n\r\nContributions are welcome.\r\n\r\n\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1006792449/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1013694431",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10196#issuecomment-1013694431",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10196",
        "id": 1013694431,
        "node_id": "IC_kwDOCVq1mM48a7_f",
        "user": {
            "login": "isgursoy",
            "id": 2170245,
            "node_id": "MDQ6VXNlcjIxNzAyNDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2170245?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isgursoy",
            "html_url": "https://github.com/isgursoy",
            "followers_url": "https://api.github.com/users/isgursoy/followers",
            "following_url": "https://api.github.com/users/isgursoy/following{/other_user}",
            "gists_url": "https://api.github.com/users/isgursoy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isgursoy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isgursoy/subscriptions",
            "organizations_url": "https://api.github.com/users/isgursoy/orgs",
            "repos_url": "https://api.github.com/users/isgursoy/repos",
            "events_url": "https://api.github.com/users/isgursoy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isgursoy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-15T14:49:10Z",
        "updated_at": "2022-01-15T14:49:10Z",
        "author_association": "NONE",
        "body": "following",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1013694431/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1102883826",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10196#issuecomment-1102883826",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10196",
        "id": 1102883826,
        "node_id": "IC_kwDOCVq1mM5BvKvy",
        "user": {
            "login": "peterwilli",
            "id": 1212814,
            "node_id": "MDQ6VXNlcjEyMTI4MTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1212814?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/peterwilli",
            "html_url": "https://github.com/peterwilli",
            "followers_url": "https://api.github.com/users/peterwilli/followers",
            "following_url": "https://api.github.com/users/peterwilli/following{/other_user}",
            "gists_url": "https://api.github.com/users/peterwilli/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/peterwilli/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/peterwilli/subscriptions",
            "organizations_url": "https://api.github.com/users/peterwilli/orgs",
            "repos_url": "https://api.github.com/users/peterwilli/repos",
            "events_url": "https://api.github.com/users/peterwilli/events{/privacy}",
            "received_events_url": "https://api.github.com/users/peterwilli/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-04-19T17:02:52Z",
        "updated_at": "2022-04-19T17:02:52Z",
        "author_association": "NONE",
        "body": "I currently run GPT-Neo in ONNX, it took me a lot of time to get it running, and the source files are in this repo: https://github.com/peterwilli/Endless-AWSW/blob/main/EndlessServer/src/onnx_model_manager.py#L52\r\n\r\nIf anyone's interested I could try to make it more generic, I'm already planning to make a video about all the changes I made as soon as my project has reached a stable status (and is out of the research phase).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1102883826/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1180245874",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10196#issuecomment-1180245874",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10196",
        "id": 1180245874,
        "node_id": "IC_kwDOCVq1mM5GWR9y",
        "user": {
            "login": "CrazyPython",
            "id": 2363105,
            "node_id": "MDQ6VXNlcjIzNjMxMDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2363105?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/CrazyPython",
            "html_url": "https://github.com/CrazyPython",
            "followers_url": "https://api.github.com/users/CrazyPython/followers",
            "following_url": "https://api.github.com/users/CrazyPython/following{/other_user}",
            "gists_url": "https://api.github.com/users/CrazyPython/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/CrazyPython/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/CrazyPython/subscriptions",
            "organizations_url": "https://api.github.com/users/CrazyPython/orgs",
            "repos_url": "https://api.github.com/users/CrazyPython/repos",
            "events_url": "https://api.github.com/users/CrazyPython/events{/privacy}",
            "received_events_url": "https://api.github.com/users/CrazyPython/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-07-11T10:50:06Z",
        "updated_at": "2022-07-11T10:50:06Z",
        "author_association": "NONE",
        "body": "@peterwilli I'd be interested to see this be made more generic, ideally adaptable to GPT-J.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1180245874/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]