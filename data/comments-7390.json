[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/825076135",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7390#issuecomment-825076135",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7390",
        "id": 825076135,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgyNTA3NjEzNQ==",
        "user": {
            "login": "mrry",
            "id": 192142,
            "node_id": "MDQ6VXNlcjE5MjE0Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/192142?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrry",
            "html_url": "https://github.com/mrry",
            "followers_url": "https://api.github.com/users/mrry/followers",
            "following_url": "https://api.github.com/users/mrry/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrry/subscriptions",
            "organizations_url": "https://api.github.com/users/mrry/orgs",
            "repos_url": "https://api.github.com/users/mrry/repos",
            "events_url": "https://api.github.com/users/mrry/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrry/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-22T18:13:29Z",
        "updated_at": "2021-04-22T18:13:29Z",
        "author_association": "CONTRIBUTOR",
        "body": "When you run a model on GPU, this view can be confusing, because the \"kernel_time\" only covers launching the corresponding kernel asynchronously on the GPU. The kernel itself \"completes\" and does not wait for the code to actually execute on the GPU. \r\n\r\nHowever, I would guess that your code is fetching the result of the convolution back to the CPU as one of the `Run()` call arguments. To do this, the CPU must copy the result from GPU to CPU, and that copy cannot start until the producing code (i.e. the CUDA kernel for convolution) finishes on the GPU.\r\n\r\nSo the \"empty\" space in the profile under \"model_run\" is mostly spent waiting on the Conv computation and then the GPU-to-CPU copy to complete. If you visualize the execution with a profiler like [nvvp](https://developer.nvidia.com/nvidia-visual-profiler) you would see extra events corresponding to this work on the GPU's streams. (There is also work underway to integrate this information into the ONNX Runtime profiler view.)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/825076135/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/828539339",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7390#issuecomment-828539339",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7390",
        "id": 828539339,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgyODUzOTMzOQ==",
        "user": {
            "login": "mrry",
            "id": 192142,
            "node_id": "MDQ6VXNlcjE5MjE0Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/192142?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrry",
            "html_url": "https://github.com/mrry",
            "followers_url": "https://api.github.com/users/mrry/followers",
            "following_url": "https://api.github.com/users/mrry/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrry/subscriptions",
            "organizations_url": "https://api.github.com/users/mrry/orgs",
            "repos_url": "https://api.github.com/users/mrry/repos",
            "events_url": "https://api.github.com/users/mrry/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrry/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-28T15:14:39Z",
        "updated_at": "2021-04-28T15:14:39Z",
        "author_association": "CONTRIBUTOR",
        "body": "I'm going to close this issue, since I think I've answered the question, but please feel free to reopen if it seems to be a different issue!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/828539339/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/905249670",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7390#issuecomment-905249670",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7390",
        "id": 905249670,
        "node_id": "IC_kwDOCVq1mM419QOG",
        "user": {
            "login": "hyt589",
            "id": 31054388,
            "node_id": "MDQ6VXNlcjMxMDU0Mzg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/31054388?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hyt589",
            "html_url": "https://github.com/hyt589",
            "followers_url": "https://api.github.com/users/hyt589/followers",
            "following_url": "https://api.github.com/users/hyt589/following{/other_user}",
            "gists_url": "https://api.github.com/users/hyt589/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hyt589/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hyt589/subscriptions",
            "organizations_url": "https://api.github.com/users/hyt589/orgs",
            "repos_url": "https://api.github.com/users/hyt589/repos",
            "events_url": "https://api.github.com/users/hyt589/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hyt589/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-25T07:22:12Z",
        "updated_at": "2021-08-25T07:22:12Z",
        "author_association": "NONE",
        "body": "Is this documented any where?\r\n\r\n> When you run a model on GPU, this view can be confusing, because the \"kernel_time\" only covers launching the corresponding kernel asynchronously on the GPU. The kernel itself \"completes\" and does not wait for the code to actually execute on the GPU.\r\n> \r\n> However, I would guess that your code is fetching the result of the convolution back to the CPU as one of the `Run()` call arguments. To do this, the CPU must copy the result from GPU to CPU, and that copy cannot start until the producing code (i.e. the CUDA kernel for convolution) finishes on the GPU.\r\n> \r\n> So the \"empty\" space in the profile under \"model_run\" is mostly spent waiting on the Conv computation and then the GPU-to-CPU copy to complete. If you visualize the execution with a profiler like [nvvp](https://developer.nvidia.com/nvidia-visual-profiler) you would see extra events corresponding to this work on the GPU's streams. (There is also work underway to integrate this information into the ONNX Runtime profiler view.)\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/905249670/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]