[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/631004911",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-631004911",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 631004911,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTAwNDkxMQ==",
        "user": {
            "login": "faxu",
            "id": 20780999,
            "node_id": "MDQ6VXNlcjIwNzgwOTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/20780999?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/faxu",
            "html_url": "https://github.com/faxu",
            "followers_url": "https://api.github.com/users/faxu/followers",
            "following_url": "https://api.github.com/users/faxu/following{/other_user}",
            "gists_url": "https://api.github.com/users/faxu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/faxu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/faxu/subscriptions",
            "organizations_url": "https://api.github.com/users/faxu/orgs",
            "repos_url": "https://api.github.com/users/faxu/repos",
            "events_url": "https://api.github.com/users/faxu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/faxu/received_events",
            "type": "User",
            "site_admin": true
        },
        "created_at": "2020-05-19T18:36:31Z",
        "updated_at": "2020-05-19T18:36:31Z",
        "author_association": "MEMBER",
        "body": "Are you planning to use the Python API for ORT or C++?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/631004911/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/631159337",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-631159337",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 631159337,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTE1OTMzNw==",
        "user": {
            "login": "Karnav123",
            "id": 36244620,
            "node_id": "MDQ6VXNlcjM2MjQ0NjIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/36244620?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Karnav123",
            "html_url": "https://github.com/Karnav123",
            "followers_url": "https://api.github.com/users/Karnav123/followers",
            "following_url": "https://api.github.com/users/Karnav123/following{/other_user}",
            "gists_url": "https://api.github.com/users/Karnav123/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Karnav123/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Karnav123/subscriptions",
            "organizations_url": "https://api.github.com/users/Karnav123/orgs",
            "repos_url": "https://api.github.com/users/Karnav123/repos",
            "events_url": "https://api.github.com/users/Karnav123/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Karnav123/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-20T00:17:35Z",
        "updated_at": "2020-05-20T08:13:42Z",
        "author_association": "NONE",
        "body": "@faxu I need to use C++ APIs for ORT.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/631159337/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/631934551",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-631934551",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 631934551,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTkzNDU1MQ==",
        "user": {
            "login": "Karnav123",
            "id": 36244620,
            "node_id": "MDQ6VXNlcjM2MjQ0NjIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/36244620?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Karnav123",
            "html_url": "https://github.com/Karnav123",
            "followers_url": "https://api.github.com/users/Karnav123/followers",
            "following_url": "https://api.github.com/users/Karnav123/following{/other_user}",
            "gists_url": "https://api.github.com/users/Karnav123/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Karnav123/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Karnav123/subscriptions",
            "organizations_url": "https://api.github.com/users/Karnav123/orgs",
            "repos_url": "https://api.github.com/users/Karnav123/repos",
            "events_url": "https://api.github.com/users/Karnav123/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Karnav123/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-21T07:34:47Z",
        "updated_at": "2020-05-21T07:34:47Z",
        "author_association": "NONE",
        "body": "> Are you planning to use the Python API for ORT or C++?\n\nI need to use C++ APIs.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/631934551/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/632263704",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-632263704",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 632263704,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjI2MzcwNA==",
        "user": {
            "login": "prabhat00155",
            "id": 7043157,
            "node_id": "MDQ6VXNlcjcwNDMxNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7043157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabhat00155",
            "html_url": "https://github.com/prabhat00155",
            "followers_url": "https://api.github.com/users/prabhat00155/followers",
            "following_url": "https://api.github.com/users/prabhat00155/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabhat00155/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabhat00155/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabhat00155/subscriptions",
            "organizations_url": "https://api.github.com/users/prabhat00155/orgs",
            "repos_url": "https://api.github.com/users/prabhat00155/repos",
            "events_url": "https://api.github.com/users/prabhat00155/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabhat00155/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-21T18:17:15Z",
        "updated_at": "2020-05-21T18:17:15Z",
        "author_association": "CONTRIBUTOR",
        "body": "Have you looked at this: https://github.com/microsoft/onnxruntime/blob/59af3ea278238b9f92cb9793533a61490a019797/csharp/test/Microsoft.ML.OnnxRuntime.EndToEndTests.Capi/C_Api_Sample.cpp#L135\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/632263704/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/632511151",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-632511151",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 632511151,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjUxMTE1MQ==",
        "user": {
            "login": "Karnav123",
            "id": 36244620,
            "node_id": "MDQ6VXNlcjM2MjQ0NjIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/36244620?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Karnav123",
            "html_url": "https://github.com/Karnav123",
            "followers_url": "https://api.github.com/users/Karnav123/followers",
            "following_url": "https://api.github.com/users/Karnav123/following{/other_user}",
            "gists_url": "https://api.github.com/users/Karnav123/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Karnav123/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Karnav123/subscriptions",
            "organizations_url": "https://api.github.com/users/Karnav123/orgs",
            "repos_url": "https://api.github.com/users/Karnav123/repos",
            "events_url": "https://api.github.com/users/Karnav123/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Karnav123/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-22T06:23:58Z",
        "updated_at": "2020-05-22T06:23:58Z",
        "author_association": "NONE",
        "body": "> Have you looked at this:\r\n> \r\n> https://github.com/microsoft/onnxruntime/blob/59af3ea278238b9f92cb9793533a61490a019797/csharp/test/Microsoft.ML.OnnxRuntime.EndToEndTests.Capi/C_Api_Sample.cpp#L135\r\n\r\nI have looked into this but I am looking for some examples of traditional ML models on tabular data such as \"Titanic\".",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/632511151/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/632588456",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-632588456",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 632588456,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjU4ODQ1Ng==",
        "user": {
            "login": "prabhat00155",
            "id": 7043157,
            "node_id": "MDQ6VXNlcjcwNDMxNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7043157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabhat00155",
            "html_url": "https://github.com/prabhat00155",
            "followers_url": "https://api.github.com/users/prabhat00155/followers",
            "following_url": "https://api.github.com/users/prabhat00155/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabhat00155/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabhat00155/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabhat00155/subscriptions",
            "organizations_url": "https://api.github.com/users/prabhat00155/orgs",
            "repos_url": "https://api.github.com/users/prabhat00155/repos",
            "events_url": "https://api.github.com/users/prabhat00155/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabhat00155/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-22T09:14:28Z",
        "updated_at": "2020-05-22T09:14:28Z",
        "author_association": "CONTRIBUTOR",
        "body": "Even for tabular data, you would have a vector of a specific shape(M x N), similar to input_tensor_values above. Then, you could use CreateTensorWithDataAsOrtValue() to create input tensor from your vector, passing input_node_dims set to [1, M, N] and dim_len = 3.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/632588456/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/633835273",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-633835273",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 633835273,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzMzgzNTI3Mw==",
        "user": {
            "login": "Karnav123",
            "id": 36244620,
            "node_id": "MDQ6VXNlcjM2MjQ0NjIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/36244620?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Karnav123",
            "html_url": "https://github.com/Karnav123",
            "followers_url": "https://api.github.com/users/Karnav123/followers",
            "following_url": "https://api.github.com/users/Karnav123/following{/other_user}",
            "gists_url": "https://api.github.com/users/Karnav123/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Karnav123/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Karnav123/subscriptions",
            "organizations_url": "https://api.github.com/users/Karnav123/orgs",
            "repos_url": "https://api.github.com/users/Karnav123/repos",
            "events_url": "https://api.github.com/users/Karnav123/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Karnav123/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-26T06:37:38Z",
        "updated_at": "2020-05-26T09:54:38Z",
        "author_association": "NONE",
        "body": "> Even for tabular data, you would have a vector of a specific shape(M x N), similar to input_tensor_values above. Then, you could use CreateTensorWithDataAsOrtValue() to create input tensor from your vector, passing input_node_dims set to [1, M, N] and dim_len = 3.\r\n\r\n@prabhat00155 I am trying to use the titanic dataset (https://www.kaggle.com/c/titanic/data?select=train.csv). It has a mixed type of columns (int, float, string) that I have handled in the model pipeline. In python onnxruntime it is easier as it supports mixed types.\r\n\r\nIs it possible to do it in C++? I am trying to do it but not succeeded yet. If possible could you give me some similar reference?\r\nI am trying to do something like üëç \r\n```\r\nsize_t input_tensor_size = 2 * 5;  // simplify ... using known dim values to calculate size\r\n\t\t\t\t\t\t\t\t\t\t\t   // use OrtGetTensorShapeElementCount() to get official size!\r\n\r\n\tstd::vector<std::string> input_tensor_values = { \"3\", \"female\", \"1.0\", \"15.7417\", \"C\", \"2\",    \"male\",  \"18.0\",  \"13.0000\"};\r\n\tstd::vector<const char*> output_node_names = { \"softmaxout_1\" };\r\n\r\n\t// initialize input data with values in [0.0, 1.0]\r\n\t/*for (unsigned int i = 0; i < input_tensor_size; i++)\r\n\t\tinput_tensor_values[i] = (float)i / (input_tensor_size + 1);*/\r\n\r\n\t// create input tensor object from data values\r\n\tauto memory_info = Ort::MemoryInfo::CreateCpu(OrtArenaAllocator, OrtMemTypeDefault);\r\n\tOrt::Value input_tensor = Ort::Value::CreateTensor<std::string>(memory_info, input_tensor_values.data(), input_tensor_size, input_node_dims.data(), 5);\r\n\tassert(input_tensor.IsTensor());\r\n```\r\nBut it is giving error in compilation Severity\tCode\tDescription\tProject\tFile\tLine\tSuppression State\r\nError\tC2027\tuse of undefined type 'Ort::TypeToTensorType<T>'\tOnnxTest\tD:\\download\\onnx\\OnnxTest\\OnnxTest\\packages\\Microsoft.ML.OnnxRuntime.1.2.0\\build\\native\\include\\onnxruntime_cxx_inline.h\t393\t\r\n``\r\nDo we need to use \r\n```\r\ninline Value Value::CreateMap(Value& keys, Value& values) {\r\n  OrtValue* out;\r\n  OrtValue* inputs[2] = {keys, values};\r\n  ThrowOnError(Global<void>::api_.CreateValue(inputs, 2, ONNX_TYPE_MAP, &out));\r\n  return Value{out};\r\n} \r\n```\r\nfor this case",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/633835273/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/634681926",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-634681926",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 634681926,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNDY4MTkyNg==",
        "user": {
            "login": "Karnav123",
            "id": 36244620,
            "node_id": "MDQ6VXNlcjM2MjQ0NjIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/36244620?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Karnav123",
            "html_url": "https://github.com/Karnav123",
            "followers_url": "https://api.github.com/users/Karnav123/followers",
            "following_url": "https://api.github.com/users/Karnav123/following{/other_user}",
            "gists_url": "https://api.github.com/users/Karnav123/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Karnav123/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Karnav123/subscriptions",
            "organizations_url": "https://api.github.com/users/Karnav123/orgs",
            "repos_url": "https://api.github.com/users/Karnav123/repos",
            "events_url": "https://api.github.com/users/Karnav123/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Karnav123/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-27T14:02:14Z",
        "updated_at": "2020-05-27T14:02:14Z",
        "author_association": "NONE",
        "body": "@prabhat00155 @faxu Please provide some guidance in this issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/634681926/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635210484",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-635210484",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 635210484,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTIxMDQ4NA==",
        "user": {
            "login": "prabhat00155",
            "id": 7043157,
            "node_id": "MDQ6VXNlcjcwNDMxNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7043157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabhat00155",
            "html_url": "https://github.com/prabhat00155",
            "followers_url": "https://api.github.com/users/prabhat00155/followers",
            "following_url": "https://api.github.com/users/prabhat00155/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabhat00155/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabhat00155/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabhat00155/subscriptions",
            "organizations_url": "https://api.github.com/users/prabhat00155/orgs",
            "repos_url": "https://api.github.com/users/prabhat00155/repos",
            "events_url": "https://api.github.com/users/prabhat00155/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabhat00155/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-28T08:52:31Z",
        "updated_at": "2020-05-28T08:52:31Z",
        "author_association": "CONTRIBUTOR",
        "body": "I see, your challenge is supporting mixed type in your ONNX model.\r\nLets take an example, a data frame with int and float features:\r\n```\r\ndf = pd.DataFrame({'age': [23, 24, 30, 50, 70],\r\n                    'balance': [100.23, 123.43, 111.11, 123.09, 222.2]})\r\nlabels = np.array([0, 1, 1, 0, 1])\r\nmodel = Pipeline([('ct', ColumnTransformer([('scaler', StandardScaler(), ['age'])], remainder='passthrough')),\r\n    ('mlp', MLPClassifier())])\r\nmodel.fit(df, labels)\r\n```\r\nTo convert this to ONNX, I would do the following(set two inputs):\r\n```\r\nonnx_fs = convert_sklearn(model, 'mlp',\r\n                          [('age', Int64TensorType([None, 1])),\r\n                          ('balance', FloatTensorType([None, 1]))])\r\nsave_model(onnx_fs, 'mlp.onnx')\r\n```\r\nTo score this model in Python, you could do this:\r\n```\r\nsess = InferenceSession('mlp.onnx')\r\nres = sess.run('', input_feed={'age': df['age'].values.reshape((-1, 1)).astype(np.int64),\r\n                               'balance': df['balance'].values.reshape((-1, 1)).astype(np.float32)})\r\n```\r\nIn C++, we need to create separate tensors for the inputs and put them all in an array before passing the array to Run().\r\n```\r\nstd::vector<int64_t> age = {23, 24, 30, 50, 70};\r\nstd::vector<float> balance = {100.23, 123.43, 111.11, 123.09, 222.2};\r\nstd::vector<const char*> output_node_names = {\"output_label\", \"output_probability\"};\r\n\r\nauto memory_info = Ort::MemoryInfo::CreateCpu(OrtArenaAllocator, OrtMemTypeDefault);\r\nOrt::Value age_tensor = Ort::Value::CreateTensor<int64_t>(memory_info, age.data(), age.size(), input_dims.data(), 2); \r\nOrt::Value balance_tensor = Ort::Value::CreateTensor<float>(memory_info, balance.data(), balance.size(), input_dims.data(), 2); \r\nOrt::Value input_tensor[] = {std::move(age_tensor), std::move(balance_tensor)};\r\n\r\nauto output_tensors = session.Run(Ort::RunOptions{nullptr}, input_node_names.data(), input_tensor, 2, output_node_names.data(), 2); \r\n```\r\nIf you have string features, you'll have to use the C API FillStringTensor().",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635210484/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635795742",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-635795742",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 635795742,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTc5NTc0Mg==",
        "user": {
            "login": "Karnav123",
            "id": 36244620,
            "node_id": "MDQ6VXNlcjM2MjQ0NjIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/36244620?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Karnav123",
            "html_url": "https://github.com/Karnav123",
            "followers_url": "https://api.github.com/users/Karnav123/followers",
            "following_url": "https://api.github.com/users/Karnav123/following{/other_user}",
            "gists_url": "https://api.github.com/users/Karnav123/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Karnav123/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Karnav123/subscriptions",
            "organizations_url": "https://api.github.com/users/Karnav123/orgs",
            "repos_url": "https://api.github.com/users/Karnav123/repos",
            "events_url": "https://api.github.com/users/Karnav123/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Karnav123/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T06:53:17Z",
        "updated_at": "2020-05-29T06:54:13Z",
        "author_association": "NONE",
        "body": "> I see, your challenge is supporting mixed type in your ONNX model.\r\n> Lets take an example, a data frame with int and float features:\r\n> \r\n> ```\r\n> df = pd.DataFrame({'age': [23, 24, 30, 50, 70],\r\n>                     'balance': [100.23, 123.43, 111.11, 123.09, 222.2]})\r\n> labels = np.array([0, 1, 1, 0, 1])\r\n> model = Pipeline([('ct', ColumnTransformer([('scaler', StandardScaler(), ['age'])], remainder='passthrough')),\r\n>     ('mlp', MLPClassifier())])\r\n> model.fit(df, labels)\r\n> ```\r\n> \r\n> To convert this to ONNX, I would do the following(set two inputs):\r\n> \r\n> ```\r\n> onnx_fs = convert_sklearn(model, 'mlp',\r\n>                           [('age', Int64TensorType([None, 1])),\r\n>                           ('balance', FloatTensorType([None, 1]))])\r\n> save_model(onnx_fs, 'mlp.onnx')\r\n> ```\r\n> \r\n> To score this model in Python, you could do this:\r\n> \r\n> ```\r\n> sess = InferenceSession('mlp.onnx')\r\n> res = sess.run('', input_feed={'age': df['age'].values.reshape((-1, 1)).astype(np.int64),\r\n>                                'balance': df['balance'].values.reshape((-1, 1)).astype(np.float32)})\r\n> ```\r\n> \r\n> In C++, we need to create separate tensors for the inputs and put them all in an array before passing the array to Run().\r\n> \r\n> ```\r\n> std::vector<int64_t> age = {23, 24, 30, 50, 70};\r\n> std::vector<float> balance = {100.23, 123.43, 111.11, 123.09, 222.2};\r\n> std::vector<const char*> output_node_names = {\"output_label\", \"output_probability\"};\r\n> \r\n> auto memory_info = Ort::MemoryInfo::CreateCpu(OrtArenaAllocator, OrtMemTypeDefault);\r\n> Ort::Value age_tensor = Ort::Value::CreateTensor<int64_t>(memory_info, age.data(), age.size(), input_dims.data(), 2); \r\n> Ort::Value balance_tensor = Ort::Value::CreateTensor<float>(memory_info, balance.data(), balance.size(), input_dims.data(), 2); \r\n> Ort::Value input_tensor[] = {std::move(age_tensor), std::move(balance_tensor)};\r\n> \r\n> auto output_tensors = session.Run(Ort::RunOptions{nullptr}, input_node_names.data(), input_tensor, 2, output_node_names.data(), 2); \r\n> ```\r\n> \r\n> If you have string features, you'll have to use the C API FillStringTensor().\r\n\r\nI  am using following API to convert string to Tensor:\r\n```\r\nstd::vector<std::string> input_tensor_values_sex = { \"male\" , \"female\", \"male\"};\r\nOrt::Value input_tensor_sex = Ort::Value::CreateTensor(memory_info, input_tensor_values_sex.data(), input_tensor_size, input_dim.data(), 2, ONNXTensorElementDataType::ONNX_TENSOR_ELEMENT_DATA_TYPE_STRING);\r\n    assert(input_tensor_sex.IsTensor());\r\n```\r\nBut It seems it not correctly converting it to tensor. CreateTensor() API is asking \"p_data_byte_count\" as its third parameter. I think I am passing it a wrong value. I am not sure how to get the byte for array of string? Is it sum of bytes of individual elements?\r\n\r\nHowever, If this API cannot do the job then for FillStringTensor(), it also askes s_len. So what is this s_len in case of an array of string? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635795742/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635875349",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-635875349",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 635875349,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTg3NTM0OQ==",
        "user": {
            "login": "prabhat00155",
            "id": 7043157,
            "node_id": "MDQ6VXNlcjcwNDMxNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7043157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabhat00155",
            "html_url": "https://github.com/prabhat00155",
            "followers_url": "https://api.github.com/users/prabhat00155/followers",
            "following_url": "https://api.github.com/users/prabhat00155/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabhat00155/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabhat00155/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabhat00155/subscriptions",
            "organizations_url": "https://api.github.com/users/prabhat00155/orgs",
            "repos_url": "https://api.github.com/users/prabhat00155/repos",
            "events_url": "https://api.github.com/users/prabhat00155/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabhat00155/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T09:32:08Z",
        "updated_at": "2020-05-29T09:34:12Z",
        "author_association": "CONTRIBUTOR",
        "body": "Here is an example where I use string features as well:\r\n```\r\nmodel = Pipeline([('ct', ColumnTransformer([('ohe', OneHotEncoder(), ['gender'])], remainder='passthrough')),\r\n                        ('mlp', MLPClassifier())])\r\nmodel.fit(df, labels)\r\nonnx_fs = convert_sklearn(model, 'mlp',\r\n                          [('age', Int64TensorType([None, 1])),\r\n                          ('gender', StringTensorType([None, 1])),\r\n                          ('balance', FloatTensorType([None, 1]))])\r\nsave_model(onnx_fs, 'mlp.onnx')\r\n```\r\nHere is how I would do inferencing in C++:\r\n```\r\nstd::vector<int64_t> age = {23, 24, 30, 50, 70};\r\nconst char* gender[5] = {\"male\", \"female\", \"male\", \"female\", \"male\"};\r\nstd::vector<float> balance = {100.23, 123.43, 111.11, 123.09, 222.2};                                                                    \r\n\r\nstd::vector<const char*> output_node_names = {\"output_label\", \"output_probability\"};                                                                                                                   \r\nstd::vector<int64_t> input_dims = {5, 1};\r\nauto memory_info = Ort::MemoryInfo::CreateCpu(OrtArenaAllocator, OrtMemTypeDefault);                                                     \r\nOrt::Value age_tensor = Ort::Value::CreateTensor<int64_t>(memory_info, age.data(), age.size(), input_dims.data(), 2);                    \r\nOrt::Value gender_tensor = Ort::Value::CreateTensor(allocator, input_dims.data(), input_dims.size(), ONNX_TENSOR_ELEMENT_DATA_TYPE_STRING);\r\nOrt::GetApi().FillStringTensor(static_cast<OrtValue*>(gender_tensor), gender, 5U);                                                       \r\nOrt::Value balance_tensor = Ort::Value::CreateTensor<float>(memory_info, balance.data(), balance.size(), input_dims.data(), 2);          \r\nOrt::Value input_tensor[] = {std::move(age_tensor), std::move(gender_tensor), std::move(balance_tensor)};                                \r\n\r\n// score model & input tensor, get back output tensor                                                                                    \r\nauto output_tensors = session.Run(Ort::RunOptions{nullptr}, input_node_names.data(), input_tensor, 3, output_node_names.data(), 2);      \r\nassert(output_tensors.size() == 2 && output_tensors.front().IsTensor());\r\n\r\nint64_t* labels = output_tensors[0].GetTensorMutableData<int64_t>();\r\nfor (int i = 0; i < 5; i++)\r\n{\r\n    std::cout << labels[i] << \"\\t\";\r\n}\r\n\r\n```\r\nFillStringTensor() takes the number of string elements as its final argument(I have array of size 5).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635875349/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635883523",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-635883523",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 635883523,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTg4MzUyMw==",
        "user": {
            "login": "Karnav123",
            "id": 36244620,
            "node_id": "MDQ6VXNlcjM2MjQ0NjIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/36244620?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Karnav123",
            "html_url": "https://github.com/Karnav123",
            "followers_url": "https://api.github.com/users/Karnav123/followers",
            "following_url": "https://api.github.com/users/Karnav123/following{/other_user}",
            "gists_url": "https://api.github.com/users/Karnav123/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Karnav123/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Karnav123/subscriptions",
            "organizations_url": "https://api.github.com/users/Karnav123/orgs",
            "repos_url": "https://api.github.com/users/Karnav123/repos",
            "events_url": "https://api.github.com/users/Karnav123/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Karnav123/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T09:51:10Z",
        "updated_at": "2020-05-29T09:51:10Z",
        "author_association": "NONE",
        "body": "> std::vector<int64_t> input_dims = {5, 1};\r\n\r\nThank you for your help.\r\nI did what you suggested i.e. I generated the data as:\r\n```\r\ndf = pd.DataFrame({'age': [23, 24, 30, 50, 70], 'gender': [\"male\", \"female\", \"male\", \"female\", \"male\"],\r\n                    'balance': [100.23, 123.43, 111.11, 123.09, 222.2]})\r\n```\r\nBut when I am trying to convert it to onnx format like:\r\n```\r\nfrom skl2onnx import convert_sklearn\r\nfrom skl2onnx.common.data_types import FloatTensorType, StringTensorType, Int64TensorType\r\nfrom winmltools.utils import save_model\r\nonnx_fs = convert_sklearn(model, 'mlp',\r\n                          [('age', Int64TensorType([None, 1])),\r\n                          ('gender', StringTensorType([None, 1])),\r\n                          ('balance', FloatTensorType([None, 1]))])\r\nsave_model(onnx_fs, 'mlp_string.onnx')\r\n```\r\nIt gives the error as;\r\n```\r\nRuntimeError: Columns must have the same type. C++ backends do not support mixed types. Inputs:\r\nVariable(raw_name='age', onnx_name='age', type=Int64TensorType(shape=[None, 1]))\r\nVariable(raw_name='balance', onnx_name='balance', type=FloatTensorType(shape=[None, 1]))\r\n```\r\nWhat is the mistake in code here? Do I need to handle it differently in c++?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635883523/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635885362",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-635885362",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 635885362,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTg4NTM2Mg==",
        "user": {
            "login": "prabhat00155",
            "id": 7043157,
            "node_id": "MDQ6VXNlcjcwNDMxNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7043157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabhat00155",
            "html_url": "https://github.com/prabhat00155",
            "followers_url": "https://api.github.com/users/prabhat00155/followers",
            "following_url": "https://api.github.com/users/prabhat00155/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabhat00155/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabhat00155/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabhat00155/subscriptions",
            "organizations_url": "https://api.github.com/users/prabhat00155/orgs",
            "repos_url": "https://api.github.com/users/prabhat00155/repos",
            "events_url": "https://api.github.com/users/prabhat00155/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabhat00155/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T09:55:19Z",
        "updated_at": "2020-05-29T09:55:57Z",
        "author_association": "CONTRIBUTOR",
        "body": "This issue is caused due to your skl2onnx version. You won't see this if you use master to build skl2onnx(or wait for the next version of skl2onnx). How did you create your titanic model? I think that has multiple inputs. You could use C++ inferencing code I posted to run inferencing on that model.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635885362/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635894186",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-635894186",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 635894186,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTg5NDE4Ng==",
        "user": {
            "login": "prabhat00155",
            "id": 7043157,
            "node_id": "MDQ6VXNlcjcwNDMxNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7043157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabhat00155",
            "html_url": "https://github.com/prabhat00155",
            "followers_url": "https://api.github.com/users/prabhat00155/followers",
            "following_url": "https://api.github.com/users/prabhat00155/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabhat00155/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabhat00155/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabhat00155/subscriptions",
            "organizations_url": "https://api.github.com/users/prabhat00155/orgs",
            "repos_url": "https://api.github.com/users/prabhat00155/repos",
            "events_url": "https://api.github.com/users/prabhat00155/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabhat00155/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T10:15:44Z",
        "updated_at": "2020-05-29T10:17:09Z",
        "author_association": "CONTRIBUTOR",
        "body": "Inferencing on the titanic ONNX model your shared:\r\n```\r\n const char* pclass[5] = {\"1\", \"2\", \"1\", \"2\", \"3\"};\r\n const char* sex[5] = {\"male\", \"female\", \"male\", \"female\", \"male\"};\r\n std::vector<float> age = {23, 24, 30, 50, 70};\r\n std::vector<float> fare= {110.23, 13.43, 113.11, 13.09, 5.2};\r\n const char* embarked[5]= {\"S\", \"C\", \"S\", \"S\", \"S\"};\r\n\r\n std::vector<const char*> output_node_names = {\"label\", \"probabilities\"};\r\n std::vector<int64_t> input_dims = {5, 1}; \r\n auto memory_info = Ort::MemoryInfo::CreateCpu(OrtArenaAllocator, OrtMemTypeDefault);\r\n\r\n Ort::Value pclass_tensor = Ort::Value::CreateTensor(allocator, input_dims.data(), input_dims.size(), ONNX_TENSOR_ELEMENT_DATA_TYPE_STRING);\r\n Ort::GetApi().FillStringTensor(static_cast<OrtValue*>(pclass_tensor), pclass, 5U);\r\n Ort::Value gender_tensor = Ort::Value::CreateTensor(allocator, input_dims.data(), input_dims.size(), ONNX_TENSOR_ELEMENT_DATA_TYPE_STRING);\r\n Ort::GetApi().FillStringTensor(static_cast<OrtValue*>(gender_tensor), sex, 5U);\r\n Ort::Value age_tensor = Ort::Value::CreateTensor<float>(memory_info, age.data(), age.size(), input_dims.data(), 2); \r\n Ort::Value fare_tensor = Ort::Value::CreateTensor<float>(memory_info, fare.data(), fare.size(), input_dims.data(), 2); \r\n Ort::Value embarked_tensor = Ort::Value::CreateTensor(allocator, input_dims.data(), input_dims.size(), ONNX_TENSOR_ELEMENT_DATA_TYPE_STRING);\r\n Ort::GetApi().FillStringTensor(static_cast<OrtValue*>(embarked_tensor), embarked, 5U);\r\n\r\n Ort::Value input_tensor[] = {std::move(pclass_tensor), std::move(gender_tensor), std::move(age_tensor), std::move(fare_tensor), std::move(embarked_tensor)};\r\n\r\n // score model & input tensor, get back output tensor\r\n auto output_tensors = session.Run(Ort::RunOptions{nullptr}, input_node_names.data(), input_tensor, 5, output_node_names.data(), 2); \r\n assert(output_tensors.size() == 2 && output_tensors.front().IsTensor());\r\n\r\n int64_t* labels = output_tensors[0].GetTensorMutableData<int64_t>();\r\n\r\n for (int i = 0; i < 5; i++)\r\n {\r\n    std::cout << labels[i] << std::endl;\r\n }\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635894186/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635895679",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-635895679",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 635895679,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTg5NTY3OQ==",
        "user": {
            "login": "Karnav123",
            "id": 36244620,
            "node_id": "MDQ6VXNlcjM2MjQ0NjIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/36244620?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Karnav123",
            "html_url": "https://github.com/Karnav123",
            "followers_url": "https://api.github.com/users/Karnav123/followers",
            "following_url": "https://api.github.com/users/Karnav123/following{/other_user}",
            "gists_url": "https://api.github.com/users/Karnav123/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Karnav123/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Karnav123/subscriptions",
            "organizations_url": "https://api.github.com/users/Karnav123/orgs",
            "repos_url": "https://api.github.com/users/Karnav123/repos",
            "events_url": "https://api.github.com/users/Karnav123/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Karnav123/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T10:19:27Z",
        "updated_at": "2020-05-29T10:19:27Z",
        "author_association": "NONE",
        "body": "> This issue is caused due to your skl2onnx version. You won't see this if you use master to build skl2onnx(or wait for the next version of skl2onnx). How did you create your titanic model? I think that has multiple inputs. You could use C++ inferencing code I posted to run inferencing on that model.\r\n\r\nMy code for th model is:\r\n```\r\ntitanic_url = ('https://raw.githubusercontent.com/amueller/'\r\n               'scipy-2017-sklearn/091d371/notebooks/datasets/titanic3.csv')\r\ndata = pd.read_csv(titanic_url)\r\nX = data.drop('survived', axis=1)\r\ny = data['survived']\r\n\r\n# SimpleImputer on string is not available for\r\n# string in ONNX-ML specifications.\r\n# So we do it beforehand.\r\nfor cat in ['embarked', 'sex', 'pclass']:\r\n    X[cat].fillna('missing', inplace=True)\r\n\r\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)\r\n\r\nnumeric_features = ['age', 'fare']\r\nnumeric_transformer = Pipeline(steps=[\r\n    ('imputer', SimpleImputer(strategy='median')),\r\n    ('scaler', StandardScaler())])\r\n\r\ncategorical_features = ['embarked', 'sex', 'pclass']\r\ncategorical_transformer = Pipeline(steps=[\r\n    # --- SimpleImputer is not available for strings in ONNX-ML specifications.\r\n    # ('imputer', SimpleImputer(strategy='constant', fill_value='missing')),\r\n    ('onehot', OneHotEncoder(handle_unknown='ignore'))])\r\n\r\npreprocessor = ColumnTransformer(\r\n    transformers=[\r\n        ('num', numeric_transformer, numeric_features),\r\n        ('cat', categorical_transformer, categorical_features),\r\n    ])\r\n\r\nclf = Pipeline(steps=[('preprocessor', preprocessor),\r\n('cls', XGBClassifier())])\r\n\r\nupdate_registered_converter(\r\n            XGBClassifier, 'XGClassifier',\r\n            calculate_linear_classifier_output_shapes,\r\n            convert_xgb)\r\n\r\nclf.fit(X_train, y_train)\r\n```\r\nAnd to convert the model in onnx:\r\n```\r\nX_train['pclass'] = X_train['pclass'].astype(str)\r\nX_test['pclass'] = X_test['pclass'].astype(str)\r\ninputs = convert_dataframe_schema(X_train, to_drop)\r\n\r\nmodel_onnx = convert_sklearn(clf, 'pipeline_titanic', inputs, target_opset=7)\r\n\r\n\r\n# And save.\r\nwith open(\"pipeline_titanic2.onnx\", \"wb\") as f:\r\n    f.write(model_onnx.SerializeToString())\r\n\r\n```\r\nThe versions are:\r\nonnx:  1.5.0\r\nonnxruntime:  1.2.0\r\nskl2onnx:  1.6.1\r\n\r\nPlease suggest any better approach. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635895679/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635899822",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-635899822",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 635899822,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTg5OTgyMg==",
        "user": {
            "login": "prabhat00155",
            "id": 7043157,
            "node_id": "MDQ6VXNlcjcwNDMxNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7043157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabhat00155",
            "html_url": "https://github.com/prabhat00155",
            "followers_url": "https://api.github.com/users/prabhat00155/followers",
            "following_url": "https://api.github.com/users/prabhat00155/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabhat00155/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabhat00155/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabhat00155/subscriptions",
            "organizations_url": "https://api.github.com/users/prabhat00155/orgs",
            "repos_url": "https://api.github.com/users/prabhat00155/repos",
            "events_url": "https://api.github.com/users/prabhat00155/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabhat00155/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T10:29:56Z",
        "updated_at": "2020-05-29T10:33:05Z",
        "author_association": "CONTRIBUTOR",
        "body": "This looks fine, it gives you an ONNX model right? Try the code I pasted above(https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-635894186) which I used on the pipeline_titanic.onnx model you had shared with me. That should work. You may update the input values.\r\nAlso, you may want to upgrade your onnx and onnxruntime packages.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635899822/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/636339308",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-636339308",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 636339308,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjMzOTMwOA==",
        "user": {
            "login": "zr526799544",
            "id": 37580152,
            "node_id": "MDQ6VXNlcjM3NTgwMTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37580152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zr526799544",
            "html_url": "https://github.com/zr526799544",
            "followers_url": "https://api.github.com/users/zr526799544/followers",
            "following_url": "https://api.github.com/users/zr526799544/following{/other_user}",
            "gists_url": "https://api.github.com/users/zr526799544/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zr526799544/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zr526799544/subscriptions",
            "organizations_url": "https://api.github.com/users/zr526799544/orgs",
            "repos_url": "https://api.github.com/users/zr526799544/repos",
            "events_url": "https://api.github.com/users/zr526799544/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zr526799544/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-30T14:35:13Z",
        "updated_at": "2020-05-30T14:35:13Z",
        "author_association": "NONE",
        "body": "> This looks fine, it gives you an ONNX model right? Try the code I pasted above([#3986 (comment)](https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-635894186)) which I used on the pipeline_titanic.onnx model you had shared with me. That should work. You may update the input values.\r\n> Also, you may want to upgrade your onnx and onnxruntime packages.\r\n\r\nI see the exmples https://github.com/microsoft/onnxruntime/blob/master/csharp/test/Microsoft.ML.OnnxRuntime.EndToEndTests.Capi/CXX_Api_Sample.cpp. But still do not understand how to convert a img in opencv mat into std::vector<float> input_tensor_values, could you give me some advice ? \r\nIt is CHW or CWH or othersÔºü ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/636339308/reactions",
            "total_count": 3,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 3
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/636692499",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-636692499",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 636692499,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjY5MjQ5OQ==",
        "user": {
            "login": "prabhat00155",
            "id": 7043157,
            "node_id": "MDQ6VXNlcjcwNDMxNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7043157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabhat00155",
            "html_url": "https://github.com/prabhat00155",
            "followers_url": "https://api.github.com/users/prabhat00155/followers",
            "following_url": "https://api.github.com/users/prabhat00155/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabhat00155/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabhat00155/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabhat00155/subscriptions",
            "organizations_url": "https://api.github.com/users/prabhat00155/orgs",
            "repos_url": "https://api.github.com/users/prabhat00155/repos",
            "events_url": "https://api.github.com/users/prabhat00155/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabhat00155/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-06-01T08:23:47Z",
        "updated_at": "2020-06-01T08:23:47Z",
        "author_association": "CONTRIBUTOR",
        "body": "I am not a C++ expert but I think you can try something like this(under load input image): https://mxnet.apache.org/api/cpp/docs/tutorials/cpp_inference.\r\nWhether it's NCHW or NHWC would depend on the way you trained your model.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/636692499/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/644898198",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-644898198",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 644898198,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDg5ODE5OA==",
        "user": {
            "login": "prabhat00155",
            "id": 7043157,
            "node_id": "MDQ6VXNlcjcwNDMxNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7043157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabhat00155",
            "html_url": "https://github.com/prabhat00155",
            "followers_url": "https://api.github.com/users/prabhat00155/followers",
            "following_url": "https://api.github.com/users/prabhat00155/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabhat00155/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabhat00155/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabhat00155/subscriptions",
            "organizations_url": "https://api.github.com/users/prabhat00155/orgs",
            "repos_url": "https://api.github.com/users/prabhat00155/repos",
            "events_url": "https://api.github.com/users/prabhat00155/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabhat00155/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-06-16T17:15:33Z",
        "updated_at": "2020-06-16T17:15:33Z",
        "author_association": "CONTRIBUTOR",
        "body": "@Karnav123 Can I close this issue, if you have no more questions?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/644898198/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/644902184",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3986#issuecomment-644902184",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3986",
        "id": 644902184,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDkwMjE4NA==",
        "user": {
            "login": "Karnav123",
            "id": 36244620,
            "node_id": "MDQ6VXNlcjM2MjQ0NjIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/36244620?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Karnav123",
            "html_url": "https://github.com/Karnav123",
            "followers_url": "https://api.github.com/users/Karnav123/followers",
            "following_url": "https://api.github.com/users/Karnav123/following{/other_user}",
            "gists_url": "https://api.github.com/users/Karnav123/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Karnav123/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Karnav123/subscriptions",
            "organizations_url": "https://api.github.com/users/Karnav123/orgs",
            "repos_url": "https://api.github.com/users/Karnav123/repos",
            "events_url": "https://api.github.com/users/Karnav123/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Karnav123/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-06-16T17:23:40Z",
        "updated_at": "2020-06-16T17:23:40Z",
        "author_association": "NONE",
        "body": "> @Karnav123 Can I close this issue, if you have no more questions?\n\nYes. Thank you so much for your help.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/644902184/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]