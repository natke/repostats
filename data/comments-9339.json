[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941552375",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9339#issuecomment-941552375",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9339",
        "id": 941552375,
        "node_id": "IC_kwDOCVq1mM44HvL3",
        "user": {
            "login": "jiafatom",
            "id": 30608893,
            "node_id": "MDQ6VXNlcjMwNjA4ODkz",
            "avatar_url": "https://avatars.githubusercontent.com/u/30608893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiafatom",
            "html_url": "https://github.com/jiafatom",
            "followers_url": "https://api.github.com/users/jiafatom/followers",
            "following_url": "https://api.github.com/users/jiafatom/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiafatom/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiafatom/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiafatom/subscriptions",
            "organizations_url": "https://api.github.com/users/jiafatom/orgs",
            "repos_url": "https://api.github.com/users/jiafatom/repos",
            "events_url": "https://api.github.com/users/jiafatom/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiafatom/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-12T21:04:10Z",
        "updated_at": "2021-10-12T21:04:10Z",
        "author_association": "MEMBER",
        "body": "This model has a `If` node, and the shape from each branch is different (this is intended): one branch has Squeeze node, the other is Identity.\r\nThe traceback shows `ShapeInferenceError`, so cc @askhade ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941552375/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941779220",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9339#issuecomment-941779220",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9339",
        "id": 941779220,
        "node_id": "IC_kwDOCVq1mM44ImkU",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-13T00:07:51Z",
        "updated_at": "2021-10-13T00:11:53Z",
        "author_association": "MEMBER",
        "body": "> This model has a `If` node, and the shape from each branch is different (this is intended): one branch has Squeeze node, the other is Identity. The traceback shows `ShapeInferenceError`, so cc @askhade\r\n\r\nBut If subgraphs producing different shaped outputs does not seem to be the problem here. The `Squeeze` node in the then subgraph is trying to squeeze out the second dimension (axes = 1) of the Pad's output and Pad's output is worked out to be a tensor of shape [1, 12] and this can't be done as the dim value of the dimension to be squeezed needs to be 1. If the axes is made 0 in the Squeeze node, it should work. Does that make sense in the context of what the model is trying to achieve ?\r\n\r\nAs an aside, even if the If's subgraphs return outputs of different shapes, If's shape itself should be compatible with BOTH of these output shapes: https://github.com/onnx/onnx/blob/master/docs/Operators.md#If",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941779220/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941798117",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9339#issuecomment-941798117",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9339",
        "id": 941798117,
        "node_id": "IC_kwDOCVq1mM44IrLl",
        "user": {
            "login": "jiafatom",
            "id": 30608893,
            "node_id": "MDQ6VXNlcjMwNjA4ODkz",
            "avatar_url": "https://avatars.githubusercontent.com/u/30608893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiafatom",
            "html_url": "https://github.com/jiafatom",
            "followers_url": "https://api.github.com/users/jiafatom/followers",
            "following_url": "https://api.github.com/users/jiafatom/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiafatom/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiafatom/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiafatom/subscriptions",
            "organizations_url": "https://api.github.com/users/jiafatom/orgs",
            "repos_url": "https://api.github.com/users/jiafatom/repos",
            "events_url": "https://api.github.com/users/jiafatom/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiafatom/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-13T00:33:00Z",
        "updated_at": "2021-10-13T00:33:00Z",
        "author_association": "MEMBER",
        "body": "synced with @hariharans29, this model has input with static shape, onnx shape inference will run all branches so it causes the error. For current opset, we may need make input with dynamic shape, then it should pass the static check and runtime. For future, we have proposed an onnx issue https://github.com/onnx/onnx/issues/3764",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941798117/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941859220",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9339#issuecomment-941859220",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9339",
        "id": 941859220,
        "node_id": "IC_kwDOCVq1mM44I6GU",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-13T02:33:19Z",
        "updated_at": "2021-10-13T02:33:19Z",
        "author_association": "MEMBER",
        "body": "Closing this as the behavior is expected for the provided repro model.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941859220/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]