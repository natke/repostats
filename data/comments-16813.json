[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1647905096",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16813#issuecomment-1647905096",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16813",
        "id": 1647905096,
        "node_id": "IC_kwDOCVq1mM5iOQlI",
        "user": {
            "login": "xadupre",
            "id": 22452781,
            "node_id": "MDQ6VXNlcjIyNDUyNzgx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22452781?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xadupre",
            "html_url": "https://github.com/xadupre",
            "followers_url": "https://api.github.com/users/xadupre/followers",
            "following_url": "https://api.github.com/users/xadupre/following{/other_user}",
            "gists_url": "https://api.github.com/users/xadupre/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xadupre/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xadupre/subscriptions",
            "organizations_url": "https://api.github.com/users/xadupre/orgs",
            "repos_url": "https://api.github.com/users/xadupre/repos",
            "events_url": "https://api.github.com/users/xadupre/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xadupre/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-07-24T13:24:58Z",
        "updated_at": "2023-07-24T13:24:58Z",
        "author_association": "MEMBER",
        "body": "adding @justinchuby",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1647905096/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1663088964",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16813#issuecomment-1663088964",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16813",
        "id": 1663088964,
        "node_id": "IC_kwDOCVq1mM5jILlE",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-02T23:20:25Z",
        "updated_at": "2023-08-02T23:21:26Z",
        "author_association": "MEMBER",
        "body": "I tried the first model with the script with the tip of main. The onnx inference throws an exception and never completes the script.\r\nBarring that, native ORT inference continues for a long time and adds lots of allocations when calling into onnx inference code. I think it has a potential of exhausting memory.\r\nI am seeing lots of fixes in onnx inference code. Will see if that makes any difference.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1663088964/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1668240591",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16813#issuecomment-1668240591",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16813",
        "id": 1668240591,
        "node_id": "IC_kwDOCVq1mM5jb1TP",
        "user": {
            "login": "BowenBao",
            "id": 9376104,
            "node_id": "MDQ6VXNlcjkzNzYxMDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9376104?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BowenBao",
            "html_url": "https://github.com/BowenBao",
            "followers_url": "https://api.github.com/users/BowenBao/followers",
            "following_url": "https://api.github.com/users/BowenBao/following{/other_user}",
            "gists_url": "https://api.github.com/users/BowenBao/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BowenBao/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BowenBao/subscriptions",
            "organizations_url": "https://api.github.com/users/BowenBao/orgs",
            "repos_url": "https://api.github.com/users/BowenBao/repos",
            "events_url": "https://api.github.com/users/BowenBao/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BowenBao/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-07T16:44:01Z",
        "updated_at": "2023-08-07T16:44:01Z",
        "author_association": "MEMBER",
        "body": "@yuslepukhin thanks for investigating! The issue you discovered about transpose dim size and rank is indeed a bug within torchlib, which we have triaged and fixed. I'm keeping this issue open to track the behavioral difference between models with different number of layers of local functions.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1668240591/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1668330302",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16813#issuecomment-1668330302",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16813",
        "id": 1668330302,
        "node_id": "IC_kwDOCVq1mM5jcLM-",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-07T17:44:03Z",
        "updated_at": "2023-08-07T17:44:03Z",
        "author_association": "MEMBER",
        "body": "The shape inference actually throws when the input dims are known to mismatch perms rank at inference time. But at runtime, the model can feed a wrong number of dims.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1668330302/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1668627099",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16813#issuecomment-1668627099",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16813",
        "id": 1668627099,
        "node_id": "IC_kwDOCVq1mM5jdTqb",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-07T21:54:33Z",
        "updated_at": "2023-08-07T23:26:53Z",
        "author_association": "MEMBER",
        "body": "I have checked all of the models. One of them `eca_halonext26ts_mod.onnx` fails Constant node shape inference, that requires one of the following attributes to be present, so it does not progress very far.\r\n\r\n>   auto* value = ctx.getAttribute(\"value\");\r\n  auto* sparse_value = ctx.getAttribute(\"sparse_value\");\r\n  auto* value_int = ctx.getAttribute(\"value_int\");\r\n  auto* value_ints = ctx.getAttribute(\"value_ints\");\r\n  auto* value_float = ctx.getAttribute(\"value_float\");\r\n  auto* value_floats = ctx.getAttribute(\"value_floats\");\r\n  auto* value_string = ctx.getAttribute(\"value_string\");\r\n  auto* value_strings = ctx.getAttribute(\"value_strings\");\r\n\r\nThe model throws a lot of inference problems with Contant nodes while processing function nodes. However, those problems are ignored because it considers the op experimental. \r\n\r\n![image](https://github.com/microsoft/onnxruntime/assets/11303988/6b1f77e2-679a-4362-91c7-6ef4ae78a1b4)\r\n\r\nAs a result, ORT code continues and throws an error that is potentially related to the root issue. We usually convert Constant nodes to initializers. We need to come up with a strategy on how to address this. However, if you provided an update to the model, we could potentially run it further.\r\n\r\n\r\n>  RUNTIME_EXCEPTION : Exception during initialization: D:\\dev\\ort_trans\\onnxruntime\\core\\graph\\graph.cc:3547 onnxruntime::Graph::CleanUnusedInitializersAndNodeArgs initializer_node_arg != nullptr was false. Cannot find NodeArgs for [_inline_timm_models_layers_norm_act_BatchNormAct2d_stem_conv1_bn_1_val_5]",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1668627099/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1668702902",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16813#issuecomment-1668702902",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16813",
        "id": 1668702902,
        "node_id": "IC_kwDOCVq1mM5jdmK2",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-07T23:31:19Z",
        "updated_at": "2023-08-07T23:31:19Z",
        "author_association": "MEMBER",
        "body": "All other models fail due to the `transpose` perm vs input rank mismatch. If you provide updates, I will try to run it further.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1668702902/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
        },
        "performed_via_github_app": null
    }
]