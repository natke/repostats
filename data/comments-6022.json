[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/738217170",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6022#issuecomment-738217170",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6022",
        "id": 738217170,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczODIxNzE3MA==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-03T18:53:19Z",
        "updated_at": "2020-12-03T18:53:19Z",
        "author_association": "MEMBER",
        "body": "that option doesn't actually control number of cpu threads used in inferencing.\r\n+@MaajidKhan, @smkarlap \r\ncan we document it better?\r\nAnd do we need to expose a knob to control cpu inference thread (from TBB?)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/738217170/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/738623038",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6022#issuecomment-738623038",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6022",
        "id": 738623038,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczODYyMzAzOA==",
        "user": {
            "login": "MaajidKhan",
            "id": 29036417,
            "node_id": "MDQ6VXNlcjI5MDM2NDE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/29036417?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MaajidKhan",
            "html_url": "https://github.com/MaajidKhan",
            "followers_url": "https://api.github.com/users/MaajidKhan/followers",
            "following_url": "https://api.github.com/users/MaajidKhan/following{/other_user}",
            "gists_url": "https://api.github.com/users/MaajidKhan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MaajidKhan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MaajidKhan/subscriptions",
            "organizations_url": "https://api.github.com/users/MaajidKhan/orgs",
            "repos_url": "https://api.github.com/users/MaajidKhan/repos",
            "events_url": "https://api.github.com/users/MaajidKhan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MaajidKhan/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-04T07:42:30Z",
        "updated_at": "2020-12-04T07:43:17Z",
        "author_association": "CONTRIBUTOR",
        "body": "@DenisYarullin The option **options.num_of_threads = 1**  doesn't actually control the number of threads to be run.\r\nIt is actually setting the number of free infer_request's that would be made available for inferencing.\r\n\r\nfor example, when you set options.num_of_threads = 7, it means, now there would be 7 free separate infer_requests' available in the pool thus enabling multi threading possible. with this setting, 7 threads can be parallelly ran now.\r\n\r\nThe number of threads you want to choose should come from application level.\r\n\r\nyes @jywu-msft I agree with you. I will add more information about this setting in the documentation just to be more clear.\r\n\r\nUsually with Native OpenVINO when using the async inference API, it automatically takes care of number of max parallel infer requests that can be possible on the machine. say, A CPU machine has 4 cores and each core has 2 threads, we will have 8 parallel infer requests set by default.\r\n\r\ncoming to our flow in UEP, we only control the number of threads to be run in parallel from application level.\r\n\r\n@DenisYarullin \r\nIf you want to just make use of **config.insert ({\"CPU_THREADS_NUM\", \"1\"})** option for CPU explicitly and want to infer.\r\nyou can add this option after this line https://github.com/microsoft/onnxruntime/blob/master/onnxruntime/core/providers/openvino/backends/basic_backend.cc#L47 here and recompile the code.\r\n\r\n![image](https://user-images.githubusercontent.com/29036417/101135658-1ac03180-3632-11eb-894c-1fd5ecd0620b.png)\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/738623038/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/740159584",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6022#issuecomment-740159584",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6022",
        "id": 740159584,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0MDE1OTU4NA==",
        "user": {
            "login": "dryarullin",
            "id": 10007693,
            "node_id": "MDQ6VXNlcjEwMDA3Njkz",
            "avatar_url": "https://avatars.githubusercontent.com/u/10007693?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dryarullin",
            "html_url": "https://github.com/dryarullin",
            "followers_url": "https://api.github.com/users/dryarullin/followers",
            "following_url": "https://api.github.com/users/dryarullin/following{/other_user}",
            "gists_url": "https://api.github.com/users/dryarullin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dryarullin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dryarullin/subscriptions",
            "organizations_url": "https://api.github.com/users/dryarullin/orgs",
            "repos_url": "https://api.github.com/users/dryarullin/repos",
            "events_url": "https://api.github.com/users/dryarullin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dryarullin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-07T20:24:48Z",
        "updated_at": "2020-12-07T20:24:48Z",
        "author_association": "NONE",
        "body": "@MaajidKhan, @jywu-msft Thanks.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/740159584/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]