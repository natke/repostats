[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1382093495",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14287#issuecomment-1382093495",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14287",
        "id": 1382093495,
        "node_id": "IC_kwDOCVq1mM5SYRK3",
        "user": {
            "login": "xadupre",
            "id": 22452781,
            "node_id": "MDQ6VXNlcjIyNDUyNzgx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22452781?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xadupre",
            "html_url": "https://github.com/xadupre",
            "followers_url": "https://api.github.com/users/xadupre/followers",
            "following_url": "https://api.github.com/users/xadupre/following{/other_user}",
            "gists_url": "https://api.github.com/users/xadupre/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xadupre/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xadupre/subscriptions",
            "organizations_url": "https://api.github.com/users/xadupre/orgs",
            "repos_url": "https://api.github.com/users/xadupre/repos",
            "events_url": "https://api.github.com/users/xadupre/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xadupre/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-13T16:33:19Z",
        "updated_at": "2023-01-13T16:33:19Z",
        "author_association": "MEMBER",
        "body": "Maybe @wenbingl would know more about this.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1382093495/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1382234436",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14287#issuecomment-1382234436",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14287",
        "id": 1382234436,
        "node_id": "IC_kwDOCVq1mM5SYzlE",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-13T18:36:01Z",
        "updated_at": "2023-01-13T18:36:01Z",
        "author_association": "MEMBER",
        "body": "The Custom Op API is being changed as we speak. We recommend using C++ for safety. Throwing C++ exceptions out of custom op `Compute` is the recommended method. @adrianlizarraga \r\n\r\nSee https://github.com/microsoft/onnxruntime/pull/13427\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1382234436/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1382299866",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14287#issuecomment-1382299866",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14287",
        "id": 1382299866,
        "node_id": "IC_kwDOCVq1mM5SZDja",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-13T19:30:57Z",
        "updated_at": "2023-01-13T19:30:57Z",
        "author_association": "MEMBER",
        "body": "@cbourjau are you interested in writing custom ops in languages other than C and C++?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1382299866/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1382350705",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14287#issuecomment-1382350705",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14287",
        "id": 1382350705,
        "node_id": "IC_kwDOCVq1mM5SZP9x",
        "user": {
            "login": "cbourjau",
            "id": 3288058,
            "node_id": "MDQ6VXNlcjMyODgwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3288058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbourjau",
            "html_url": "https://github.com/cbourjau",
            "followers_url": "https://api.github.com/users/cbourjau/followers",
            "following_url": "https://api.github.com/users/cbourjau/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbourjau/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbourjau/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbourjau/subscriptions",
            "organizations_url": "https://api.github.com/users/cbourjau/orgs",
            "repos_url": "https://api.github.com/users/cbourjau/repos",
            "events_url": "https://api.github.com/users/cbourjau/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbourjau/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-13T20:24:22Z",
        "updated_at": "2023-01-13T20:24:22Z",
        "author_association": "CONTRIBUTOR",
        "body": "Thanks for the quick response!\r\n\r\nYes, I/we are interested in writing custom operators in Rust. There is already a [prototype](https://github.com/cbourjau/onnxruntime-custom-op) that works great, besides a few shortcomings around the API. The error-propagation is one of those issues and probably the most difficult to resolve given that there is no obvious, forward-compatible way to address it. I am planning to create one or two more issues next week.\r\n\r\nAbout the issue at hand. Rust behaves exactly like C in this regard given that exceptions do not exist in either language. The Rust compiler produces a dynamic library that adhears to the C-ABI. Throwing exceptions requires the use of C++, but there is no standardized and stable way for them to cross the ABI, as I understand it. Every compiler is free to handle exceptions in a different way. Even the same compiler may use them differently based on build configurations. Exceptions may work, but there is no guarantee.\r\n\r\nIn summary, using C++ exceptions in this scenario seems very scary and unsafe. This is further aggravated by the fact that a common use case of custom operators is that they are compiled independently of the onnxruntime.\r\n\r\nReturning an `OrtStatus` rather than throwing an exception is a solution that nicely fits into the C-ABI and is therefore safe.\r\n\r\nAfter writing this I just noticed that something similar is already in the C-API [guidelines](https://github.com/microsoft/onnxruntime/blob/main/docs/C_API_Guidelines.md#4-public-api-that-may-error-out-must-return-ortstatus-pointer-on-error-or-nullptr-on-success)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1382350705/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1386865884",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14287#issuecomment-1386865884",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14287",
        "id": 1386865884,
        "node_id": "IC_kwDOCVq1mM5SqeTc",
        "user": {
            "login": "cbourjau",
            "id": 3288058,
            "node_id": "MDQ6VXNlcjMyODgwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3288058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbourjau",
            "html_url": "https://github.com/cbourjau",
            "followers_url": "https://api.github.com/users/cbourjau/followers",
            "following_url": "https://api.github.com/users/cbourjau/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbourjau/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbourjau/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbourjau/subscriptions",
            "organizations_url": "https://api.github.com/users/cbourjau/orgs",
            "repos_url": "https://api.github.com/users/cbourjau/repos",
            "events_url": "https://api.github.com/users/cbourjau/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbourjau/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-18T11:00:02Z",
        "updated_at": "2023-01-18T11:00:02Z",
        "author_association": "CONTRIBUTOR",
        "body": "I am happy to create a PR with an API proposal that fits the C-API guidelines. Are there further things I should take into consideration? @wenbingl @adrianlizarraga ? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1386865884/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1400700423",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14287#issuecomment-1400700423",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14287",
        "id": 1400700423,
        "node_id": "IC_kwDOCVq1mM5TfP4H",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-23T17:16:38Z",
        "updated_at": "2023-01-23T17:16:38Z",
        "author_association": "MEMBER",
        "body": "You are welcome to create a PR. The issue may call for a broader design involving many APIs/langs.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1400700423/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1458543058",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14287#issuecomment-1458543058",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14287",
        "id": 1458543058,
        "node_id": "IC_kwDOCVq1mM5W75nS",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-07T17:17:57Z",
        "updated_at": "2023-03-07T17:17:57Z",
        "author_association": "MEMBER",
        "body": "Just to let you know, this is still on a radar.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1458543058/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]