[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1424484933",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1424484933",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1424484933,
        "node_id": "IC_kwDOCVq1mM5U5-pF",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-09T16:38:32Z",
        "updated_at": "2023-02-09T16:39:36Z",
        "author_association": "CONTRIBUTOR",
        "body": "You should close the session options as well as the session, it's designed to have a longer lifetime than the session itself. Or reuse it across sessions. Other than that, it looks ok. Does this occur on newer versions than 1.8.0? The API has been fairly stable so it should be a drop in replacement for 1.13.1 to check.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1424484933/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425098213",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1425098213",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1425098213,
        "node_id": "IC_kwDOCVq1mM5U8UXl",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-10T02:41:25Z",
        "updated_at": "2023-02-10T02:41:25Z",
        "author_association": "MEMBER",
        "body": "I would suggest re-using the session options so there's definitely only one CUDA execution provider instance. My guess if you're adding a new CUDA EP each time, and each one is creating a new memory arena.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425098213/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425287542",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1425287542",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1425287542,
        "node_id": "IC_kwDOCVq1mM5U9Cl2",
        "user": {
            "login": "lidcha",
            "id": 62744913,
            "node_id": "MDQ6VXNlcjYyNzQ0OTEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/62744913?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lidcha",
            "html_url": "https://github.com/lidcha",
            "followers_url": "https://api.github.com/users/lidcha/followers",
            "following_url": "https://api.github.com/users/lidcha/following{/other_user}",
            "gists_url": "https://api.github.com/users/lidcha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lidcha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lidcha/subscriptions",
            "organizations_url": "https://api.github.com/users/lidcha/orgs",
            "repos_url": "https://api.github.com/users/lidcha/repos",
            "events_url": "https://api.github.com/users/lidcha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lidcha/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-10T07:08:22Z",
        "updated_at": "2023-02-10T07:12:44Z",
        "author_association": "NONE",
        "body": "> You should close the session options as well as the session, it's designed to have a longer lifetime than the session itself. Or reuse it across sessions. Other than that, it looks ok. Does this occur on newer versions than 1.8.0? The API has been fairly stable so it should be a drop in replacement for 1.13.1 to check.\r\n\r\nI tried re-use the options. It seems that this method does not work. re-use session options in this way:\r\n```\r\nprivate OrtSession.SessionOptions options;\r\n@PostConstruct\r\npublic void init() throws OrtException {\r\n    ...\r\n    options = new OrtSession.SessionOptions();\r\n    if (Boolean.TRUE.equals(local)) {   \r\n        options.addCPU(true);\r\n    } else {\r\n        options.addCUDA();\r\n    }\r\n    ....\r\n}\r\n\r\n\r\npublic boolean reloadModel(String modelPath, String vocabPath, String labelPath) {\r\n        try {\r\n            long t1 = System.currentTimeMillis();\r\n            OrtSession oldSession = session;\r\n            if (Boolean.TRUE.equals(local)) {\r\n                session = env.createSession(modelPath, options);\r\n            } else {\r\n                session = env.createSession(modelPath, options);\r\n            }\r\n            this.closeOrtSession(oldSession);\r\n            ...\r\n            return true;\r\n        } catch (Exception e) {\r\n            log.error(\"...\", e);\r\n            return false;\r\n        }\r\n    }\r\n```\r\nThen I call the reloadModel method, and the memory increases from 1.9G to 2.7G。I will upgrade onnxruntime version to 1.13 to see if it can solve the problem\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425287542/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425292851",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1425292851",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1425292851,
        "node_id": "IC_kwDOCVq1mM5U9D4z",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-10T07:13:08Z",
        "updated_at": "2023-02-10T07:13:08Z",
        "author_association": "MEMBER",
        "body": "Why delay closing the old session? \r\n\r\nBy opening 2 sessions at once the memory usage will be higher. e.g. you will be loading the initializers from the model at the same time in 2 different sessions. that potentially expands the memory arena the CUDA EP uses (any initializer used by a node that will run on CUDA is copied to GPU memory during model loading), and the arena doesn't shrink.\r\n\r\nClose the existing session before creating a new one if you want to avoid that memory growth. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425292851/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425316184",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1425316184",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1425316184,
        "node_id": "IC_kwDOCVq1mM5U9JlY",
        "user": {
            "login": "lidcha",
            "id": 62744913,
            "node_id": "MDQ6VXNlcjYyNzQ0OTEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/62744913?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lidcha",
            "html_url": "https://github.com/lidcha",
            "followers_url": "https://api.github.com/users/lidcha/followers",
            "following_url": "https://api.github.com/users/lidcha/following{/other_user}",
            "gists_url": "https://api.github.com/users/lidcha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lidcha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lidcha/subscriptions",
            "organizations_url": "https://api.github.com/users/lidcha/orgs",
            "repos_url": "https://api.github.com/users/lidcha/repos",
            "events_url": "https://api.github.com/users/lidcha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lidcha/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-10T07:35:47Z",
        "updated_at": "2023-02-10T07:35:47Z",
        "author_association": "NONE",
        "body": "> Why delay closing the old session?\r\n> \r\n> By opening 2 sessions at once the memory usage will be higher. e.g. you will be loading the initializers from the model at the same time in 2 different sessions. that potentially expands the memory arena the CUDA EP uses (any initializer used by a node that will run on CUDA is copied to GPU memory during model loading), and the arena doesn't shrink.\r\n> \r\n> Close the existing session before creating a new one if you want to avoid that memory growth.\r\n\r\nConsidering that other people will call the model inferencing method when reloading the model, I don't want to affect the normal model inferencing function during this period, so I decided to delay closing the old session.\r\n\r\nI don't think this is the main reason for the problem. If you create a new session first, and then close the existing old session, the memory change should be increased first and then decreased, but I don't see the memory decrease.\r\n\r\nI will still try to solve it according to the way you said\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425316184/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425349638",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1425349638",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1425349638,
        "node_id": "IC_kwDOCVq1mM5U9RwG",
        "user": {
            "login": "lidcha",
            "id": 62744913,
            "node_id": "MDQ6VXNlcjYyNzQ0OTEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/62744913?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lidcha",
            "html_url": "https://github.com/lidcha",
            "followers_url": "https://api.github.com/users/lidcha/followers",
            "following_url": "https://api.github.com/users/lidcha/following{/other_user}",
            "gists_url": "https://api.github.com/users/lidcha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lidcha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lidcha/subscriptions",
            "organizations_url": "https://api.github.com/users/lidcha/orgs",
            "repos_url": "https://api.github.com/users/lidcha/repos",
            "events_url": "https://api.github.com/users/lidcha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lidcha/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-10T07:52:15Z",
        "updated_at": "2023-02-10T07:52:15Z",
        "author_association": "NONE",
        "body": "Close the old session before creating a new session, this method does not work，after reload model, the memory still increased from 1.8G to 2.6G",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425349638/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425362801",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1425362801",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1425362801,
        "node_id": "IC_kwDOCVq1mM5U9U9x",
        "user": {
            "login": "lidcha",
            "id": 62744913,
            "node_id": "MDQ6VXNlcjYyNzQ0OTEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/62744913?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lidcha",
            "html_url": "https://github.com/lidcha",
            "followers_url": "https://api.github.com/users/lidcha/followers",
            "following_url": "https://api.github.com/users/lidcha/following{/other_user}",
            "gists_url": "https://api.github.com/users/lidcha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lidcha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lidcha/subscriptions",
            "organizations_url": "https://api.github.com/users/lidcha/orgs",
            "repos_url": "https://api.github.com/users/lidcha/repos",
            "events_url": "https://api.github.com/users/lidcha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lidcha/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-10T07:58:56Z",
        "updated_at": "2023-02-10T07:58:56Z",
        "author_association": "NONE",
        "body": "Is it possible that the session.close() does not release the resources (memory) it owns? Can you reproduce this problem through the way of reload model?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425362801/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425973762",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1425973762",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1425973762,
        "node_id": "IC_kwDOCVq1mM5U_qIC",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-10T15:31:55Z",
        "updated_at": "2023-02-10T15:31:55Z",
        "author_association": "CONTRIBUTOR",
        "body": "Is the memory increase you're observing in GPU memory or CPU memory?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1425973762/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1426646578",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1426646578",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1426646578,
        "node_id": "IC_kwDOCVq1mM5VCOYy",
        "user": {
            "login": "pauldog",
            "id": 33497043,
            "node_id": "MDQ6VXNlcjMzNDk3MDQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/33497043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pauldog",
            "html_url": "https://github.com/pauldog",
            "followers_url": "https://api.github.com/users/pauldog/followers",
            "following_url": "https://api.github.com/users/pauldog/following{/other_user}",
            "gists_url": "https://api.github.com/users/pauldog/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pauldog/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pauldog/subscriptions",
            "organizations_url": "https://api.github.com/users/pauldog/orgs",
            "repos_url": "https://api.github.com/users/pauldog/repos",
            "events_url": "https://api.github.com/users/pauldog/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pauldog/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-11T07:26:53Z",
        "updated_at": "2023-02-11T07:26:53Z",
        "author_association": "NONE",
        "body": "Hello, there is a known memory leak of CPU RAM if your onnx file has a separate weights.pb file. \r\nIs your model in a single onnx file or in multiple parts?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1426646578/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1426787940",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1426787940",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1426787940,
        "node_id": "IC_kwDOCVq1mM5VCw5k",
        "user": {
            "login": "lidcha",
            "id": 62744913,
            "node_id": "MDQ6VXNlcjYyNzQ0OTEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/62744913?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lidcha",
            "html_url": "https://github.com/lidcha",
            "followers_url": "https://api.github.com/users/lidcha/followers",
            "following_url": "https://api.github.com/users/lidcha/following{/other_user}",
            "gists_url": "https://api.github.com/users/lidcha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lidcha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lidcha/subscriptions",
            "organizations_url": "https://api.github.com/users/lidcha/orgs",
            "repos_url": "https://api.github.com/users/lidcha/repos",
            "events_url": "https://api.github.com/users/lidcha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lidcha/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-11T14:41:29Z",
        "updated_at": "2023-02-11T14:41:29Z",
        "author_association": "NONE",
        "body": "> Is the memory increase you're observing in GPU memory or CPU memory?\r\n\r\nIt's CPU memory, I didn't observe the growth of GPU memory",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1426787940/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1426788441",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1426788441",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1426788441,
        "node_id": "IC_kwDOCVq1mM5VCxBZ",
        "user": {
            "login": "lidcha",
            "id": 62744913,
            "node_id": "MDQ6VXNlcjYyNzQ0OTEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/62744913?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lidcha",
            "html_url": "https://github.com/lidcha",
            "followers_url": "https://api.github.com/users/lidcha/followers",
            "following_url": "https://api.github.com/users/lidcha/following{/other_user}",
            "gists_url": "https://api.github.com/users/lidcha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lidcha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lidcha/subscriptions",
            "organizations_url": "https://api.github.com/users/lidcha/orgs",
            "repos_url": "https://api.github.com/users/lidcha/repos",
            "events_url": "https://api.github.com/users/lidcha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lidcha/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-11T14:42:37Z",
        "updated_at": "2023-02-11T14:42:37Z",
        "author_association": "NONE",
        "body": "> there is a known memory leak of CPU RAM if your onnx file has a separate weights.pb file\r\n\r\nThe model is a single onnx file.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1426788441/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1426834438",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1426834438",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1426834438,
        "node_id": "IC_kwDOCVq1mM5VC8QG",
        "user": {
            "login": "pauldog",
            "id": 33497043,
            "node_id": "MDQ6VXNlcjMzNDk3MDQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/33497043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pauldog",
            "html_url": "https://github.com/pauldog",
            "followers_url": "https://api.github.com/users/pauldog/followers",
            "following_url": "https://api.github.com/users/pauldog/following{/other_user}",
            "gists_url": "https://api.github.com/users/pauldog/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pauldog/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pauldog/subscriptions",
            "organizations_url": "https://api.github.com/users/pauldog/orgs",
            "repos_url": "https://api.github.com/users/pauldog/repos",
            "events_url": "https://api.github.com/users/pauldog/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pauldog/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-11T17:38:32Z",
        "updated_at": "2023-02-11T17:38:32Z",
        "author_association": "NONE",
        "body": "Have you tried loading the model file into a byte array and loading it that way to see if it makes a difference? Then deleting the byte array?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1426834438/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1453533795",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1453533795",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1453533795,
        "node_id": "IC_kwDOCVq1mM5Woypj",
        "user": {
            "login": "ssube",
            "id": 451959,
            "node_id": "MDQ6VXNlcjQ1MTk1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/451959?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssube",
            "html_url": "https://github.com/ssube",
            "followers_url": "https://api.github.com/users/ssube/followers",
            "following_url": "https://api.github.com/users/ssube/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssube/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssube/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssube/subscriptions",
            "organizations_url": "https://api.github.com/users/ssube/orgs",
            "repos_url": "https://api.github.com/users/ssube/repos",
            "events_url": "https://api.github.com/users/ssube/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssube/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-03T13:28:00Z",
        "updated_at": "2023-03-03T13:28:00Z",
        "author_association": "NONE",
        "body": "> Hello, there is a known memory leak of CPU RAM if your onnx file has a separate weights.pb file.\r\n\r\nIs this documented anywhere, and is there a known workaround other than recycling the process?\r\n\r\nI encountered this leak or something similar, where virtual memory usage grows to ~300GB after running an SD v1.5-based model < 100 times, whether I reload the model or not. It seems to leak faster when loading multiple models.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1453533795/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1471282816",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14641#issuecomment-1471282816",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14641",
        "id": 1471282816,
        "node_id": "IC_kwDOCVq1mM5Xsf6A",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-16T04:19:51Z",
        "updated_at": "2023-03-16T04:19:51Z",
        "author_association": "MEMBER",
        "body": "@lidcha - are you still seeing this issue? can you provide a repro? 1.8.0 is a pretty old version. Can you check with 1.14.0?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1471282816/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]