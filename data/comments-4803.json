[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/674194567",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4803#issuecomment-674194567",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4803",
        "id": 674194567,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDE5NDU2Nw==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-14T17:59:59Z",
        "updated_at": "2020-08-14T17:59:59Z",
        "author_association": "MEMBER",
        "body": "@yufenglee - can you please take a look ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/674194567/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/678073848",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4803#issuecomment-678073848",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4803",
        "id": 678073848,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODA3Mzg0OA==",
        "user": {
            "login": "i-amgeek",
            "id": 28572201,
            "node_id": "MDQ6VXNlcjI4NTcyMjAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28572201?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/i-amgeek",
            "html_url": "https://github.com/i-amgeek",
            "followers_url": "https://api.github.com/users/i-amgeek/followers",
            "following_url": "https://api.github.com/users/i-amgeek/following{/other_user}",
            "gists_url": "https://api.github.com/users/i-amgeek/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/i-amgeek/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/i-amgeek/subscriptions",
            "organizations_url": "https://api.github.com/users/i-amgeek/orgs",
            "repos_url": "https://api.github.com/users/i-amgeek/repos",
            "events_url": "https://api.github.com/users/i-amgeek/events{/privacy}",
            "received_events_url": "https://api.github.com/users/i-amgeek/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-21T06:46:42Z",
        "updated_at": "2020-08-21T06:46:42Z",
        "author_association": "NONE",
        "body": "I am getting this error too. \r\n\r\n```\r\n\r\n---------------------------------------------------------------------------\r\nValidationError                           Traceback (most recent call last)\r\n<ipython-input-11-d63b1cbc7f73> in <module>\r\n----> 1 onnx.checker.check_model(quantized_model)\r\n\r\n~/anaconda3/envs/pytorch_quant/lib/python3.8/site-packages/onnx/checker.py in check_model(model, full_check)\r\n     91         m = onnx.load(model)\r\n     92     else:\r\n---> 93         C.check_model(model.SerializeToString())\r\n     94         m = model\r\n     95     if full_check:\r\n\r\nValidationError: No opset import for domain ''\r\n\r\n==> Context: Bad node spec: input: \"input\" output: \"input_ReduceMin:0\" name: \"input_ReduceMin\" op_type: \"ReduceMin\" attribute { name: \"keepdims\" i: 0 type: INT }\r\n\r\n```\r\n\r\n## To reproduce:\r\n\r\n```\r\nclass Model(nn.Module):\r\n\r\n    def __init__(self, in_channels, out_channels, kernel_size, stride, padding):\r\n        super().__init__()\r\n        self.conv = nn.Sequential(\r\n                nn.Conv2d(in_channels, out_channels, kernel_size, stride, padding)\r\n            )\r\n        \r\n    def forward(self, x):\r\n        return self.conv(x)\r\n\r\nmodel = Model(3, 5, 3, 1, (1,2))\r\n\r\n\r\n\r\ndummy_input = torch.randn(1, 3, 224, 224)\r\nmodel.eval()\r\ntorch.onnx.export(\r\n    model,\r\n    dummy_input,\r\n    \"model.onnx\",\r\n    export_params = True,\r\n    training = False,\r\n    do_constant_folding = True,\r\n    keep_initializers_as_inputs = False,\r\n)\r\n\r\nimport onnx\r\nfrom quantize import quantize, QuantizationMode\r\nmodel = onnx.load('model.onnx')\r\n\r\n# Quantize\r\nquantized_model = quantize(\r\n    model,\r\n    per_channel = False,\r\n    quantization_mode = QuantizationMode.IntegerOps,\r\n    static = False,\r\n)\r\n\r\nonnx.checker.check_model(quantized_model)\r\n\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/678073848/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/714215524",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4803#issuecomment-714215524",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4803",
        "id": 714215524,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDIxNTUyNA==",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2020-10-22T04:26:25Z",
        "updated_at": "2020-10-22T04:26:25Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/714215524/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/723388734",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4803#issuecomment-723388734",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4803",
        "id": 723388734,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzM4ODczNA==",
        "user": {
            "login": "cannguyen275",
            "id": 35292523,
            "node_id": "MDQ6VXNlcjM1MjkyNTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/35292523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cannguyen275",
            "html_url": "https://github.com/cannguyen275",
            "followers_url": "https://api.github.com/users/cannguyen275/followers",
            "following_url": "https://api.github.com/users/cannguyen275/following{/other_user}",
            "gists_url": "https://api.github.com/users/cannguyen275/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cannguyen275/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cannguyen275/subscriptions",
            "organizations_url": "https://api.github.com/users/cannguyen275/orgs",
            "repos_url": "https://api.github.com/users/cannguyen275/repos",
            "events_url": "https://api.github.com/users/cannguyen275/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cannguyen275/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-07T04:13:49Z",
        "updated_at": "2020-11-07T04:13:49Z",
        "author_association": "NONE",
        "body": "`==> Context: Bad node spec: input: \"input0\" output: \"input0_ReduceMin:0\" name: \"input0_ReduceMin\" op_type: \"ReduceMin\" attribute { name: \"keepdims\" i: 0 type: INT }`\r\n\r\nI got this error, too. This is my code to quantize:\r\n```python\r\nimport onnx\r\nfrom quantize import quantize, QuantizationMode\r\n\r\npath_to_model = 'model.onnx'\r\npredictor = onnx.load(path_to_model)\r\nquantized_model = quantize(predictor,\r\n                           quantization_mode=QuantizationMode.IntegerOps, static=False)\r\n# Save the quantized model\r\nonnx.save(quantized_model, 'model_quantized.onnx')\r\n```\r\nAny idea to fix? Thanks!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/723388734/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/732000205",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4803#issuecomment-732000205",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4803",
        "id": 732000205,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMjAwMDIwNQ==",
        "user": {
            "login": "FerdinandZhong",
            "id": 13790266,
            "node_id": "MDQ6VXNlcjEzNzkwMjY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13790266?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/FerdinandZhong",
            "html_url": "https://github.com/FerdinandZhong",
            "followers_url": "https://api.github.com/users/FerdinandZhong/followers",
            "following_url": "https://api.github.com/users/FerdinandZhong/following{/other_user}",
            "gists_url": "https://api.github.com/users/FerdinandZhong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/FerdinandZhong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/FerdinandZhong/subscriptions",
            "organizations_url": "https://api.github.com/users/FerdinandZhong/orgs",
            "repos_url": "https://api.github.com/users/FerdinandZhong/repos",
            "events_url": "https://api.github.com/users/FerdinandZhong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/FerdinandZhong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-23T08:12:55Z",
        "updated_at": "2020-11-23T08:12:55Z",
        "author_association": "NONE",
        "body": "I have got the same error when doing quantization. No matter static or dynamic. \r\n```\r\nquantized_model = quantize(\r\n        model,\r\n        quantization_mode=QuantizationMode.IntegerOps,\r\n        static=True,\r\n        quantization_params=quantization_params_dict,\r\n        nodes_to_quantize=list(quantization_params_dict.keys())\r\n    )\r\n```\r\n\r\nerror: \r\n```\r\nonnx.onnx_cpp2py_export.checker.ValidationError: No opset import for domain ''\r\n\r\n==> Context: Bad node spec: input: \"import/input_1:0\" output: \"import/input_1__12:0\" name: \"import/input_1__12\" op_type: \"Transpose\" attribute { name: \"perm\" ints: 0 ints: 2 ints: 3 ints: 1 type: INTS }\r\n```\r\n\r\n- ONNX Runtime version: 1.4.0\r\n\r\nMay I know what causes the error?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/732000205/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]