[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1626200736",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16622#issuecomment-1626200736",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16622",
        "id": 1626200736,
        "node_id": "IC_kwDOCVq1mM5g7dqg",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-07-07T21:45:51Z",
        "updated_at": "2023-07-07T21:45:51Z",
        "author_association": "MEMBER",
        "body": "I cannot reproduce this issue. Could you share your JS code ( not model ) so that I can try?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1626200736/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1626216863",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16622#issuecomment-1626216863",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16622",
        "id": 1626216863,
        "node_id": "IC_kwDOCVq1mM5g7hmf",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-07-07T21:52:20Z",
        "updated_at": "2023-07-07T21:52:20Z",
        "author_association": "MEMBER",
        "body": "the code `if (arg1 instanceof typedArrayConstructor)` in the context is same to `if (arg1 instanceof Float32Array)`. If `arg1` is created by either `new Float32Array(...)` or `Float32Array.from(...)`, this condition should always be true. I need to know how this error happens - my guess is that there is a library that polyfills `Float32Array` so that the code takes different `Float32Array`s between creating instance and performing this check.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1626216863/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1626413333",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16622#issuecomment-1626413333",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16622",
        "id": 1626413333,
        "node_id": "IC_kwDOCVq1mM5g8RkV",
        "user": {
            "login": "adam-harwood",
            "id": 45190361,
            "node_id": "MDQ6VXNlcjQ1MTkwMzYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/45190361?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/adam-harwood",
            "html_url": "https://github.com/adam-harwood",
            "followers_url": "https://api.github.com/users/adam-harwood/followers",
            "following_url": "https://api.github.com/users/adam-harwood/following{/other_user}",
            "gists_url": "https://api.github.com/users/adam-harwood/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/adam-harwood/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/adam-harwood/subscriptions",
            "organizations_url": "https://api.github.com/users/adam-harwood/orgs",
            "repos_url": "https://api.github.com/users/adam-harwood/repos",
            "events_url": "https://api.github.com/users/adam-harwood/events{/privacy}",
            "received_events_url": "https://api.github.com/users/adam-harwood/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-07-08T01:39:48Z",
        "updated_at": "2023-07-08T01:39:48Z",
        "author_association": "NONE",
        "body": "Wow, so in trying to create the smallest possible repro to send to you, I ended up finding it was surprisingly Jest that is the culprit. I'm not the [first person to hit the issue](https://github.com/jestjs/jest/issues/11864), and specifically around the onnxruntime. \r\n\r\nThe workaround listed there didn't work for me, so I ended up mocking `Array.isArray` in my Jest test to make it work. Posting here in case any future travellers hit this:\r\n\r\n```\r\n    const originalImplementation = Array.isArray;\r\n    Array.isArray = jest.fn((type) => {\r\n      if (type.constructor.name === \"Float32Array\" || type.constructor.name === \"BigInt64Array\") {\r\n        return true;\r\n      }\r\n\r\n      return originalImplementation(type);\r\n    });\r\n```\r\n\r\nThanks for the help @fs-eire!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1626413333/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]