[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/814886041",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7270#issuecomment-814886041",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7270",
        "id": 814886041,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxNDg4NjA0MQ==",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-07T12:48:37Z",
        "updated_at": "2021-04-07T12:48:37Z",
        "author_association": "CONTRIBUTOR",
        "body": "Well that's a misleading error message, as the check is for shape validation, not just that it's too big. That should be fixed.\r\n\r\nHowever the shape is reported as being `[0,4]`. I don't think that's valid because it won't contain any elements, and so some kind of exception is expected (or I suppose it could return an empty array). Does this image contain anything that's been detected? If so, what is returned by the Python ONNX Runtime API for that image?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/814886041/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/815772164",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7270#issuecomment-815772164",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7270",
        "id": 815772164,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxNTc3MjE2NA==",
        "user": {
            "login": "anandvsr",
            "id": 66105422,
            "node_id": "MDQ6VXNlcjY2MTA1NDIy",
            "avatar_url": "https://avatars.githubusercontent.com/u/66105422?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/anandvsr",
            "html_url": "https://github.com/anandvsr",
            "followers_url": "https://api.github.com/users/anandvsr/followers",
            "following_url": "https://api.github.com/users/anandvsr/following{/other_user}",
            "gists_url": "https://api.github.com/users/anandvsr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/anandvsr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/anandvsr/subscriptions",
            "organizations_url": "https://api.github.com/users/anandvsr/orgs",
            "repos_url": "https://api.github.com/users/anandvsr/repos",
            "events_url": "https://api.github.com/users/anandvsr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/anandvsr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-08T12:36:13Z",
        "updated_at": "2021-04-08T12:36:13Z",
        "author_association": "NONE",
        "body": "Prediction via Onnx runtime in python:\r\n\r\n![Screenshot from 2021-04-08 17-55-55](https://user-images.githubusercontent.com/66105422/114026414-d79df580-9893-11eb-9bd1-1454ad622100.png)\r\n\r\nWhy the inference return empty array?\r\nplease help to clarify!\r\n\r\nPrediction in PyTorch (Python source):\r\n![image](https://user-images.githubusercontent.com/66105422/114026605-0d42de80-9894-11eb-9c7c-fd2ad8c005b1.png)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/815772164/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/815821843",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7270#issuecomment-815821843",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7270",
        "id": 815821843,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxNTgyMTg0Mw==",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-08T13:24:44Z",
        "updated_at": "2021-04-08T13:24:44Z",
        "author_association": "CONTRIBUTOR",
        "body": "I don't know why the output differs between pytorch & ORT. Maybe someone who has a better understanding of the internals could take a look. cc @pranavsharma ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/815821843/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/818470035",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7270#issuecomment-818470035",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7270",
        "id": 818470035,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxODQ3MDAzNQ==",
        "user": {
            "login": "anandvsr",
            "id": 66105422,
            "node_id": "MDQ6VXNlcjY2MTA1NDIy",
            "avatar_url": "https://avatars.githubusercontent.com/u/66105422?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/anandvsr",
            "html_url": "https://github.com/anandvsr",
            "followers_url": "https://api.github.com/users/anandvsr/followers",
            "following_url": "https://api.github.com/users/anandvsr/following{/other_user}",
            "gists_url": "https://api.github.com/users/anandvsr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/anandvsr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/anandvsr/subscriptions",
            "organizations_url": "https://api.github.com/users/anandvsr/orgs",
            "repos_url": "https://api.github.com/users/anandvsr/repos",
            "events_url": "https://api.github.com/users/anandvsr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/anandvsr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-13T06:17:44Z",
        "updated_at": "2021-04-13T06:17:44Z",
        "author_association": "NONE",
        "body": "## Issue Resolved! \r\n\r\n### The Exception \r\n```\r\n    ai.onnxruntime.OrtException: This tensor is not representable in Java, it's too big - shape = [0, 4]\r\n\t    at ai.onnxruntime.TensorInfo.makeCarrier(TensorInfo.java:171)\r\n\t    at ai.onnxruntime.OnnxTensor.getValue(OnnxTensor.java:99)\r\n\t    at onnx.predict.Pridiction.main(Pridiction.java:54)\r\n```\r\n\r\nRaise when it won't contain any elements!\r\nThank you @Craigacp \r\n\r\n### export_onnx.py (Python Source):\r\nThe output differ while the shape was fixed!\r\n\r\nTo resolve that, export the model with dynamic size\r\n```\r\nw, h = 1080, 1970\r\nx = [torch.rand(3, w, h)]\r\nonnx_file = resources/model/fasterrcnn_resnet50_fpn.onnx\"\r\ntorch.onnx.export(model, x, onnx_file,\r\n                  input_names=['input'],\r\n                  output_names=['output'],\r\n                  opset_version=11,\r\n                  dynamic_axes={'input': {1: 'height', 2: 'width'}},\r\n                  enable_onnx_checker=True)\r\n```\r\n\r\n### Prediction via Onnx runtime after dynamic size in python:\r\n\r\n![image](https://user-images.githubusercontent.com/66105422/114503694-55268480-9c4b-11eb-9a58-c48725df6d95.png)\r\n\r\n### PS:\r\n#### torchvision.transforms.functional.to_tensor, it return normalised value.\r\n![image](https://user-images.githubusercontent.com/66105422/114504401-7176f100-9c4c-11eb-8d5e-35147f99a64d.png)\r\n#### while using the non normalised value!\r\n![image](https://user-images.githubusercontent.com/66105422/114504755-f9f59180-9c4c-11eb-8ea2-8bd6f2d2389c.png)\r\n#### The same output came in JAVA :+1: \r\n\r\nHave any conclusion @Craigacp @pranavsharma ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/818470035/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/818711800",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7270#issuecomment-818711800",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7270",
        "id": 818711800,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxODcxMTgwMA==",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-13T12:53:49Z",
        "updated_at": "2021-04-13T12:53:49Z",
        "author_association": "CONTRIBUTOR",
        "body": "Good, I'm glad you've figured it out. I'll update the error message at some point in the next couple of weeks.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/818711800/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1179186023",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7270#issuecomment-1179186023",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7270",
        "id": 1179186023,
        "node_id": "IC_kwDOCVq1mM5GSPNn",
        "user": {
            "login": "Maaitrayo",
            "id": 76429346,
            "node_id": "MDQ6VXNlcjc2NDI5MzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/76429346?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Maaitrayo",
            "html_url": "https://github.com/Maaitrayo",
            "followers_url": "https://api.github.com/users/Maaitrayo/followers",
            "following_url": "https://api.github.com/users/Maaitrayo/following{/other_user}",
            "gists_url": "https://api.github.com/users/Maaitrayo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Maaitrayo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Maaitrayo/subscriptions",
            "organizations_url": "https://api.github.com/users/Maaitrayo/orgs",
            "repos_url": "https://api.github.com/users/Maaitrayo/repos",
            "events_url": "https://api.github.com/users/Maaitrayo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Maaitrayo/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-07-08T16:47:37Z",
        "updated_at": "2022-07-08T16:47:37Z",
        "author_association": "NONE",
        "body": "> get `This tensor is not representable in Java, it's too big`, while inference fasterrcnn_resnet50_fpn model in onnx.\r\n> \r\n> export_onnx.py (Python Source):\r\n> \r\n> ```\r\n>     model = torchvision.models.detection.fasterrcnn_resnet50_fpn(pretrained=True)\r\n>     x = [torch.rand(3, 1970, 1080)]\r\n>     torch.onnx.export(model, x, \"faster_rcnn.onnx\", opset_version = 11)\r\n> ```\r\n> \r\n> build.gradle (Gradle Source):\r\n> \r\n> ```\r\n>     dependencies {\r\n>           implementation group: 'com.microsoft.onnxruntime', name: 'onnxruntime', version: '1.7.0'\r\n>     }\r\n> ```\r\n> \r\n> Pridiction.java (Java Source):\r\n> \r\n> ```\r\n> 47| try(OrtSession session = env.createSession(modelPath.toFile().getAbsolutePath(), \r\n> 48|                    new OrtSession.SessionOptions())) {\r\n> 49|\r\n> 50|     OnnxTensor t1 = OnnxTensor.createTensor(env, sourceData, dimensions);\r\n> 51|     OrtSession.Result result = session.run(Collections.singletonMap(\"image.1\", t1));\r\n> 52|\r\n> 53|     for (int i = 0; i < result.size(); i++) {\r\n> 54|         System.out.println(result.get(i).getValue());\r\n> 55|     }\r\n> 56|\r\n> 57|     result.close();\r\n> 58|     t1.close();\r\n> 59| }\r\n> ```\r\n> \r\n> Exception while inference:\r\n> \r\n> ```\r\n> ai.onnxruntime.OrtException: This tensor is not representable in Java, it's too big - shape = [0, 4]\r\n> \tat ai.onnxruntime.TensorInfo.makeCarrier(TensorInfo.java:171)\r\n> \tat ai.onnxruntime.OnnxTensor.getValue(OnnxTensor.java:99)\r\n> \tat onnx.predict.Pridiction.main(Pridiction.java:54)\r\n> ```\r\n> \r\n> Refered sites:\r\n> \r\n> ```\r\n>        1. https://www.onnxruntime.ai/docs/reference/api/java-api.html\r\n>        2. https://pytorch.org/vision/stable/models.html#faster-r-cnn\r\n> ```\r\n\r\nmaking the shape [1,4] might work",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1179186023/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]