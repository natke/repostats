[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1530075996",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15756#issuecomment-1530075996",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15756",
        "id": 1530075996,
        "node_id": "IC_kwDOCVq1mM5bMxtc",
        "user": {
            "login": "edgchen1",
            "id": 18449977,
            "node_id": "MDQ6VXNlcjE4NDQ5OTc3",
            "avatar_url": "https://avatars.githubusercontent.com/u/18449977?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edgchen1",
            "html_url": "https://github.com/edgchen1",
            "followers_url": "https://api.github.com/users/edgchen1/followers",
            "following_url": "https://api.github.com/users/edgchen1/following{/other_user}",
            "gists_url": "https://api.github.com/users/edgchen1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/edgchen1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/edgchen1/subscriptions",
            "organizations_url": "https://api.github.com/users/edgchen1/orgs",
            "repos_url": "https://api.github.com/users/edgchen1/repos",
            "events_url": "https://api.github.com/users/edgchen1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/edgchen1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-01T18:58:39Z",
        "updated_at": "2023-05-01T18:58:39Z",
        "author_association": "MEMBER",
        "body": "Tried with ORT 1.14.1. I was unable to reproduce the same issue with `model.onnx`. It appears to have external data in a `weights.pb` file which I did not have in the same directory, so I got a different error about not being able to open that file.\r\n\r\nIf you can provide all the referenced external data files I can try again.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1530075996/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1531053077",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15756#issuecomment-1531053077",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15756",
        "id": 1531053077,
        "node_id": "IC_kwDOCVq1mM5bQgQV",
        "user": {
            "login": "nezaBacar",
            "id": 44346767,
            "node_id": "MDQ6VXNlcjQ0MzQ2NzY3",
            "avatar_url": "https://avatars.githubusercontent.com/u/44346767?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nezaBacar",
            "html_url": "https://github.com/nezaBacar",
            "followers_url": "https://api.github.com/users/nezaBacar/followers",
            "following_url": "https://api.github.com/users/nezaBacar/following{/other_user}",
            "gists_url": "https://api.github.com/users/nezaBacar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nezaBacar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nezaBacar/subscriptions",
            "organizations_url": "https://api.github.com/users/nezaBacar/orgs",
            "repos_url": "https://api.github.com/users/nezaBacar/repos",
            "events_url": "https://api.github.com/users/nezaBacar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nezaBacar/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-02T08:06:30Z",
        "updated_at": "2023-05-02T08:06:30Z",
        "author_association": "NONE",
        "body": "Oops, I forgot to attach it. It's in the folder now. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1531053077/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1531895107",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15756#issuecomment-1531895107",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15756",
        "id": 1531895107,
        "node_id": "IC_kwDOCVq1mM5bTt1D",
        "user": {
            "login": "edgchen1",
            "id": 18449977,
            "node_id": "MDQ6VXNlcjE4NDQ5OTc3",
            "avatar_url": "https://avatars.githubusercontent.com/u/18449977?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edgchen1",
            "html_url": "https://github.com/edgchen1",
            "followers_url": "https://api.github.com/users/edgchen1/followers",
            "following_url": "https://api.github.com/users/edgchen1/following{/other_user}",
            "gists_url": "https://api.github.com/users/edgchen1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/edgchen1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/edgchen1/subscriptions",
            "organizations_url": "https://api.github.com/users/edgchen1/orgs",
            "repos_url": "https://api.github.com/users/edgchen1/repos",
            "events_url": "https://api.github.com/users/edgchen1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/edgchen1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-02T17:49:36Z",
        "updated_at": "2023-05-02T17:49:36Z",
        "author_association": "MEMBER",
        "body": "Ok, I can reproduce it now. It looks like the ORT format model is not getting converted correctly as it is empty. This explains the later error message but ideally it would have failed earlier.\r\n\r\nThe ORT format is a FlatBuffers schema and I think we may be hitting a FlatBuffers size limit here. The answer [here](https://stackoverflow.com/questions/59185516/do-flatbuffers-have-size-limits) says the largest a single FlatBuffer can be is 2GB, but the `weights.pb` file itself is >3GB.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1531895107/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1532547101",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15756#issuecomment-1532547101",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15756",
        "id": 1532547101,
        "node_id": "IC_kwDOCVq1mM5bWNAd",
        "user": {
            "login": "nezaBacar",
            "id": 44346767,
            "node_id": "MDQ6VXNlcjQ0MzQ2NzY3",
            "avatar_url": "https://avatars.githubusercontent.com/u/44346767?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nezaBacar",
            "html_url": "https://github.com/nezaBacar",
            "followers_url": "https://api.github.com/users/nezaBacar/followers",
            "following_url": "https://api.github.com/users/nezaBacar/following{/other_user}",
            "gists_url": "https://api.github.com/users/nezaBacar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nezaBacar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nezaBacar/subscriptions",
            "organizations_url": "https://api.github.com/users/nezaBacar/orgs",
            "repos_url": "https://api.github.com/users/nezaBacar/repos",
            "events_url": "https://api.github.com/users/nezaBacar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nezaBacar/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-03T07:02:35Z",
        "updated_at": "2023-05-03T07:02:35Z",
        "author_association": "NONE",
        "body": "Okay, thank you for your answer. So there is no way to convert the model to ORT? \r\nI wanted to do that since onnxruntime-web does not support the onnx external data format yet and ORT puts the files into one. Do you think there is any other way that I could run an inference with this model on web? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1532547101/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1533926425",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15756#issuecomment-1533926425",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15756",
        "id": 1533926425,
        "node_id": "IC_kwDOCVq1mM5bbdwZ",
        "user": {
            "login": "edgchen1",
            "id": 18449977,
            "node_id": "MDQ6VXNlcjE4NDQ5OTc3",
            "avatar_url": "https://avatars.githubusercontent.com/u/18449977?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edgchen1",
            "html_url": "https://github.com/edgchen1",
            "followers_url": "https://api.github.com/users/edgchen1/followers",
            "following_url": "https://api.github.com/users/edgchen1/following{/other_user}",
            "gists_url": "https://api.github.com/users/edgchen1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/edgchen1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/edgchen1/subscriptions",
            "organizations_url": "https://api.github.com/users/edgchen1/orgs",
            "repos_url": "https://api.github.com/users/edgchen1/repos",
            "events_url": "https://api.github.com/users/edgchen1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/edgchen1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-04T00:55:30Z",
        "updated_at": "2023-05-04T00:55:30Z",
        "author_association": "MEMBER",
        "body": "> So there is no way to convert the model to ORT?\r\n\r\nNot at the moment, with the 2GB size limit of the ORT format.\r\n\r\n> Do you think there is any other way that I could run an inference with this model on web?\r\n\r\n@guschmue Any suggestions?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1533926425/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1535293772",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15756#issuecomment-1535293772",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15756",
        "id": 1535293772,
        "node_id": "IC_kwDOCVq1mM5bgrlM",
        "user": {
            "login": "guschmue",
            "id": 22941064,
            "node_id": "MDQ6VXNlcjIyOTQxMDY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/22941064?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guschmue",
            "html_url": "https://github.com/guschmue",
            "followers_url": "https://api.github.com/users/guschmue/followers",
            "following_url": "https://api.github.com/users/guschmue/following{/other_user}",
            "gists_url": "https://api.github.com/users/guschmue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guschmue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guschmue/subscriptions",
            "organizations_url": "https://api.github.com/users/guschmue/orgs",
            "repos_url": "https://api.github.com/users/guschmue/repos",
            "events_url": "https://api.github.com/users/guschmue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guschmue/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-04T19:27:37Z",
        "updated_at": "2023-05-04T19:27:37Z",
        "author_association": "MEMBER",
        "body": "Although we understand the desire to run stable diffusion in the browser, it seems that for now it is out of reach for onnxruntime-web. There are a couple of reasons for this. \r\nFirstly, wasm is 32-bit and limited to 4GB which is not enough to load/run all models from a sd pipeline. \r\nSecondly, the fp16 onnx models for sd require around 6-8GB gpu memory and there is no fast fp16 implementation for onnxruntime-web. This means that you would need to use fp32 which makes the memory issue even worse. \r\nThirdly, running sd on a cpu is not ideal and wasm would be slower than native cpu. Webgl isn’t that much faster and is missing a bunch of ops for sd.\r\n\r\nUpcoming webgpu might enable sd. We enable this in ort-1.15 but it is brand new and experimental. \r\nWe need to implement more ops and much optimization has to happen. \r\nAnd we need to find a way of dealing with the 32 bit wasm limitation (ie. memory64).\r\n\r\nSo hopefully in a couple of months that becomes a possibility.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1535293772/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1541586016",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15756#issuecomment-1541586016",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15756",
        "id": 1541586016,
        "node_id": "IC_kwDOCVq1mM5b4rxg",
        "user": {
            "login": "nezaBacar",
            "id": 44346767,
            "node_id": "MDQ6VXNlcjQ0MzQ2NzY3",
            "avatar_url": "https://avatars.githubusercontent.com/u/44346767?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nezaBacar",
            "html_url": "https://github.com/nezaBacar",
            "followers_url": "https://api.github.com/users/nezaBacar/followers",
            "following_url": "https://api.github.com/users/nezaBacar/following{/other_user}",
            "gists_url": "https://api.github.com/users/nezaBacar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nezaBacar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nezaBacar/subscriptions",
            "organizations_url": "https://api.github.com/users/nezaBacar/orgs",
            "repos_url": "https://api.github.com/users/nezaBacar/repos",
            "events_url": "https://api.github.com/users/nezaBacar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nezaBacar/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-10T08:38:56Z",
        "updated_at": "2023-05-10T08:38:56Z",
        "author_association": "NONE",
        "body": "Okay, thank you so much for the response! ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1541586016/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]