[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1414527896",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14550#issuecomment-1414527896",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14550",
        "id": 1414527896,
        "node_id": "IC_kwDOCVq1mM5UT_uY",
        "user": {
            "login": "PatriceVignola",
            "id": 5880386,
            "node_id": "MDQ6VXNlcjU4ODAzODY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5880386?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/PatriceVignola",
            "html_url": "https://github.com/PatriceVignola",
            "followers_url": "https://api.github.com/users/PatriceVignola/followers",
            "following_url": "https://api.github.com/users/PatriceVignola/following{/other_user}",
            "gists_url": "https://api.github.com/users/PatriceVignola/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/PatriceVignola/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/PatriceVignola/subscriptions",
            "organizations_url": "https://api.github.com/users/PatriceVignola/orgs",
            "repos_url": "https://api.github.com/users/PatriceVignola/repos",
            "events_url": "https://api.github.com/users/PatriceVignola/events{/privacy}",
            "received_events_url": "https://api.github.com/users/PatriceVignola/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-03T00:00:41Z",
        "updated_at": "2023-02-03T00:00:41Z",
        "author_association": "MEMBER",
        "body": "Hi @tom-huntington\r\n\r\nIf the dynamic sizes don't need to be changed that often, you could instead call [`session_options.add_free_dimension_override_by_name(â€¦)`](https://onnxruntime.ai/docs/api/python/api_summary.html#sessionoptions) with `{batch_size, uncached_token_len, full_token_len, next_full_token_length}` at runtime, rather than modifying the model manually.\r\n\r\nOn the other hand, if the dynamic sizes need to change often (e.g. for every single inference), we fixed the `Shape` problem you mentioned in 1.14, which should release next week. We still recommend using fixed dimensions where possible, but dynamic dimension models should now be viable once 1.14 is out.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1414527896/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1414537363",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14550#issuecomment-1414537363",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14550",
        "id": 1414537363,
        "node_id": "IC_kwDOCVq1mM5UUCCT",
        "user": {
            "login": "tom-huntington",
            "id": 55266932,
            "node_id": "MDQ6VXNlcjU1MjY2OTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/55266932?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tom-huntington",
            "html_url": "https://github.com/tom-huntington",
            "followers_url": "https://api.github.com/users/tom-huntington/followers",
            "following_url": "https://api.github.com/users/tom-huntington/following{/other_user}",
            "gists_url": "https://api.github.com/users/tom-huntington/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tom-huntington/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tom-huntington/subscriptions",
            "organizations_url": "https://api.github.com/users/tom-huntington/orgs",
            "repos_url": "https://api.github.com/users/tom-huntington/repos",
            "events_url": "https://api.github.com/users/tom-huntington/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tom-huntington/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-03T00:12:30Z",
        "updated_at": "2023-02-03T00:12:30Z",
        "author_association": "NONE",
        "body": "> On the other hand, if the dynamic sizes need to change often (e.g. for every single inference), we fixed the `Shape` problem you mentioned in 1.14, which should release next week. We still recommend using fixed dimensions where possible, but dynamic dimension models should now be viable once 1.14 is out.\r\n\r\n@PatriceVignola  Thanks that's a relief. Will be needing this release",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1414537363/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1415047509",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14550#issuecomment-1415047509",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14550",
        "id": 1415047509,
        "node_id": "IC_kwDOCVq1mM5UV-lV",
        "user": {
            "login": "fdwr",
            "id": 1809166,
            "node_id": "MDQ6VXNlcjE4MDkxNjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1809166?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fdwr",
            "html_url": "https://github.com/fdwr",
            "followers_url": "https://api.github.com/users/fdwr/followers",
            "following_url": "https://api.github.com/users/fdwr/following{/other_user}",
            "gists_url": "https://api.github.com/users/fdwr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fdwr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fdwr/subscriptions",
            "organizations_url": "https://api.github.com/users/fdwr/orgs",
            "repos_url": "https://api.github.com/users/fdwr/repos",
            "events_url": "https://api.github.com/users/fdwr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fdwr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-03T05:49:38Z",
        "updated_at": "2023-02-03T05:49:38Z",
        "author_association": "MEMBER",
        "body": "Tom: Yes, if viable for your scenario, please call `add_free_dimension_override_by_name` too even with the ORT 1.14 Shape improvement, because it affords more optimization opportunities during session load, since the shapes can be computed statically and thus various resource sizes known up front.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1415047509/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1416490413",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14550#issuecomment-1416490413",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14550",
        "id": 1416490413,
        "node_id": "IC_kwDOCVq1mM5Ube2t",
        "user": {
            "login": "tom-huntington",
            "id": 55266932,
            "node_id": "MDQ6VXNlcjU1MjY2OTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/55266932?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tom-huntington",
            "html_url": "https://github.com/tom-huntington",
            "followers_url": "https://api.github.com/users/tom-huntington/followers",
            "following_url": "https://api.github.com/users/tom-huntington/following{/other_user}",
            "gists_url": "https://api.github.com/users/tom-huntington/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tom-huntington/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tom-huntington/subscriptions",
            "organizations_url": "https://api.github.com/users/tom-huntington/orgs",
            "repos_url": "https://api.github.com/users/tom-huntington/repos",
            "events_url": "https://api.github.com/users/tom-huntington/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tom-huntington/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-03T22:37:54Z",
        "updated_at": "2023-02-03T22:42:17Z",
        "author_association": "NONE",
        "body": "@fdwr with the openai/whisper model the sentence length changes every single inference (unlike with other transformer models i.e. LLMs which pad with blank tokens), But there might be some benefit to overriding the batch dimension.\r\n\r\nHere's the corresponding [WinML api](https://learn.microsoft.com/en-us/uwp/api/windows.ai.machinelearning.learningmodelsessionoptions.overridenameddimension?view=winrt-22621).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1416490413/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1598126361",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14550#issuecomment-1598126361",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14550",
        "id": 1598126361,
        "node_id": "IC_kwDOCVq1mM5fQXkZ",
        "user": {
            "login": "tom-huntington",
            "id": 55266932,
            "node_id": "MDQ6VXNlcjU1MjY2OTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/55266932?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tom-huntington",
            "html_url": "https://github.com/tom-huntington",
            "followers_url": "https://api.github.com/users/tom-huntington/followers",
            "following_url": "https://api.github.com/users/tom-huntington/following{/other_user}",
            "gists_url": "https://api.github.com/users/tom-huntington/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tom-huntington/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tom-huntington/subscriptions",
            "organizations_url": "https://api.github.com/users/tom-huntington/orgs",
            "repos_url": "https://api.github.com/users/tom-huntington/repos",
            "events_url": "https://api.github.com/users/tom-huntington/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tom-huntington/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-20T05:10:33Z",
        "updated_at": "2023-06-20T06:13:17Z",
        "author_association": "NONE",
        "body": "For python `onnxruntime-directml` the performance didn't change at all after upgrading to 1.15. \r\n\r\n[Updated Profiling results](https://gist.github.com/tom-huntington/9fe69e5b19736968db13e9c8cd56df4e)\r\n\r\nStill getting this warning:\r\n>2023-06-20 16:41:01.6273756 [W:onnxruntime:, session_state.cc:1169 onnxruntime::VerifyEachNodeIsAssignedToAnEp] Some nodes were not assigned to the preferred execution providers which may or may not have an negative impact on performance. e.g. ORT explicitly assigns shape related ops to CPU to improve perf.\r\n2023-06-20 16:41:01.6397685 [W:onnxruntime:, session_state.cc:1171 onnxruntime::VerifyEachNodeIsAssignedToAnEp] Rerunning with verbose output on a non-minimal build will show node assignments.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1598126361/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]