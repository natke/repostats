[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1472480982",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15086#issuecomment-1472480982",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15086",
        "id": 1472480982,
        "node_id": "IC_kwDOCVq1mM5XxEbW",
        "user": {
            "login": "abgoswam",
            "id": 8822956,
            "node_id": "MDQ6VXNlcjg4MjI5NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8822956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abgoswam",
            "html_url": "https://github.com/abgoswam",
            "followers_url": "https://api.github.com/users/abgoswam/followers",
            "following_url": "https://api.github.com/users/abgoswam/following{/other_user}",
            "gists_url": "https://api.github.com/users/abgoswam/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abgoswam/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abgoswam/subscriptions",
            "organizations_url": "https://api.github.com/users/abgoswam/orgs",
            "repos_url": "https://api.github.com/users/abgoswam/repos",
            "events_url": "https://api.github.com/users/abgoswam/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abgoswam/received_events",
            "type": "User",
            "site_admin": true
        },
        "created_at": "2023-03-16T18:10:49Z",
        "updated_at": "2023-03-16T18:10:49Z",
        "author_association": "MEMBER",
        "body": "cc @fs-eire @xalili @Yi-Mao @isidorn ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1472480982/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1472674827",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15086#issuecomment-1472674827",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15086",
        "id": 1472674827,
        "node_id": "IC_kwDOCVq1mM5XxzwL",
        "user": {
            "login": "abgoswam",
            "id": 8822956,
            "node_id": "MDQ6VXNlcjg4MjI5NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8822956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abgoswam",
            "html_url": "https://github.com/abgoswam",
            "followers_url": "https://api.github.com/users/abgoswam/followers",
            "following_url": "https://api.github.com/users/abgoswam/following{/other_user}",
            "gists_url": "https://api.github.com/users/abgoswam/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abgoswam/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abgoswam/subscriptions",
            "organizations_url": "https://api.github.com/users/abgoswam/orgs",
            "repos_url": "https://api.github.com/users/abgoswam/repos",
            "events_url": "https://api.github.com/users/abgoswam/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abgoswam/received_events",
            "type": "User",
            "site_admin": true
        },
        "created_at": "2023-03-16T20:13:20Z",
        "updated_at": "2023-03-16T20:13:20Z",
        "author_association": "MEMBER",
        "body": "We also tried a `tinybert` model and observe the same \"memory spike\" behaviour:\r\n\r\n![image](https://user-images.githubusercontent.com/8822956/225741517-b274e096-cb8b-4530-82ed-7b26995ebd79.png)\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1472674827/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1473626756",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15086#issuecomment-1473626756",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15086",
        "id": 1473626756,
        "node_id": "IC_kwDOCVq1mM5X1cKE",
        "user": {
            "login": "pauldog",
            "id": 33497043,
            "node_id": "MDQ6VXNlcjMzNDk3MDQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/33497043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pauldog",
            "html_url": "https://github.com/pauldog",
            "followers_url": "https://api.github.com/users/pauldog/followers",
            "following_url": "https://api.github.com/users/pauldog/following{/other_user}",
            "gists_url": "https://api.github.com/users/pauldog/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pauldog/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pauldog/subscriptions",
            "organizations_url": "https://api.github.com/users/pauldog/orgs",
            "repos_url": "https://api.github.com/users/pauldog/repos",
            "events_url": "https://api.github.com/users/pauldog/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pauldog/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-17T10:31:02Z",
        "updated_at": "2023-03-17T10:31:02Z",
        "author_association": "NONE",
        "body": "Is this related? #15080 ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1473626756/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1474420765",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15086#issuecomment-1474420765",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15086",
        "id": 1474420765,
        "node_id": "IC_kwDOCVq1mM5X4eAd",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-17T21:30:10Z",
        "updated_at": "2023-03-17T21:30:10Z",
        "author_association": "MEMBER",
        "body": "Just to clarify - this issue is about using onnxruntime-web on Node.js, not inside browsers.\r\n\r\nThe root cause of this issue is identified as the environment being used is running Node.js v16.0.0 (WSL2), which uses the underlying V8 engine version 9.0. This is an old verson of V8, and there are a lot of improvement being made from the JS engine ( latest chromium based browsers uses V8 v11.1 ), and we see the memory usage is significantly reduced in latest V8.\r\n\r\nI did a memory heap snapshot from devtoll by using `--inspect` commandline flag and validated that Node.js v16.0.0 will consume much more memory than expected to load a very simple ONNX model.\r\n\r\nThe conclusion is that we don't recommend to use onnxruntime-web on an old version of Node.js. Use onnxruntime-web on browsers are usually fine, as we assume users to use relatively newer version. Use onnxruntime-node on Node.js is a better option and in this case I verified that there is no memory issue using onnxruntime-node.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1474420765/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]