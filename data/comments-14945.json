[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1467647447",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14945#issuecomment-1467647447",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14945",
        "id": 1467647447,
        "node_id": "IC_kwDOCVq1mM5XeoXX",
        "user": {
            "login": "wejoncy",
            "id": 9417365,
            "node_id": "MDQ6VXNlcjk0MTczNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9417365?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wejoncy",
            "html_url": "https://github.com/wejoncy",
            "followers_url": "https://api.github.com/users/wejoncy/followers",
            "following_url": "https://api.github.com/users/wejoncy/following{/other_user}",
            "gists_url": "https://api.github.com/users/wejoncy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wejoncy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wejoncy/subscriptions",
            "organizations_url": "https://api.github.com/users/wejoncy/orgs",
            "repos_url": "https://api.github.com/users/wejoncy/repos",
            "events_url": "https://api.github.com/users/wejoncy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wejoncy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-14T08:42:21Z",
        "updated_at": "2023-03-14T08:42:21Z",
        "author_association": "MEMBER",
        "body": "GCC 11.1 should build it successfully. A quick [test ](https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:'1',fontScale:14,fontUsePx:'0',j:1,lang:c%2B%2B,selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:'%23include+%3Ccstdio%3E%0A%23include+%3Cimmintrin.h%3E%0A%0A%0Aint*+tile_load()%7B%0A++++static+int+a%5B16%5D,b%5B16%5D%3B%0A++++_tile_loadd(a,b,4*16)%3B%0A++++return+a%3B%0A%7D%0A%0Aint+main()%7B%0A++++auto+*a%3Dtile_load()%3B%0A++++printf(%22%25d+%5Cn%22,*a)%3B%0A++++return+0%3B%0A%7D'),l:'5',n:'0',o:'C%2B%2B+source+%231',t:'0')),k:50.04790026451396,l:'4',m:100,n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:g111,deviceViewOpen:'1',filters:(b:'0',binary:'1',binaryObject:'1',commentOnly:'0',demangle:'0',directives:'0',execute:'1',intel:'0',libraryCode:'1',trim:'1'),flagsViewOpen:'1',fontScale:14,fontUsePx:'0',j:1,lang:c%2B%2B,libs:!(),options:'-O3+-fopenmp-simd+-mamx-tile',selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'+x86-64+gcc+11.1+(Editor+%231)',t:'0')),k:49.95209973548605,l:'4',m:100,n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4)\r\n\r\nTry to update your compiler or  you can workaound it by disable AMX on this [line](https://github.com/microsoft/onnxruntime/blob/0fa00429d561fcdea5330ebe817c69d52b2ad6fb/cmake/onnxruntime_mlas.cmake#L10)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1467647447/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1468342985",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14945#issuecomment-1468342985",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14945",
        "id": 1468342985,
        "node_id": "IC_kwDOCVq1mM5XhSLJ",
        "user": {
            "login": "BengtGustafsson",
            "id": 16004348,
            "node_id": "MDQ6VXNlcjE2MDA0MzQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/16004348?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BengtGustafsson",
            "html_url": "https://github.com/BengtGustafsson",
            "followers_url": "https://api.github.com/users/BengtGustafsson/followers",
            "following_url": "https://api.github.com/users/BengtGustafsson/following{/other_user}",
            "gists_url": "https://api.github.com/users/BengtGustafsson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BengtGustafsson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BengtGustafsson/subscriptions",
            "organizations_url": "https://api.github.com/users/BengtGustafsson/orgs",
            "repos_url": "https://api.github.com/users/BengtGustafsson/repos",
            "events_url": "https://api.github.com/users/BengtGustafsson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BengtGustafsson/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-14T15:41:03Z",
        "updated_at": "2023-03-14T15:41:03Z",
        "author_association": "CONTRIBUTOR",
        "body": "I have gcc 11.1 and I still get these errors, running in a docker based on Ubuntu 18.04. I checked the godbolt link and there are a couple of command line parmeters (-fopenmp-simd -mamx-tile) included. Maybe those are not set when cmake builds onnx_runtime?\r\n\r\nThis is my full g++ version: g++ (Ubuntu 11.1.0-1ubuntu1~18.04.1) 11.1.0\r\n\r\nAs the line you refer to to patch is in an if for GCC >= 11 and the original issue creator still had problem with gcc 11.1 (just like me) it seems quite obvious to me that gcc 11.1 can't build this code\r\n\r\nThe wikipedia page for AMX [here](https://github.com/gcc-mirror/gcc/commit/5c609842d13a4c9c6be1a10f7980a74d27daeb85):. indicates that it has been merged into gcc 11 and the release note says: New ISA extension support for Intel AMX-TILE, AMX-INT8, AMX-BF16 was added to GCC. AMX-TILE, AMX-INT8, AMX-BF16 intrinsics are available via the -mamx-tile, -mamx-int8, -mamx-bf16 compiler switches.\r\n\r\nSo maybe a lack of those switches is the issue? Or maybe the support in gcc11.1 was not that good?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1468342985/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1469352383",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14945#issuecomment-1469352383",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14945",
        "id": 1469352383,
        "node_id": "IC_kwDOCVq1mM5XlIm_",
        "user": {
            "login": "wejoncy",
            "id": 9417365,
            "node_id": "MDQ6VXNlcjk0MTczNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9417365?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wejoncy",
            "html_url": "https://github.com/wejoncy",
            "followers_url": "https://api.github.com/users/wejoncy/followers",
            "following_url": "https://api.github.com/users/wejoncy/following{/other_user}",
            "gists_url": "https://api.github.com/users/wejoncy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wejoncy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wejoncy/subscriptions",
            "organizations_url": "https://api.github.com/users/wejoncy/orgs",
            "repos_url": "https://api.github.com/users/wejoncy/repos",
            "events_url": "https://api.github.com/users/wejoncy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wejoncy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-15T05:16:27Z",
        "updated_at": "2023-03-15T05:16:27Z",
        "author_association": "MEMBER",
        "body": "> \r\n\r\nGCC support AMX indeed, otherwise it can't recoginize this switchs \" -mamx-tile, etc\".\r\n\r\nI think the underlying cause is the assembler.  AMX wasn't supportted to emit the corespond instructions until [2.40](https://github.com/bminor/binutils-gdb/releases/tag/binutils-2_40)\r\n\r\nWhat's your assembler version?  Could you try to update your AS tool if it's lower than 2.4?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1469352383/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1471324305",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14945#issuecomment-1471324305",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14945",
        "id": 1471324305,
        "node_id": "IC_kwDOCVq1mM5XsqCR",
        "user": {
            "login": "fuhengwu2021",
            "id": 85374689,
            "node_id": "MDQ6VXNlcjg1Mzc0Njg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/85374689?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fuhengwu2021",
            "html_url": "https://github.com/fuhengwu2021",
            "followers_url": "https://api.github.com/users/fuhengwu2021/followers",
            "following_url": "https://api.github.com/users/fuhengwu2021/following{/other_user}",
            "gists_url": "https://api.github.com/users/fuhengwu2021/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fuhengwu2021/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fuhengwu2021/subscriptions",
            "organizations_url": "https://api.github.com/users/fuhengwu2021/orgs",
            "repos_url": "https://api.github.com/users/fuhengwu2021/repos",
            "events_url": "https://api.github.com/users/fuhengwu2021/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fuhengwu2021/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-16T05:08:26Z",
        "updated_at": "2023-03-16T05:08:26Z",
        "author_association": "NONE",
        "body": "It works after upgrading gas to 2.4+. Thanks @wejoncy ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1471324305/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]