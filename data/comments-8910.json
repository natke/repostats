[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/909452222",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8910#issuecomment-909452222",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8910",
        "id": 909452222,
        "node_id": "IC_kwDOCVq1mM42NSO-",
        "user": {
            "login": "WQtong",
            "id": 17046020,
            "node_id": "MDQ6VXNlcjE3MDQ2MDIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17046020?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/WQtong",
            "html_url": "https://github.com/WQtong",
            "followers_url": "https://api.github.com/users/WQtong/followers",
            "following_url": "https://api.github.com/users/WQtong/following{/other_user}",
            "gists_url": "https://api.github.com/users/WQtong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/WQtong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/WQtong/subscriptions",
            "organizations_url": "https://api.github.com/users/WQtong/orgs",
            "repos_url": "https://api.github.com/users/WQtong/repos",
            "events_url": "https://api.github.com/users/WQtong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/WQtong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-31T17:45:32Z",
        "updated_at": "2021-08-31T17:45:32Z",
        "author_association": "NONE",
        "body": "When I export the batch size and seq length I use is 10 and 10. \r\nSince 5 and 1 here are src_length and batch_size which are dynamic, it should be fine to use other numbers during inference. However, only if I use same numbers during inference (10 and 10) the onnx decoder can run through. Otherwise it shows this issue. Can anyone help explain? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/909452222/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/909453518",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8910#issuecomment-909453518",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8910",
        "id": 909453518,
        "node_id": "IC_kwDOCVq1mM42NSjO",
        "user": {
            "login": "WQtong",
            "id": 17046020,
            "node_id": "MDQ6VXNlcjE3MDQ2MDIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17046020?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/WQtong",
            "html_url": "https://github.com/WQtong",
            "followers_url": "https://api.github.com/users/WQtong/followers",
            "following_url": "https://api.github.com/users/WQtong/following{/other_user}",
            "gists_url": "https://api.github.com/users/WQtong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/WQtong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/WQtong/subscriptions",
            "organizations_url": "https://api.github.com/users/WQtong/orgs",
            "repos_url": "https://api.github.com/users/WQtong/repos",
            "events_url": "https://api.github.com/users/WQtong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/WQtong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-31T17:47:06Z",
        "updated_at": "2021-08-31T17:47:06Z",
        "author_association": "NONE",
        "body": "My script for export:\r\n`torch.onnx.export(torch_model_decoder, (dummy_input3, out_encoder), \"decoder.onnx\", opset_version=11 ,verbose=True, input_names=['input1', 'input2', 'input3'], output_names=[\"output\"], dynamic_axes={'input1': {0: 'batch_size', 1: 'src_seq_len'}, 'input2': {0: 'src_seq_len', 1: 'batch_size'}, 'input3': {0: 'batch_size', 1: 'src_seq_len'}})`",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/909453518/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/909513639",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8910#issuecomment-909513639",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8910",
        "id": 909513639,
        "node_id": "IC_kwDOCVq1mM42NhOn",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-31T18:55:43Z",
        "updated_at": "2021-08-31T18:58:00Z",
        "author_association": "CONTRIBUTOR",
        "body": "For the Reshape node, the input tensor has `5*1*256=1280` elements, the expected output shape is at least `80*32=2560` elements, which requires the input to have `x*2560` elements, this is the reason of the failure running Reshape node.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/909513639/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/911962864",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8910#issuecomment-911962864",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8910",
        "id": 911962864,
        "node_id": "IC_kwDOCVq1mM42W3Lw",
        "user": {
            "login": "WQtong",
            "id": 17046020,
            "node_id": "MDQ6VXNlcjE3MDQ2MDIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17046020?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/WQtong",
            "html_url": "https://github.com/WQtong",
            "followers_url": "https://api.github.com/users/WQtong/followers",
            "following_url": "https://api.github.com/users/WQtong/following{/other_user}",
            "gists_url": "https://api.github.com/users/WQtong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/WQtong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/WQtong/subscriptions",
            "organizations_url": "https://api.github.com/users/WQtong/orgs",
            "repos_url": "https://api.github.com/users/WQtong/repos",
            "events_url": "https://api.github.com/users/WQtong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/WQtong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-09-02T18:49:36Z",
        "updated_at": "2021-09-02T18:50:45Z",
        "author_association": "NONE",
        "body": "```\r\nTraceback (most recent call last):\r\n  File \"onnx_inerence.py\", line 26, in <module>\r\n    outputs = ort_session_decoder.run(None, {'input1': dummy_input1, 'input2': outputs_encoder[0], 'input3': outputs_encoder[1]})\r\n  File \"/opt/conda/envs/character-bert/lib/python3.8/site-packages/onnxruntime/capi/onnxruntime_inference_collection.py\", line 188, in run\r\n    return self._sess.run(output_names, input_feed, run_options)\r\nonnxruntime.capi.onnxruntime_pybind11_state.RuntimeException: [ONNXRuntimeError] : 6 : RUNTIME_EXCEPTION : Non-zero status code returned while running Reshape node. Name:'Reshape_81' Status Message: /onnxruntime_src/onnxruntime/core/providers/cpu/tensor/reshape_helper.h:41 onnxruntime::ReshapeHelper::ReshapeHelper(const onnxruntime::TensorShape&, std::vector<long int>&, bool) gsl::narrow_cast<int64_t>(input_shape.Size()) == size was false. The input tensor cannot be reshaped to the requested shape. Input shape:{5,1,256}, requested shape:{1,8,32}\r\n```\r\nThe error persists after I export with batch size & seq length = 1. When I do inference on example with seq = 5 it will show this error again, while input have 5 * 1 * 256 while request shape is 1 * 8 * 32. Also I don't know what tensor is the (1, 8, 32), it is not the final output of the network.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/911962864/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/950493993",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8910#issuecomment-950493993",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8910",
        "id": 950493993,
        "node_id": "IC_kwDOCVq1mM44p2Mp",
        "user": {
            "login": "zhijxu-MS",
            "id": 43435212,
            "node_id": "MDQ6VXNlcjQzNDM1MjEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/43435212?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zhijxu-MS",
            "html_url": "https://github.com/zhijxu-MS",
            "followers_url": "https://api.github.com/users/zhijxu-MS/followers",
            "following_url": "https://api.github.com/users/zhijxu-MS/following{/other_user}",
            "gists_url": "https://api.github.com/users/zhijxu-MS/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zhijxu-MS/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zhijxu-MS/subscriptions",
            "organizations_url": "https://api.github.com/users/zhijxu-MS/orgs",
            "repos_url": "https://api.github.com/users/zhijxu-MS/repos",
            "events_url": "https://api.github.com/users/zhijxu-MS/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zhijxu-MS/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-25T03:27:51Z",
        "updated_at": "2021-10-25T03:27:51Z",
        "author_association": "MEMBER",
        "body": "looks like an exporter issue. 5 * 1 * 256 is not equal to 1 * 8 * 32, so ort's response is correct.\r\n@WQtong you may open issue in the exporter repo which used to export the graph.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/950493993/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1101915374",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8910#issuecomment-1101915374",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8910",
        "id": 1101915374,
        "node_id": "IC_kwDOCVq1mM5BreTu",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2022-04-19T01:53:40Z",
        "updated_at": "2022-04-19T01:53:40Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1101915374/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1150752986",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8910#issuecomment-1150752986",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8910",
        "id": 1150752986,
        "node_id": "IC_kwDOCVq1mM5Elxja",
        "user": {
            "login": "shifujain",
            "id": 38124154,
            "node_id": "MDQ6VXNlcjM4MTI0MTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/38124154?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shifujain",
            "html_url": "https://github.com/shifujain",
            "followers_url": "https://api.github.com/users/shifujain/followers",
            "following_url": "https://api.github.com/users/shifujain/following{/other_user}",
            "gists_url": "https://api.github.com/users/shifujain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shifujain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shifujain/subscriptions",
            "organizations_url": "https://api.github.com/users/shifujain/orgs",
            "repos_url": "https://api.github.com/users/shifujain/repos",
            "events_url": "https://api.github.com/users/shifujain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shifujain/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-06-09T07:08:31Z",
        "updated_at": "2022-06-09T07:08:31Z",
        "author_association": "NONE",
        "body": "> My script for export:\r\n> `torch.onnx.export(torch_model_decoder, (dummy_input3, out_encoder), \"decoder.onnx\", opset_version=11 ,verbose=True, input_names=['input1', 'input2', 'input3'], output_names=[\"output\"], dynamic_axes={'input1': {0: 'batch_size', 1: 'src_seq_len'}, 'input2': {0: 'src_seq_len', 1: 'batch_size'}, 'input3': {0: 'batch_size', 1: 'src_seq_len'}})`\r\n\r\n@[WQtong](https://github.com/WQtong), after exporting the decoder did you check the input_meta for the decoder_session and the required dimensions. There might be an error while exporting. Can you please share a snippet of your decoder forward method arguments as well as the associated shapes of those arguments?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1150752986/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]