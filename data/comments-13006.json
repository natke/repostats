[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1251342672",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13006#issuecomment-1251342672",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13006",
        "id": 1251342672,
        "node_id": "IC_kwDOCVq1mM5KlflQ",
        "user": {
            "login": "shalvamist",
            "id": 94086448,
            "node_id": "U_kgDOBZulMA",
            "avatar_url": "https://avatars.githubusercontent.com/u/94086448?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shalvamist",
            "html_url": "https://github.com/shalvamist",
            "followers_url": "https://api.github.com/users/shalvamist/followers",
            "following_url": "https://api.github.com/users/shalvamist/following{/other_user}",
            "gists_url": "https://api.github.com/users/shalvamist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shalvamist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shalvamist/subscriptions",
            "organizations_url": "https://api.github.com/users/shalvamist/orgs",
            "repos_url": "https://api.github.com/users/shalvamist/repos",
            "events_url": "https://api.github.com/users/shalvamist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shalvamist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-19T17:45:53Z",
        "updated_at": "2022-09-19T17:45:53Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hi,\r\n\r\nThanks for the detailed issue report.\r\nI tried to download the model you are referencing but the link leads to a folder with a lot of files - can you please share a link to the specific model file you are using to produce the issue ? this will help us to make sure I am following and using the exact setup you have on your end. \r\n\r\nThanks again",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1251342672/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1251346052",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13006#issuecomment-1251346052",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13006",
        "id": 1251346052,
        "node_id": "IC_kwDOCVq1mM5KlgaE",
        "user": {
            "login": "edhyah",
            "id": 8724450,
            "node_id": "MDQ6VXNlcjg3MjQ0NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8724450?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edhyah",
            "html_url": "https://github.com/edhyah",
            "followers_url": "https://api.github.com/users/edhyah/followers",
            "following_url": "https://api.github.com/users/edhyah/following{/other_user}",
            "gists_url": "https://api.github.com/users/edhyah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/edhyah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/edhyah/subscriptions",
            "organizations_url": "https://api.github.com/users/edhyah/orgs",
            "repos_url": "https://api.github.com/users/edhyah/repos",
            "events_url": "https://api.github.com/users/edhyah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/edhyah/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-19T17:49:21Z",
        "updated_at": "2022-09-19T17:49:21Z",
        "author_association": "NONE",
        "body": "Hello,\r\n\r\nThanks for the reply!\r\n\r\nIn that folder, the main model file is `model.onxx`. Since it's a large model (> 2GB) though, I had to use external data, which is why you see all of the other .weight and .bias files. I think the problem is I can't seem to load onnx models with these external data files.\r\n\r\nLet me know what you think.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1251346052/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1252016380",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13006#issuecomment-1252016380",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13006",
        "id": 1252016380,
        "node_id": "IC_kwDOCVq1mM5KoED8",
        "user": {
            "login": "edhyah",
            "id": 8724450,
            "node_id": "MDQ6VXNlcjg3MjQ0NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8724450?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edhyah",
            "html_url": "https://github.com/edhyah",
            "followers_url": "https://api.github.com/users/edhyah/followers",
            "following_url": "https://api.github.com/users/edhyah/following{/other_user}",
            "gists_url": "https://api.github.com/users/edhyah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/edhyah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/edhyah/subscriptions",
            "organizations_url": "https://api.github.com/users/edhyah/orgs",
            "repos_url": "https://api.github.com/users/edhyah/repos",
            "events_url": "https://api.github.com/users/edhyah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/edhyah/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-20T08:29:29Z",
        "updated_at": "2022-09-20T08:29:29Z",
        "author_association": "NONE",
        "body": "@shalvamist Any thoughts? Sorry, just a bit urgent on my end. Thanks!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1252016380/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1252970156",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13006#issuecomment-1252970156",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13006",
        "id": 1252970156,
        "node_id": "IC_kwDOCVq1mM5Krs6s",
        "user": {
            "login": "shalvamist",
            "id": 94086448,
            "node_id": "U_kgDOBZulMA",
            "avatar_url": "https://avatars.githubusercontent.com/u/94086448?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shalvamist",
            "html_url": "https://github.com/shalvamist",
            "followers_url": "https://api.github.com/users/shalvamist/followers",
            "following_url": "https://api.github.com/users/shalvamist/following{/other_user}",
            "gists_url": "https://api.github.com/users/shalvamist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shalvamist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shalvamist/subscriptions",
            "organizations_url": "https://api.github.com/users/shalvamist/orgs",
            "repos_url": "https://api.github.com/users/shalvamist/repos",
            "events_url": "https://api.github.com/users/shalvamist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shalvamist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-20T22:12:31Z",
        "updated_at": "2022-09-20T22:12:31Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hey,\r\n\r\nI understand the urgency and limitations, no worries :). \r\nIs there a way you can share a description of how to download and reconstruct the model on my end ? that will be the fastest route to get it on my end\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1252970156/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1252980368",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13006#issuecomment-1252980368",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13006",
        "id": 1252980368,
        "node_id": "IC_kwDOCVq1mM5KrvaQ",
        "user": {
            "login": "edhyah",
            "id": 8724450,
            "node_id": "MDQ6VXNlcjg3MjQ0NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8724450?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edhyah",
            "html_url": "https://github.com/edhyah",
            "followers_url": "https://api.github.com/users/edhyah/followers",
            "following_url": "https://api.github.com/users/edhyah/following{/other_user}",
            "gists_url": "https://api.github.com/users/edhyah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/edhyah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/edhyah/subscriptions",
            "organizations_url": "https://api.github.com/users/edhyah/orgs",
            "repos_url": "https://api.github.com/users/edhyah/repos",
            "events_url": "https://api.github.com/users/edhyah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/edhyah/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-20T22:27:02Z",
        "updated_at": "2022-09-20T22:30:02Z",
        "author_association": "NONE",
        "body": "Yes of course, thanks! I'm using Python 3.7; works best in a virtualenv.\r\n\r\nInstall the following packages.\r\n```\r\npip install torch diffusers transformers\r\n```\r\n\r\nThen, clone the github repo.\r\n```\r\ngit clone git@github.com:huggingface/diffusers.git\r\ncd diffusers\r\n```\r\n\r\nRun the torch to onnx script to convert the large model.\r\n```\r\npython scripts/convert_stable_diffusion_checkpoint_to_onnx.py --model_path=\"CompVis/stable-diffusion-v1-4\" --output_path=\"./stable_diffusion_onnx\"\r\n```\r\n\r\nThe model I'm having trouble with is located in `./stable_diffusion_onnx/unet`. All of the files in that `unet` folder can also be found in the link I shared above: https://drive.google.com/drive/folders/1l65XlDrYYE7m1EUPdEZ6SDGWjrlIljJu?usp=sharing",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1252980368/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1253170010",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13006#issuecomment-1253170010",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13006",
        "id": 1253170010,
        "node_id": "IC_kwDOCVq1mM5Ksdta",
        "user": {
            "login": "shalvamist",
            "id": 94086448,
            "node_id": "U_kgDOBZulMA",
            "avatar_url": "https://avatars.githubusercontent.com/u/94086448?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shalvamist",
            "html_url": "https://github.com/shalvamist",
            "followers_url": "https://api.github.com/users/shalvamist/followers",
            "following_url": "https://api.github.com/users/shalvamist/following{/other_user}",
            "gists_url": "https://api.github.com/users/shalvamist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shalvamist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shalvamist/subscriptions",
            "organizations_url": "https://api.github.com/users/shalvamist/orgs",
            "repos_url": "https://api.github.com/users/shalvamist/repos",
            "events_url": "https://api.github.com/users/shalvamist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shalvamist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-21T03:51:02Z",
        "updated_at": "2022-09-21T03:52:01Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hey @edhyah \r\n\r\nThanks for sharing the details - I was able to reproduce the issue on my end.\r\nThe error was exactly the same - \r\n```\r\nDeserialize tensor onnx::MatMul_12479 failed.tensorprotoutils.cc:640 TensorProtoToTensor External initializer: onnx::MatMul_12479 offset: 0 size to read: 409600 given file_length: 32 are out of bounds or can not be read in full.\r\n```\r\n\r\nLet me try to dig a little deeper into this issue and I will try to get back to you in the following days.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1253170010/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1253273163",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13006#issuecomment-1253273163",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13006",
        "id": 1253273163,
        "node_id": "IC_kwDOCVq1mM5Ks25L",
        "user": {
            "login": "edhyah",
            "id": 8724450,
            "node_id": "MDQ6VXNlcjg3MjQ0NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8724450?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edhyah",
            "html_url": "https://github.com/edhyah",
            "followers_url": "https://api.github.com/users/edhyah/followers",
            "following_url": "https://api.github.com/users/edhyah/following{/other_user}",
            "gists_url": "https://api.github.com/users/edhyah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/edhyah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/edhyah/subscriptions",
            "organizations_url": "https://api.github.com/users/edhyah/orgs",
            "repos_url": "https://api.github.com/users/edhyah/repos",
            "events_url": "https://api.github.com/users/edhyah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/edhyah/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-21T06:41:57Z",
        "updated_at": "2022-09-21T06:41:57Z",
        "author_association": "NONE",
        "body": "Awesome thank you! Really appreciate it :)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1253273163/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1253998231",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13006#issuecomment-1253998231",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13006",
        "id": 1253998231,
        "node_id": "IC_kwDOCVq1mM5Kvn6X",
        "user": {
            "login": "shalvamist",
            "id": 94086448,
            "node_id": "U_kgDOBZulMA",
            "avatar_url": "https://avatars.githubusercontent.com/u/94086448?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shalvamist",
            "html_url": "https://github.com/shalvamist",
            "followers_url": "https://api.github.com/users/shalvamist/followers",
            "following_url": "https://api.github.com/users/shalvamist/following{/other_user}",
            "gists_url": "https://api.github.com/users/shalvamist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shalvamist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shalvamist/subscriptions",
            "organizations_url": "https://api.github.com/users/shalvamist/orgs",
            "repos_url": "https://api.github.com/users/shalvamist/repos",
            "events_url": "https://api.github.com/users/shalvamist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shalvamist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-21T17:14:18Z",
        "updated_at": "2022-09-21T17:14:18Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hi,\r\n\r\nSo we looked at the error and we think the cause is due to the size of the model it hits the 4GB address space limitation of WASM. Unfortunately at this time there are several limitation on getting this model running on ORT Web. The main challenge is at this stage is WASM 32bit addressing space (4GB limit).\r\nThere are several threads on the topic working on WASM 64bit - here are a few - \r\n- https://github.com/WebAssembly/memory64\r\n- https://github.com/bytecodealliance/wasmtime/pull/3153\r\n\r\nI also checked if we have a downsized version of Unet to try but as of now there isn't one that meets the accuracy requirements. So until WASM 64bit will be supported officially (we'll need to enable this support in ORT Web) or we'll have a trimmed down version of the model we can't run this on WASM. There might be a possibility to use WebGL but there are other concerns there that are related to performance (20> sec per inference on a very strong GPU)\r\n\r\nSorry I couldn't be of more help, please let me know if you have any comments or ideas to can try to enable your progress. \r\nWe'll be happy to help.\r\n ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1253998231/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1255449819",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13006#issuecomment-1255449819",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13006",
        "id": 1255449819,
        "node_id": "IC_kwDOCVq1mM5K1KTb",
        "user": {
            "login": "edhyah",
            "id": 8724450,
            "node_id": "MDQ6VXNlcjg3MjQ0NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8724450?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edhyah",
            "html_url": "https://github.com/edhyah",
            "followers_url": "https://api.github.com/users/edhyah/followers",
            "following_url": "https://api.github.com/users/edhyah/following{/other_user}",
            "gists_url": "https://api.github.com/users/edhyah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/edhyah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/edhyah/subscriptions",
            "organizations_url": "https://api.github.com/users/edhyah/orgs",
            "repos_url": "https://api.github.com/users/edhyah/repos",
            "events_url": "https://api.github.com/users/edhyah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/edhyah/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-22T19:19:33Z",
        "updated_at": "2022-09-22T19:19:33Z",
        "author_association": "NONE",
        "body": "Ah gotcha. Thank you for all of the work! Really appreciate it :)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1255449819/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]