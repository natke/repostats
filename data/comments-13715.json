[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1325703970",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13715#issuecomment-1325703970",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13715",
        "id": 1325703970,
        "node_id": "IC_kwDOCVq1mM5PBKMi",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-11-23T21:54:30Z",
        "updated_at": "2022-11-23T21:54:30Z",
        "author_association": "MEMBER",
        "body": "The input type is float. Why are you casting a string to float ```(float*)reduced_script.c_str()```? Have you looked at the examples/sample code?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1325703970/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1326325245",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13715#issuecomment-1326325245",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13715",
        "id": 1326325245,
        "node_id": "IC_kwDOCVq1mM5PDh39",
        "user": {
            "login": "sashanksilwal",
            "id": 25387553,
            "node_id": "MDQ6VXNlcjI1Mzg3NTUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/25387553?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sashanksilwal",
            "html_url": "https://github.com/sashanksilwal",
            "followers_url": "https://api.github.com/users/sashanksilwal/followers",
            "following_url": "https://api.github.com/users/sashanksilwal/following{/other_user}",
            "gists_url": "https://api.github.com/users/sashanksilwal/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sashanksilwal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sashanksilwal/subscriptions",
            "organizations_url": "https://api.github.com/users/sashanksilwal/orgs",
            "repos_url": "https://api.github.com/users/sashanksilwal/repos",
            "events_url": "https://api.github.com/users/sashanksilwal/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sashanksilwal/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-11-24T11:31:44Z",
        "updated_at": "2022-11-24T11:31:44Z",
        "author_association": "NONE",
        "body": "Thank you @pranavsharma \r\n\r\nI did look at the starter code, but I am having some issues understanding how the implementation would be for string input as opposed to images matrix. \r\n\r\nThis is my current attempt looking at the examples, however, the size I am providing the tensor creation as output (1) and the shape of the model (499) does not match. If I pass 499 to the output_size, I get an error as the size of output_name_tfidf will be 1. \r\n\r\n```c++\r\n    // create const char *const * input name float_input\r\n    const char *const input_name_classification = \"float_input\";\r\n    const char *const output_name_classification_tfidf = \"variable\";\r\n    const char *const output_name_classification = \"output_label\";\r\n\r\n    const char *const* input_name  = &input_name_classification;\r\n    const char *const* output_name_tfidf = &output_name_classification_tfidf;\r\n    const char *const* output_name = &output_name_classification;\r\n\r\n\r\n Ort::AllocatorWithDefaultOptions allocator;\r\n auto allocatorInfo = Ort::MemoryInfo::CreateCpu(OrtArenaAllocator, OrtMemTypeDefault);\r\n std::vector<int64_t> input_node_dims_classification = {1, 1};  \r\n Ort::Value input_tensor_classification = Ort::Value::CreateTensor<std::string>(allocatorInfo,  &reduced_script  , reduced_script.size(), input_node_dims_classification.data(), input_node_dims_classification.size());\r\n std::vector<Ort::Value> output_tensor_classification = sess_classification_tfidf.Run(Ort::RunOptions{nullptr}, input_name, &input_tensor_classification, 1, output_name_tfidf, 1);\r\n std::vector<Ort::Value> prediction = sess_classification.Run(Ort::RunOptions{nullptr}, input_name, &input_tensor_classification, 1, output_name, 1);\r\n        \r\n```\r\n\r\nHere is the link to my current implementation: https://github.com/sashanksilwal/Capstone\r\n\r\nI would be grateful if you could guide me here. Thank you ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1326325245/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1336125246",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13715#issuecomment-1336125246",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13715",
        "id": 1336125246,
        "node_id": "IC_kwDOCVq1mM5Po6c-",
        "user": {
            "login": "sashanksilwal",
            "id": 25387553,
            "node_id": "MDQ6VXNlcjI1Mzg3NTUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/25387553?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sashanksilwal",
            "html_url": "https://github.com/sashanksilwal",
            "followers_url": "https://api.github.com/users/sashanksilwal/followers",
            "following_url": "https://api.github.com/users/sashanksilwal/following{/other_user}",
            "gists_url": "https://api.github.com/users/sashanksilwal/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sashanksilwal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sashanksilwal/subscriptions",
            "organizations_url": "https://api.github.com/users/sashanksilwal/orgs",
            "repos_url": "https://api.github.com/users/sashanksilwal/repos",
            "events_url": "https://api.github.com/users/sashanksilwal/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sashanksilwal/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-03T09:52:11Z",
        "updated_at": "2022-12-03T09:52:11Z",
        "author_association": "NONE",
        "body": "I was able to find the solution. I had the following errors:\r\n\r\n1. GetShape() function returns -1 when using 'permute' and 'reshape' functions in the model.  So had to hardcode the shapes \r\n2. What I got after the inference was not a tensor but a sequence of map<int64, Tensor(float)>. So I could not use GetTensorMutableData() directly. \r\n\r\nSolutions: \r\n1. Hardcode the shape \r\n2. Example: https://github.com/microsoft/onnxruntime/blob/9e67b88c8312e124c3127c6ee0833c110a18fd5a/onnxruntime/test/shared_lib/test_nontensor_types.cc#L33\r\n\r\nFinal version of my code: https://github.com/sashanksilwal/Capstone/blob/main/Phase3/main.cpp",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1336125246/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]