[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/765664636",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6411#issuecomment-765664636",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6411",
        "id": 765664636,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTY2NDYzNg==",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-22T20:27:51Z",
        "updated_at": "2021-01-22T20:27:51Z",
        "author_association": "CONTRIBUTOR",
        "body": "Please take a look at this\r\n\r\nhttps://github.com/microsoft/onnxruntime/blob/60c772e2bc3a48af5621c895558038e764a51fd3/onnxruntime/test/python/onnxruntime_test_python.py#L829-L832",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/765664636/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/765670149",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6411#issuecomment-765670149",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6411",
        "id": 765670149,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTY3MDE0OQ==",
        "user": {
            "login": "vadimkantorov",
            "id": 1041752,
            "node_id": "MDQ6VXNlcjEwNDE3NTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1041752?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vadimkantorov",
            "html_url": "https://github.com/vadimkantorov",
            "followers_url": "https://api.github.com/users/vadimkantorov/followers",
            "following_url": "https://api.github.com/users/vadimkantorov/following{/other_user}",
            "gists_url": "https://api.github.com/users/vadimkantorov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vadimkantorov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vadimkantorov/subscriptions",
            "organizations_url": "https://api.github.com/users/vadimkantorov/orgs",
            "repos_url": "https://api.github.com/users/vadimkantorov/repos",
            "events_url": "https://api.github.com/users/vadimkantorov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vadimkantorov/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-22T20:35:16Z",
        "updated_at": "2021-01-22T20:38:50Z",
        "author_association": "NONE",
        "body": "Would it work for GPU? Does this allocator name carry any semantics? I could not found an example for \"gpu\" or \"cuda\".\r\n\r\nWhat about memory allocation tracing/logging? Is there such a capability?\r\n\r\nThanks!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/765670149/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/765681108",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6411#issuecomment-765681108",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6411",
        "id": 765681108,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTY4MTEwOA==",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-22T20:59:50Z",
        "updated_at": "2021-03-17T04:48:53Z",
        "author_association": "MEMBER",
        "body": "Yes, the cuda allocators do use the BFCArena to allocate a large chunk. See https://github.com/microsoft/onnxruntime/blob/cb8d8464bc6ee39a894ecc76e05574095f5eb489/onnxruntime/core/providers/cuda/cuda_execution_provider.cc#L75-L83\r\nHave you tried using nvprof for debugging?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/765681108/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/765690613",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6411#issuecomment-765690613",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6411",
        "id": 765690613,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTY5MDYxMw==",
        "user": {
            "login": "vadimkantorov",
            "id": 1041752,
            "node_id": "MDQ6VXNlcjEwNDE3NTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1041752?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vadimkantorov",
            "html_url": "https://github.com/vadimkantorov",
            "followers_url": "https://api.github.com/users/vadimkantorov/followers",
            "following_url": "https://api.github.com/users/vadimkantorov/following{/other_user}",
            "gists_url": "https://api.github.com/users/vadimkantorov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vadimkantorov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vadimkantorov/subscriptions",
            "organizations_url": "https://api.github.com/users/vadimkantorov/orgs",
            "repos_url": "https://api.github.com/users/vadimkantorov/repos",
            "events_url": "https://api.github.com/users/vadimkantorov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vadimkantorov/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-22T21:21:19Z",
        "updated_at": "2021-01-22T21:24:28Z",
        "author_association": "NONE",
        "body": "`nvprof` is a good idea. thanks!\r\n\r\nWhat is current behaviour of standard CUDA execution provider `InferenceSession.run` wrt allocations? Will it cache them between the runs? What are conditions of eviction? Are there any tweaks of the CUDA allocator? (e.g. to configure chunk size). My setup is varying-time batches for seq2seq (of course, we'll be working around by padding up to fixed-time batch shapes, but having proper allocator controls for inference would be good)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/765690613/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1422084729",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6411#issuecomment-1422084729",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6411",
        "id": 1422084729,
        "node_id": "IC_kwDOCVq1mM5Uw0p5",
        "user": {
            "login": "zengjie617789",
            "id": 25050291,
            "node_id": "MDQ6VXNlcjI1MDUwMjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25050291?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zengjie617789",
            "html_url": "https://github.com/zengjie617789",
            "followers_url": "https://api.github.com/users/zengjie617789/followers",
            "following_url": "https://api.github.com/users/zengjie617789/following{/other_user}",
            "gists_url": "https://api.github.com/users/zengjie617789/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zengjie617789/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zengjie617789/subscriptions",
            "organizations_url": "https://api.github.com/users/zengjie617789/orgs",
            "repos_url": "https://api.github.com/users/zengjie617789/repos",
            "events_url": "https://api.github.com/users/zengjie617789/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zengjie617789/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-08T06:32:08Z",
        "updated_at": "2023-02-08T06:32:08Z",
        "author_association": "NONE",
        "body": "I followed the reference code about gpu meomory allocator, which is below :\r\n```\r\n        expected_kvp_allocator = {\r\n            \"max_mem\": 16,\r\n            \"arena_extend_strategy\": 1,\r\n            \"initial_chunk_size_bytes\": 10,\r\n            \"max_dead_bytes_per_chunk\": 4,\r\n            \"initial_growth_chunk_size_bytes\": 2,\r\n        }\r\n\r\n        # ort_arena_cfg_kvp = onnxruntime.OrtArenaCfg(8,0,4,2)\r\n        ort_arena_cfg_kvp = onnxruntime.OrtArenaCfg(expected_kvp_allocator)\r\n```\r\nHowever， It seems not work to the code running.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1422084729/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]