[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/832477336",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7571#issuecomment-832477336",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7571",
        "id": 832477336,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgzMjQ3NzMzNg==",
        "user": {
            "login": "ytaous",
            "id": 4484531,
            "node_id": "MDQ6VXNlcjQ0ODQ1MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4484531?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ytaous",
            "html_url": "https://github.com/ytaous",
            "followers_url": "https://api.github.com/users/ytaous/followers",
            "following_url": "https://api.github.com/users/ytaous/following{/other_user}",
            "gists_url": "https://api.github.com/users/ytaous/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ytaous/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ytaous/subscriptions",
            "organizations_url": "https://api.github.com/users/ytaous/orgs",
            "repos_url": "https://api.github.com/users/ytaous/repos",
            "events_url": "https://api.github.com/users/ytaous/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ytaous/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-05T07:32:39Z",
        "updated_at": "2021-05-05T07:46:03Z",
        "author_association": "MEMBER",
        "body": "Hi, more details please.\r\nwhich part of the instruction you are trying to follow? \r\ndid you try build command (e.g., build.sh) to build instead? If using build cmd, can you try to add --cmake_extra_defines onnxruntime_BUILD_UNIT_TESTS=OFF at the end of the cmd and see?\r\nwhat's the full error stack you are getting? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/832477336/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/832829588",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7571#issuecomment-832829588",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7571",
        "id": 832829588,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgzMjgyOTU4OA==",
        "user": {
            "login": "ankurvdev",
            "id": 31362771,
            "node_id": "MDQ6VXNlcjMxMzYyNzcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/31362771?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ankurvdev",
            "html_url": "https://github.com/ankurvdev",
            "followers_url": "https://api.github.com/users/ankurvdev/followers",
            "following_url": "https://api.github.com/users/ankurvdev/following{/other_user}",
            "gists_url": "https://api.github.com/users/ankurvdev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ankurvdev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ankurvdev/subscriptions",
            "organizations_url": "https://api.github.com/users/ankurvdev/orgs",
            "repos_url": "https://api.github.com/users/ankurvdev/repos",
            "events_url": "https://api.github.com/users/ankurvdev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ankurvdev/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-05T16:23:35Z",
        "updated_at": "2021-05-05T16:23:35Z",
        "author_association": "MEMBER",
        "body": "I'm mostly using custom build instructions but I had a change to dig into that a little more and here's more details (with perhaps a fix)\r\n\r\nThe problem happens when you say \r\n-Donnxruntime_BUILD_UNIT_TESTS=OFF \r\nand\r\n-Donnxruntime_ENABLE_TRAINING=ON\r\n\r\nWhat happens is that because because BUILD_UNIT_TESTS is OFF the cmake file onnxruntime_unittest.cmake doesnt get included which defines the variable TEST_SRC_DIR\r\nhttps://github.com/microsoft/onnxruntime/blob/94c97ac8c2b2d9459e054a304cdc985ea9499dfa/cmake/onnxruntime_unittests.cmake#L7\r\n\r\nThe variable is used in onnxruntime_training.cmake here:\r\n\r\nhttps://github.com/microsoft/onnxruntime/blob/94c97ac8c2b2d9459e054a304cdc985ea9499dfa/cmake/onnxruntime_training.cmake#L49\r\n\r\nThe exact error occurs at\r\nhttps://github.com/microsoft/onnxruntime/blob/94c97ac8c2b2d9459e054a304cdc985ea9499dfa/cmake/onnxruntime_training.cmake#L93\r\n\r\nbecause TEST_SRC_DIR expands to empty and the paths dont line up.\r\n\r\n\r\nperhaps the right fix would be to simply not use the variable but \r\nuse ${ONNXRUNTIME_ROOT}/test\r\nA better yet fix would probably be to check if we're building UNITTESTS or not in  onnxruntime_training.cmake and put them under the right IF\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/832829588/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/833097652",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7571#issuecomment-833097652",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7571",
        "id": 833097652,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgzMzA5NzY1Mg==",
        "user": {
            "login": "ytaous",
            "id": 4484531,
            "node_id": "MDQ6VXNlcjQ0ODQ1MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4484531?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ytaous",
            "html_url": "https://github.com/ytaous",
            "followers_url": "https://api.github.com/users/ytaous/followers",
            "following_url": "https://api.github.com/users/ytaous/following{/other_user}",
            "gists_url": "https://api.github.com/users/ytaous/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ytaous/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ytaous/subscriptions",
            "organizations_url": "https://api.github.com/users/ytaous/orgs",
            "repos_url": "https://api.github.com/users/ytaous/repos",
            "events_url": "https://api.github.com/users/ytaous/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ytaous/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-05T22:46:17Z",
        "updated_at": "2021-05-05T22:46:17Z",
        "author_association": "MEMBER",
        "body": "@ankurverma85 0 I can repro the issue with:\r\n./build.sh --config RelWithDebInfo --use_cuda --enable_training --skip_tests --parallel --cmake_extra_defines onnxruntime_BUILD_UNIT_TESTS=OFF\r\n\r\nwo/ --enable_training, it will build. \r\n\r\nIs there any particular use case for this combination? This sounds like enhancement and welcome to contribute. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/833097652/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/834011085",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7571#issuecomment-834011085",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7571",
        "id": 834011085,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgzNDAxMTA4NQ==",
        "user": {
            "login": "ytaous",
            "id": 4484531,
            "node_id": "MDQ6VXNlcjQ0ODQ1MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4484531?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ytaous",
            "html_url": "https://github.com/ytaous",
            "followers_url": "https://api.github.com/users/ytaous/followers",
            "following_url": "https://api.github.com/users/ytaous/following{/other_user}",
            "gists_url": "https://api.github.com/users/ytaous/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ytaous/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ytaous/subscriptions",
            "organizations_url": "https://api.github.com/users/ytaous/orgs",
            "repos_url": "https://api.github.com/users/ytaous/repos",
            "events_url": "https://api.github.com/users/ytaous/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ytaous/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-07T02:23:10Z",
        "updated_at": "2021-05-07T02:23:10Z",
        "author_association": "MEMBER",
        "body": "close it for now",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/834011085/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1094909607",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7571#issuecomment-1094909607",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7571",
        "id": 1094909607,
        "node_id": "IC_kwDOCVq1mM5BQv6n",
        "user": {
            "login": "drux007",
            "id": 17862991,
            "node_id": "MDQ6VXNlcjE3ODYyOTkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/17862991?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/drux007",
            "html_url": "https://github.com/drux007",
            "followers_url": "https://api.github.com/users/drux007/followers",
            "following_url": "https://api.github.com/users/drux007/following{/other_user}",
            "gists_url": "https://api.github.com/users/drux007/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/drux007/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/drux007/subscriptions",
            "organizations_url": "https://api.github.com/users/drux007/orgs",
            "repos_url": "https://api.github.com/users/drux007/repos",
            "events_url": "https://api.github.com/users/drux007/events{/privacy}",
            "received_events_url": "https://api.github.com/users/drux007/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-04-11T11:01:43Z",
        "updated_at": "2022-04-11T11:01:43Z",
        "author_association": "NONE",
        "body": "Hi,\r\n\r\nI am also trying to build onnxruntime with `-Donnxruntime_BUILD_UNIT_TESTS=OFF` option to speed up the build process and it fails when I try to link onnxruntime against other static libraries in my application.\r\n\r\nThe error I get:\r\n```bash\r\n/usr/bin/ld: .../lib/libonnxruntime_session.a(ort_env.cc.o): in function `OrtEnv::GetInstance(OrtEnv::LoggingManagerConstructionInfo const&, onnxruntime::common::Status&, OrtThreadingOptions const*) [clone .cold]':\r\nort_env.cc:(.text.unlikely._ZN6OrtEnv11GetInstanceERKNS_30LoggingManagerConstructionInfoERN11onnxruntime6common6StatusEPK19OrtThreadingOptions+0x49): undefined reference to `nsync::nsync_mu_unlock(nsync::nsync_mu_s_*)'\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1094909607/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]