[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/731487627",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5876#issuecomment-731487627",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5876",
        "id": 731487627,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMTQ4NzYyNw==",
        "user": {
            "login": "RyanUnderhill",
            "id": 38674843,
            "node_id": "MDQ6VXNlcjM4Njc0ODQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/38674843?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RyanUnderhill",
            "html_url": "https://github.com/RyanUnderhill",
            "followers_url": "https://api.github.com/users/RyanUnderhill/followers",
            "following_url": "https://api.github.com/users/RyanUnderhill/following{/other_user}",
            "gists_url": "https://api.github.com/users/RyanUnderhill/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RyanUnderhill/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RyanUnderhill/subscriptions",
            "organizations_url": "https://api.github.com/users/RyanUnderhill/orgs",
            "repos_url": "https://api.github.com/users/RyanUnderhill/repos",
            "events_url": "https://api.github.com/users/RyanUnderhill/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RyanUnderhill/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-21T01:47:35Z",
        "updated_at": "2020-11-21T01:47:35Z",
        "author_association": "MEMBER",
        "body": "@aabghari This looks like a possible global initialization order issue, the shared provider was relying on a global being initialized to share the main onnxruntime allocator but the global initialization order is undefined.\r\n\r\nAfter this change: https://github.com/microsoft/onnxruntime/pull/5778\r\n\r\nThe allocator is accessed directly so I'm hoping that solves this issue too.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/731487627/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/731516659",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5876#issuecomment-731516659",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5876",
        "id": 731516659,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMTUxNjY1OQ==",
        "user": {
            "login": "aabghari",
            "id": 44274379,
            "node_id": "MDQ6VXNlcjQ0Mjc0Mzc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/44274379?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aabghari",
            "html_url": "https://github.com/aabghari",
            "followers_url": "https://api.github.com/users/aabghari/followers",
            "following_url": "https://api.github.com/users/aabghari/following{/other_user}",
            "gists_url": "https://api.github.com/users/aabghari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aabghari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aabghari/subscriptions",
            "organizations_url": "https://api.github.com/users/aabghari/orgs",
            "repos_url": "https://api.github.com/users/aabghari/repos",
            "events_url": "https://api.github.com/users/aabghari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aabghari/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-21T06:23:33Z",
        "updated_at": "2020-11-21T06:24:08Z",
        "author_association": "NONE",
        "body": "I figured out the issue. Since I upgraded from 1.3 to 1.5 directly, I had this `-lonnxruntime_providers_tensorrt` in my Makefile. Removing it from the Makefile fixed the issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/731516659/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/731518545",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5876#issuecomment-731518545",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5876",
        "id": 731518545,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMTUxODU0NQ==",
        "user": {
            "login": "aabghari",
            "id": 44274379,
            "node_id": "MDQ6VXNlcjQ0Mjc0Mzc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/44274379?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aabghari",
            "html_url": "https://github.com/aabghari",
            "followers_url": "https://api.github.com/users/aabghari/followers",
            "following_url": "https://api.github.com/users/aabghari/following{/other_user}",
            "gists_url": "https://api.github.com/users/aabghari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aabghari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aabghari/subscriptions",
            "organizations_url": "https://api.github.com/users/aabghari/orgs",
            "repos_url": "https://api.github.com/users/aabghari/repos",
            "events_url": "https://api.github.com/users/aabghari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aabghari/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-21T06:43:33Z",
        "updated_at": "2020-11-21T06:43:33Z",
        "author_association": "NONE",
        "body": "I am sure you have good reasons to convert the providers to shared lib, but I see a serious issue and I might be wrong. The issue is now, you need to ship the provider.so with your package and this is not an issue with Windows but with Linux. In Linux you need to install the provider.so in LD_LIBRARY_PATH folder. Now assume there are two different products from different vendors, each shipped with their own provider.so which might linked against different version of onnxruntime, say 1.5 and 1.6. The first choice for any vendor to install its provider.so would be `/usr/local/lib` for example and here we face the first problem. The problem is a package manager such as deb or rpm does not let the second package to be installed since it's going to override the provider.so from the first package. Even if, by some luck, each package installs its provider.so in different path, now you face the second issue when to get to run the actual application. We now have two different versions of the provider.so in our LD_LIBRARY_PATH and depends on the order of which .so gets loaded first, the application may run properly or crashes.\r\nPlease advise whether my thinking is right or wrong.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/731518545/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/732505925",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5876#issuecomment-732505925",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5876",
        "id": 732505925,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMjUwNTkyNQ==",
        "user": {
            "login": "RyanUnderhill",
            "id": 38674843,
            "node_id": "MDQ6VXNlcjM4Njc0ODQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/38674843?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RyanUnderhill",
            "html_url": "https://github.com/RyanUnderhill",
            "followers_url": "https://api.github.com/users/RyanUnderhill/followers",
            "following_url": "https://api.github.com/users/RyanUnderhill/following{/other_user}",
            "gists_url": "https://api.github.com/users/RyanUnderhill/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RyanUnderhill/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RyanUnderhill/subscriptions",
            "organizations_url": "https://api.github.com/users/RyanUnderhill/orgs",
            "repos_url": "https://api.github.com/users/RyanUnderhill/repos",
            "events_url": "https://api.github.com/users/RyanUnderhill/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RyanUnderhill/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-24T00:31:30Z",
        "updated_at": "2020-11-24T00:31:30Z",
        "author_association": "MEMBER",
        "body": "@aabghari Your thinking is correct, and we were initially using LD_LIBRARY_PATH to enable the dynamic loading of the shared providers but we switched from this approach and are using RPATH so that it loads the shared providers from the same path as the main onnxruntime library. This should allow for multiple version to coexist just fine as nobody pollutes LD_LIBRARY_PATH and nobody would mix different libraries within the same directory. Let me know if there's still an issue!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/732505925/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1102328463",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5876#issuecomment-1102328463",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5876",
        "id": 1102328463,
        "node_id": "IC_kwDOCVq1mM5BtDKP",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2022-04-19T08:54:14Z",
        "updated_at": "2022-04-19T08:54:14Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1102328463/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1470629482",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5876#issuecomment-1470629482",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5876",
        "id": 1470629482,
        "node_id": "IC_kwDOCVq1mM5XqAZq",
        "user": {
            "login": "Nanthini10",
            "id": 11373237,
            "node_id": "MDQ6VXNlcjExMzczMjM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11373237?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nanthini10",
            "html_url": "https://github.com/Nanthini10",
            "followers_url": "https://api.github.com/users/Nanthini10/followers",
            "following_url": "https://api.github.com/users/Nanthini10/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nanthini10/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nanthini10/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nanthini10/subscriptions",
            "organizations_url": "https://api.github.com/users/Nanthini10/orgs",
            "repos_url": "https://api.github.com/users/Nanthini10/repos",
            "events_url": "https://api.github.com/users/Nanthini10/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nanthini10/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-15T19:07:34Z",
        "updated_at": "2023-03-15T19:07:34Z",
        "author_association": "NONE",
        "body": "Hi, I'm facing a similar crash when running the following:\r\n\r\n```\r\nimport onnxruntime as ort\r\nimport numpy as np\r\n\r\nproviders = [('TensorrtExecutionProvider',{\"device_id\":0,\r\n                                      'trt_fp16_enable': True,\r\n                                      \"trt_engine_cache_enable\" : True}),\r\n            'CUDAExecutionProvider']\r\n\r\nmodel_name =r\"final_removed.onnx\"\r\n\r\nsession = ort.InferenceSession(model_name, providers=providers)\r\n\r\n###\r\n# ... numpy arrays as input and create an \r\n# input_dict = { 'input1': np_array_1...}\r\n# output_list = ['output1',...]\r\n###\r\nresult = session.run(output_list, input_dict)\r\nresult\r\n```\r\n\r\nThe notebook just stops running and it restarts the kernel. Let me know what is causing the error.\r\n\r\n```\r\nimport onnxruntime as ort\r\nort.__version__ \r\n# 1.14.1\r\nort.get_device()\r\n# 'GPU'\r\nort.get_available_providers()\r\n# ['TensorrtExecutionProvider', 'CUDAExecutionProvider', 'CPUExecutionProvider']\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1470629482/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]