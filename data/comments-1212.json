[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/501405339",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1212#issuecomment-501405339",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1212",
        "id": 501405339,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTQwNTMzOQ==",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-12T18:44:15Z",
        "updated_at": "2019-06-12T18:44:15Z",
        "author_association": "MEMBER",
        "body": "Can you attach decoder.onnx? generic_loop_Loop__97 is the name of a node in the graph and it looks like there's a type mismatch. 10 = float16 and 1 = float32.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/501405339/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/501946732",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1212#issuecomment-501946732",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1212",
        "id": 501946732,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTk0NjczMg==",
        "user": {
            "login": "vsooda",
            "id": 5305112,
            "node_id": "MDQ6VXNlcjUzMDUxMTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5305112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vsooda",
            "html_url": "https://github.com/vsooda",
            "followers_url": "https://api.github.com/users/vsooda/followers",
            "following_url": "https://api.github.com/users/vsooda/following{/other_user}",
            "gists_url": "https://api.github.com/users/vsooda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vsooda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vsooda/subscriptions",
            "organizations_url": "https://api.github.com/users/vsooda/orgs",
            "repos_url": "https://api.github.com/users/vsooda/repos",
            "events_url": "https://api.github.com/users/vsooda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vsooda/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-14T02:40:48Z",
        "updated_at": "2019-06-14T02:40:48Z",
        "author_association": "NONE",
        "body": "@pranavsharma  thank you. I'm checking model convert tools. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/501946732/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/503686918",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1212#issuecomment-503686918",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1212",
        "id": 503686918,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzY4NjkxOA==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-19T18:57:46Z",
        "updated_at": "2019-06-19T18:57:46Z",
        "author_association": "MEMBER",
        "body": "Hi @vsooda,\r\n\r\nWere you able to resolve this ?\r\n\r\nThanks\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/503686918/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/503811589",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1212#issuecomment-503811589",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1212",
        "id": 503811589,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzgxMTU4OQ==",
        "user": {
            "login": "vsooda",
            "id": 5305112,
            "node_id": "MDQ6VXNlcjUzMDUxMTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5305112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vsooda",
            "html_url": "https://github.com/vsooda",
            "followers_url": "https://api.github.com/users/vsooda/followers",
            "following_url": "https://api.github.com/users/vsooda/following{/other_user}",
            "gists_url": "https://api.github.com/users/vsooda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vsooda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vsooda/subscriptions",
            "organizations_url": "https://api.github.com/users/vsooda/orgs",
            "repos_url": "https://api.github.com/users/vsooda/repos",
            "events_url": "https://api.github.com/users/vsooda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vsooda/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-20T02:05:51Z",
        "updated_at": "2019-06-20T02:05:51Z",
        "author_association": "NONE",
        "body": "Hi @hariharans29 ,\r\n\r\nNo. I had checked the model convert tool, couldn't not found any problem. \r\n\r\ncould onnxruntime support seq2seq model fp16 inference?  I was worried about wasting too much time on it, and finally found out that was onnxruntime kernel's problem",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/503811589/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/504143177",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1212#issuecomment-504143177",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1212",
        "id": 504143177,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDE0MzE3Nw==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-20T18:58:01Z",
        "updated_at": "2019-06-20T18:58:01Z",
        "author_association": "MEMBER",
        "body": "Can you share your model ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/504143177/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/505334435",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1212#issuecomment-505334435",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1212",
        "id": 505334435,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTMzNDQzNQ==",
        "user": {
            "login": "vsooda",
            "id": 5305112,
            "node_id": "MDQ6VXNlcjUzMDUxMTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5305112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vsooda",
            "html_url": "https://github.com/vsooda",
            "followers_url": "https://api.github.com/users/vsooda/followers",
            "following_url": "https://api.github.com/users/vsooda/following{/other_user}",
            "gists_url": "https://api.github.com/users/vsooda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vsooda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vsooda/subscriptions",
            "organizations_url": "https://api.github.com/users/vsooda/orgs",
            "repos_url": "https://api.github.com/users/vsooda/repos",
            "events_url": "https://api.github.com/users/vsooda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vsooda/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-25T08:03:56Z",
        "updated_at": "2019-06-25T08:03:56Z",
        "author_association": "NONE",
        "body": "@hariharans29 thank you. I had tried to ask our company to share the model,  but failed.  I will debug onnx convert tool and onnxruntime after I finish the job at hand. or I will try to use an open source model to reproduce this problem.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/505334435/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/505637680",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1212#issuecomment-505637680",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1212",
        "id": 505637680,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTYzNzY4MA==",
        "user": {
            "login": "faxu",
            "id": 20780999,
            "node_id": "MDQ6VXNlcjIwNzgwOTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/20780999?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/faxu",
            "html_url": "https://github.com/faxu",
            "followers_url": "https://api.github.com/users/faxu/followers",
            "following_url": "https://api.github.com/users/faxu/following{/other_user}",
            "gists_url": "https://api.github.com/users/faxu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/faxu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/faxu/subscriptions",
            "organizations_url": "https://api.github.com/users/faxu/orgs",
            "repos_url": "https://api.github.com/users/faxu/repos",
            "events_url": "https://api.github.com/users/faxu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/faxu/received_events",
            "type": "User",
            "site_admin": true
        },
        "created_at": "2019-06-25T21:55:35Z",
        "updated_at": "2019-06-25T21:55:35Z",
        "author_association": "MEMBER",
        "body": "Closing this issue for now. If you have an example model or portion of a model to share, feedback on error messaging/debuggability, let us know and feel free to reactivate in future. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/505637680/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1435508492",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1212#issuecomment-1435508492",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1212",
        "id": 1435508492,
        "node_id": "IC_kwDOCVq1mM5VkB8M",
        "user": {
            "login": "un-certainty",
            "id": 102007104,
            "node_id": "U_kgDOBhSBQA",
            "avatar_url": "https://avatars.githubusercontent.com/u/102007104?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/un-certainty",
            "html_url": "https://github.com/un-certainty",
            "followers_url": "https://api.github.com/users/un-certainty/followers",
            "following_url": "https://api.github.com/users/un-certainty/following{/other_user}",
            "gists_url": "https://api.github.com/users/un-certainty/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/un-certainty/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/un-certainty/subscriptions",
            "organizations_url": "https://api.github.com/users/un-certainty/orgs",
            "repos_url": "https://api.github.com/users/un-certainty/repos",
            "events_url": "https://api.github.com/users/un-certainty/events{/privacy}",
            "received_events_url": "https://api.github.com/users/un-certainty/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-18T07:07:47Z",
        "updated_at": "2023-02-18T07:09:03Z",
        "author_association": "NONE",
        "body": "Hi @hariharans29 @faxu \r\n\r\nI encountered a similar `TypeInferenceError` while loading an ONNX model with `onnxruntime.InferenceSession`. It was a `torch.jit.script` model and exported with `torch.onnx.export`. There is a loop implemented in the computation graph.\r\n\r\nThe error message was:\r\n```\r\n[ONNXRuntimeError] : 1 : FAIL : Node (/Loop) Op (Loop) [TypeInferenceError] Graph attribute inferencing failed: Type Error: Type (seq(tensor(float16))) of output arg (/model/model/glm/transformer/layers.0/attention/SplitToSequence_output_0) of node (/model/model/glm/transformer/layers.0/attention/SplitToSequence) does not match expected type (seq(tensor(float))).\r\n```\r\n\r\nAnd here is the graph of `layers.0/attention/SplitToSequence`:\r\n![image](https://user-images.githubusercontent.com/102007104/219846527-38400cfe-e315-4282-b5c8-b73dbda588f7.png)\r\n\r\nRelated codes are:\r\n\r\n```python\r\ndef split_tensor_along_last_dim(tensor, num_partitions: int):\r\n    \"\"\"Split a tensor along its last dimension.\r\n    Arguments:\r\n        tensor: input tensor.\r\n        num_partitions: number of partitions to split the tensor\r\n    \"\"\"\r\n    return torch.tensor_split(tensor, num_partitions, dim=-1)\r\n\r\n# self.query_key_value = Linear(hidden_size, 3 * hidden_size)\r\nmixed_x_layer = self.query_key_value(hidden_states)\r\nmixed_query_layer, mixed_key_layer, mixed_value_layer) = split_tensor_along_last_dim(mixed_x_layer, 3)\r\nquery_layer = self._transpose_for_scores(mixed_query_layer)\r\nkey_layer = self._transpose_for_scores(mixed_key_layer)\r\nvalue_layer = self._transpose_for_scores(mixed_value_layer)\r\n```\r\n\r\nI am not able to share the ONNX file. Could you provide some directions on where to start to debug the problem? I have completely no idea why a tensor(float) is expected, since all my weights and tensors are in float16.\r\n\r\nNot sure if this is related: https://github.com/pytorch/pytorch/issues/72498",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1435508492/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]