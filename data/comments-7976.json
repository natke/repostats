[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856107413",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7976#issuecomment-856107413",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7976",
        "id": 856107413,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjEwNzQxMw==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-07T17:02:50Z",
        "updated_at": "2021-06-07T17:02:50Z",
        "author_association": "MEMBER",
        "body": "If you know how to make it better, welcome to contribute your changes!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856107413/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856489426",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7976#issuecomment-856489426",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7976",
        "id": 856489426,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjQ4OTQyNg==",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-08T06:30:35Z",
        "updated_at": "2021-06-08T06:30:35Z",
        "author_association": "MEMBER",
        "body": "it looks like the setup of CMake is fine. the \"emcmake\" mentioned above should be a typo which I cannot find it in any document.\r\n\r\nI think the real problem is, according to https://emscripten.org/docs/tools_reference/emsdk.html?highlight=activate#emsdk-set-active-tools, we missed the `source ./emsdk_env.sh`, so variables are not populated correctly.\r\n\r\n```\r\n./emsdk activate <tool/sdk name>\r\n\r\n# On Linux and macOS, also set the environment variables.\r\nsource ./emsdk_env.sh\r\n```\r\n\r\nHowever, I didn't see any way inside `build.py` can call the shell command `source ./emsdk_env.sh` and preserve the state. Need help for this part.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856489426/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856757024",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7976#issuecomment-856757024",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7976",
        "id": 856757024,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1Njc1NzAyNA==",
        "user": {
            "login": "daquexian",
            "id": 11607199,
            "node_id": "MDQ6VXNlcjExNjA3MTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11607199?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/daquexian",
            "html_url": "https://github.com/daquexian",
            "followers_url": "https://api.github.com/users/daquexian/followers",
            "following_url": "https://api.github.com/users/daquexian/following{/other_user}",
            "gists_url": "https://api.github.com/users/daquexian/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/daquexian/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/daquexian/subscriptions",
            "organizations_url": "https://api.github.com/users/daquexian/orgs",
            "repos_url": "https://api.github.com/users/daquexian/repos",
            "events_url": "https://api.github.com/users/daquexian/events{/privacy}",
            "received_events_url": "https://api.github.com/users/daquexian/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-08T13:14:59Z",
        "updated_at": "2021-06-08T13:33:28Z",
        "author_association": "CONTRIBUTOR",
        "body": "> the \"emcmake\" mentioned above should be a typo which I cannot find it in any document.\r\n\r\n[emcmake](https://github.com/emscripten-core/emscripten/blob/main/emcmake) is just the same file with [emconfigure](https://github.com/emscripten-core/emscripten/blob/main/emconfigure) (which is in docs)\r\n\r\n> We recommend you call both emconfigure and emmake scripts in configure- and CMake-based build systems. Whether you actually need to call both tools depends on the build system (some systems will store the environment variables in the configure step, and others will not).\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856757024/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856955998",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7976#issuecomment-856955998",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7976",
        "id": 856955998,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1Njk1NTk5OA==",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-08T17:27:44Z",
        "updated_at": "2021-06-08T17:27:44Z",
        "author_association": "MEMBER",
        "body": "> > the \"emcmake\" mentioned above should be a typo which I cannot find it in any document.\r\n> \r\n> [emcmake](https://github.com/emscripten-core/emscripten/blob/main/emcmake) is just the same file with [emconfigure](https://github.com/emscripten-core/emscripten/blob/main/emconfigure) (which is in docs)\r\n> \r\n> > We recommend you call both emconfigure and emmake scripts in configure- and CMake-based build systems. Whether you actually need to call both tools depends on the build system (some systems will store the environment variables in the configure step, and others will not).\r\n\r\n@daquexian thanks for clarification. could you help to verify if this workaround works:\r\n\r\n1. start with a clean build\r\n2. use `./build.sh --build_wasm` to build, expect it reports the error\r\n3. in your shell, call `source path-to-emsdk_env.sh` (if you are in ORT source root, this should be `source cmake/external/emsdk/emsdk_env.sh`)\r\n4. use the command in step2 and see if this time it passes the build",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856955998/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/857295339",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7976#issuecomment-857295339",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7976",
        "id": 857295339,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzI5NTMzOQ==",
        "user": {
            "login": "daquexian",
            "id": 11607199,
            "node_id": "MDQ6VXNlcjExNjA3MTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11607199?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/daquexian",
            "html_url": "https://github.com/daquexian",
            "followers_url": "https://api.github.com/users/daquexian/followers",
            "following_url": "https://api.github.com/users/daquexian/following{/other_user}",
            "gists_url": "https://api.github.com/users/daquexian/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/daquexian/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/daquexian/subscriptions",
            "organizations_url": "https://api.github.com/users/daquexian/orgs",
            "repos_url": "https://api.github.com/users/daquexian/repos",
            "events_url": "https://api.github.com/users/daquexian/events{/privacy}",
            "received_events_url": "https://api.github.com/users/daquexian/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-09T01:09:14Z",
        "updated_at": "2021-06-09T01:09:28Z",
        "author_association": "CONTRIBUTOR",
        "body": "@fs-eire I pulled the latest master of ort and tried again. This time the build succeeded. Maybe this issue is already fixed?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/857295339/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/857308029",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7976#issuecomment-857308029",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7976",
        "id": 857308029,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzMwODAyOQ==",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-09T01:48:06Z",
        "updated_at": "2021-06-09T01:48:06Z",
        "author_association": "MEMBER",
        "body": "> @fs-eire I pulled the latest master of ort and tried again. This time the build succeeded. Maybe this issue is already fixed?\r\n\r\nthe command `source path-to-emsdk_env.sh` set the environment variables to make it works. unfortunately if you open a new shell window, you have to manually set it again.\r\n\r\nI don't have a good way to make this automatic. I am going to make a change to remove emsdk from submodules, make the setup steps manually and put the instructions in doc.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/857308029/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1428722817",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7976#issuecomment-1428722817",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7976",
        "id": 1428722817,
        "node_id": "IC_kwDOCVq1mM5VKJSB",
        "user": {
            "login": "guschmue",
            "id": 22941064,
            "node_id": "MDQ6VXNlcjIyOTQxMDY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/22941064?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guschmue",
            "html_url": "https://github.com/guschmue",
            "followers_url": "https://api.github.com/users/guschmue/followers",
            "following_url": "https://api.github.com/users/guschmue/following{/other_user}",
            "gists_url": "https://api.github.com/users/guschmue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guschmue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guschmue/subscriptions",
            "organizations_url": "https://api.github.com/users/guschmue/orgs",
            "repos_url": "https://api.github.com/users/guschmue/repos",
            "events_url": "https://api.github.com/users/guschmue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guschmue/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-13T21:36:19Z",
        "updated_at": "2023-02-13T21:36:19Z",
        "author_association": "MEMBER",
        "body": "this should be no longer an issue",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1428722817/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]