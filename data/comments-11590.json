[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1134208300",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11590#issuecomment-1134208300",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11590",
        "id": 1134208300,
        "node_id": "IC_kwDOCVq1mM5DmqUs",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-23T05:47:22Z",
        "updated_at": "2022-05-23T05:47:22Z",
        "author_association": "MEMBER",
        "body": "Have you measured accuracy with an evaluation data set? If accuracy is on par for GPU result, I think it is fine.  Sometime, GEMM could get slight different result in CPU and CUDA due to partition and aggregation.\r\n\r\nTo investigate the cause, you might follow #7668 to dump inputs and outputs of each node, then you can find which node causes the difference.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1134208300/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1136612804",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11590#issuecomment-1136612804",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11590",
        "id": 1136612804,
        "node_id": "IC_kwDOCVq1mM5Dv1XE",
        "user": {
            "login": "cqray1990",
            "id": 32585434,
            "node_id": "MDQ6VXNlcjMyNTg1NDM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/32585434?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cqray1990",
            "html_url": "https://github.com/cqray1990",
            "followers_url": "https://api.github.com/users/cqray1990/followers",
            "following_url": "https://api.github.com/users/cqray1990/following{/other_user}",
            "gists_url": "https://api.github.com/users/cqray1990/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cqray1990/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cqray1990/subscriptions",
            "organizations_url": "https://api.github.com/users/cqray1990/orgs",
            "repos_url": "https://api.github.com/users/cqray1990/repos",
            "events_url": "https://api.github.com/users/cqray1990/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cqray1990/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-25T01:38:34Z",
        "updated_at": "2022-05-25T01:38:34Z",
        "author_association": "NONE",
        "body": "@tianleiwu but when use onnxruntime-gpu 1.7 the results is fine,that's make no sense",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1136612804/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1138282739",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11590#issuecomment-1138282739",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11590",
        "id": 1138282739,
        "node_id": "IC_kwDOCVq1mM5D2NDz",
        "user": {
            "login": "cqray1990",
            "id": 32585434,
            "node_id": "MDQ6VXNlcjMyNTg1NDM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/32585434?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cqray1990",
            "html_url": "https://github.com/cqray1990",
            "followers_url": "https://api.github.com/users/cqray1990/followers",
            "following_url": "https://api.github.com/users/cqray1990/following{/other_user}",
            "gists_url": "https://api.github.com/users/cqray1990/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cqray1990/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cqray1990/subscriptions",
            "organizations_url": "https://api.github.com/users/cqray1990/orgs",
            "repos_url": "https://api.github.com/users/cqray1990/repos",
            "events_url": "https://api.github.com/users/cqray1990/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cqray1990/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-26T08:13:38Z",
        "updated_at": "2022-05-26T08:13:38Z",
        "author_association": "NONE",
        "body": "@mattetti ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1138282739/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1165806400",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11590#issuecomment-1165806400",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11590",
        "id": 1165806400,
        "node_id": "IC_kwDOCVq1mM5FfMtA",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-06-24T17:58:18Z",
        "updated_at": "2022-06-24T17:59:50Z",
        "author_association": "MEMBER",
        "body": "@[cqray1990](https://github.com/cqray1990), are you able to the find out the cause by dumping inputs and outputs of each node? If you do so in onnxruntime-gpu 1.7 vs latest version, you can compare the dump outputs to find out which node cause the difference. Sometime, it might be caused by dependent DLLs like cuDNN etc.\r\n\r\nIf you need help, please share test script and model to reproduce the issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1165806400/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1482465901",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11590#issuecomment-1482465901",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11590",
        "id": 1482465901,
        "node_id": "IC_kwDOCVq1mM5YXKJt",
        "user": {
            "login": "cqray1990",
            "id": 32585434,
            "node_id": "MDQ6VXNlcjMyNTg1NDM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/32585434?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cqray1990",
            "html_url": "https://github.com/cqray1990",
            "followers_url": "https://api.github.com/users/cqray1990/followers",
            "following_url": "https://api.github.com/users/cqray1990/following{/other_user}",
            "gists_url": "https://api.github.com/users/cqray1990/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cqray1990/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cqray1990/subscriptions",
            "organizations_url": "https://api.github.com/users/cqray1990/orgs",
            "repos_url": "https://api.github.com/users/cqray1990/repos",
            "events_url": "https://api.github.com/users/cqray1990/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cqray1990/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-24T09:02:02Z",
        "updated_at": "2023-03-24T09:31:13Z",
        "author_association": "NONE",
        "body": ">the model is more than 25M  can't upload and how can i give u the model files by email?\r\n@tianleiwu\r\n@sverrejoh \r\n@radical \r\n@mtodd \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1482465901/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1482497908",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11590#issuecomment-1482497908",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11590",
        "id": 1482497908,
        "node_id": "IC_kwDOCVq1mM5YXR90",
        "user": {
            "login": "cqray1990",
            "id": 32585434,
            "node_id": "MDQ6VXNlcjMyNTg1NDM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/32585434?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cqray1990",
            "html_url": "https://github.com/cqray1990",
            "followers_url": "https://api.github.com/users/cqray1990/followers",
            "following_url": "https://api.github.com/users/cqray1990/following{/other_user}",
            "gists_url": "https://api.github.com/users/cqray1990/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cqray1990/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cqray1990/subscriptions",
            "organizations_url": "https://api.github.com/users/cqray1990/orgs",
            "repos_url": "https://api.github.com/users/cqray1990/repos",
            "events_url": "https://api.github.com/users/cqray1990/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cqray1990/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-24T09:26:58Z",
        "updated_at": "2023-03-24T09:29:27Z",
        "author_association": "NONE",
        "body": "> @[cqray1990](https://github.com/cqray1990), are you able to the find out the cause by dumping inputs and outputs of each node? If you do so in onnxruntime-gpu 1.7 vs latest version, you can compare the dump outputs to find out which node cause the difference. Sometime, it might be caused by dependent DLLs like cuDNN etc.\r\n> \r\n> If you need help, please share test script and model to reproduce the issue.\r\n\r\ni use onnxtime-gpu 1.13.1 results is wrong, but cpu is right\r\nthe network is LSTM for OCR ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1482497908/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1483361902",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11590#issuecomment-1483361902",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11590",
        "id": 1483361902,
        "node_id": "IC_kwDOCVq1mM5Yak5u",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-24T20:19:21Z",
        "updated_at": "2023-03-24T20:19:21Z",
        "author_association": "MEMBER",
        "body": "@cqray1990, to share the model, you can upload model to github or other cloud storage, and share a link.\r\n\r\nTo trouble shooting by yourself, do it like the following: use a binary built from source that enables dumping node inputs and outputs (see https://github.com/microsoft/onnxruntime/blob/main/onnxruntime/core/framework/debug_node_inputs_outputs_utils.h for detail). Then run cuda ep and cpu ep, and compare their dumping results. The first node that yields significant difference output between CUDA and CPU is the one. \r\n\r\nAn example is like the following:\r\n```\r\ngit clone http://github.com/microsoft/onnxruntime\r\ncd onnxruntime\r\nexport CUDA_HOME=/usr/local/cuda\r\nexport CUDNN_HOME=/usr/local/cuda\r\nexport CUDACXX=/usr/local/cuda/bin/nvcc\r\nsh build.sh  --config Release  --build_shared_lib --parallel  --use_cuda --cuda_version  11.7 --cuda_home /usr/local/cuda --cudnn_home /usr/local/cuda --build_wheel --skip_test --cmake_extra_defines onnxruntime_DEBUG_NODE_INPUTS_OUTPUTS=1\r\ncd build/Linux/Release/dist\r\npip install onnxruntime_gpu-1.15.0-cp310-cp310-linux_x86_64.whl --force-reinstall\r\nexport ORT_DEBUG_NODE_IO_DUMP_SHAPE_DATA=0\r\nexport ORT_DEBUG_NODE_IO_DUMP_NODE_PLACEMENT=0\r\nexport ORT_DEBUG_NODE_IO_DUMP_INPUT_DATA=0\r\nexport ORT_DEBUG_NODE_IO_DUMP_OUTPUT_DATA=1\r\nexport ORT_DEBUG_NODE_IO_DUMP_DATA_DESTINATION=stdout\r\nexport ORT_DEBUG_NODE_IO_SNIPPET_THRESHOLD=0\r\npython test_my_model.py > dump_cpu.txt\r\npython test_my_model.py --use_gpu > dump_gpu.txt\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1483361902/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1484398123",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11590#issuecomment-1484398123",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11590",
        "id": 1484398123,
        "node_id": "IC_kwDOCVq1mM5Yeh4r",
        "user": {
            "login": "cqray1990",
            "id": 32585434,
            "node_id": "MDQ6VXNlcjMyNTg1NDM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/32585434?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cqray1990",
            "html_url": "https://github.com/cqray1990",
            "followers_url": "https://api.github.com/users/cqray1990/followers",
            "following_url": "https://api.github.com/users/cqray1990/following{/other_user}",
            "gists_url": "https://api.github.com/users/cqray1990/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cqray1990/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cqray1990/subscriptions",
            "organizations_url": "https://api.github.com/users/cqray1990/orgs",
            "repos_url": "https://api.github.com/users/cqray1990/repos",
            "events_url": "https://api.github.com/users/cqray1990/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cqray1990/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-27T02:39:16Z",
        "updated_at": "2023-04-03T01:51:37Z",
        "author_association": "NONE",
        "body": "> @cqray1990, to share the model, you can upload model to github or other cloud storage, and share a link.\r\n> \r\n> To trouble shooting by yourself, do it like the following: use a binary built from source that enables dumping node inputs and outputs (see https://github.com/microsoft/onnxruntime/blob/main/onnxruntime/core/framework/debug_node_inputs_outputs_utils.h for detail). Then run cuda ep and cpu ep, and compare their dumping results. The first node that yields significant difference output between CUDA and CPU is the one.\r\n> \r\n> An example is like the following:\r\n> \r\n> ```\r\n> git clone http://github.com/microsoft/onnxruntime\r\n> cd onnxruntime\r\n> export CUDA_HOME=/usr/local/cuda\r\n> export CUDNN_HOME=/usr/local/cuda\r\n> export CUDACXX=/usr/local/cuda/bin/nvcc\r\n> sh build.sh  --config Release  --build_shared_lib --parallel  --use_cuda --cuda_version  11.7 --cuda_home /usr/local/cuda --cudnn_home /usr/local/cuda --build_wheel --skip_test --cmake_extra_defines onnxruntime_DEBUG_NODE_INPUTS_OUTPUTS=1\r\n> cd build/Linux/Release/dist\r\n> pip install onnxruntime_gpu-1.15.0-cp310-cp310-linux_x86_64.whl --force-reinstall\r\n> export ORT_DEBUG_NODE_IO_DUMP_SHAPE_DATA=0\r\n> export ORT_DEBUG_NODE_IO_DUMP_NODE_PLACEMENT=0\r\n> export ORT_DEBUG_NODE_IO_DUMP_INPUT_DATA=0\r\n> export ORT_DEBUG_NODE_IO_DUMP_OUTPUT_DATA=1\r\n> export ORT_DEBUG_NODE_IO_DUMP_DATA_DESTINATION=stdout\r\n> export ORT_DEBUG_NODE_IO_SNIPPET_THRESHOLD=0\r\n> python test_my_model.py > dump_cpu.txt\r\n> python test_my_model.py --use_gpu > dump_gpu.txt\r\n> ```\r\n\r\n@tianleiwu  model is here!! thanks\r\n\r\nhttps://drive.google.com/file/d/1snHpEr-ok15gfikFBnuzGMtkfwpGSFXw/view?usp=share_link\r\n@sverrejoh @mtodd @radical \r\n@tianleiwu ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1484398123/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]