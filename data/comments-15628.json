[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1518352841",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15628#issuecomment-1518352841",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15628",
        "id": 1518352841,
        "node_id": "IC_kwDOCVq1mM5agDnJ",
        "user": {
            "login": "fdwr",
            "id": 1809166,
            "node_id": "MDQ6VXNlcjE4MDkxNjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1809166?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fdwr",
            "html_url": "https://github.com/fdwr",
            "followers_url": "https://api.github.com/users/fdwr/followers",
            "following_url": "https://api.github.com/users/fdwr/following{/other_user}",
            "gists_url": "https://api.github.com/users/fdwr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fdwr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fdwr/subscriptions",
            "organizations_url": "https://api.github.com/users/fdwr/orgs",
            "repos_url": "https://api.github.com/users/fdwr/repos",
            "events_url": "https://api.github.com/users/fdwr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fdwr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-21T21:31:00Z",
        "updated_at": "2023-04-21T22:21:05Z",
        "author_association": "MEMBER",
        "body": "@TheWaveWarden: ðŸ¤” Do you not see DirectML.dll in your build output directory? e.g. In mine, it's at:\r\n\r\nd:\\onnxruntime\\build\\Windows\\Debug\\Debug\\DirectML.dll\r\n\r\nThe DirectML redist file automatically gets pulled from the [nuget](https://www.nuget.org/packages/Microsoft.AI.DirectML) (referenced from [dml.cmake](https://github.com/microsoft/onnxruntime/blob/b49d428299826c58d13de893ef96ebf7f39c2472/cmake/external/dml.cmake#L43)) and placed into the build output directory. From that directory, you should be able to run the tests and tools (e.g. `onnxruntime_perf_test.exe -e dml -I -r 1 somefolder\\squeezenet.onnx`). Note ORT requires a minimum of feature level 5 (per the [device creation call](https://github.com/microsoft/onnxruntime/blob/b49d428299826c58d13de893ef96ebf7f39c2472/onnxruntime/core/providers/dml/dml_provider_factory.cc#L160)) which is at least [version 1.8](https://learn.microsoft.com/en-us/windows/ai/directml/dml-version-history), and attempting to use an older version (like maybe the OS system version) would lack necessary operators.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1518352841/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1523668566",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15628#issuecomment-1523668566",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15628",
        "id": 1523668566,
        "node_id": "IC_kwDOCVq1mM5a0VZW",
        "user": {
            "login": "TheWaveWarden",
            "id": 28705282,
            "node_id": "MDQ6VXNlcjI4NzA1Mjgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/28705282?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheWaveWarden",
            "html_url": "https://github.com/TheWaveWarden",
            "followers_url": "https://api.github.com/users/TheWaveWarden/followers",
            "following_url": "https://api.github.com/users/TheWaveWarden/following{/other_user}",
            "gists_url": "https://api.github.com/users/TheWaveWarden/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TheWaveWarden/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TheWaveWarden/subscriptions",
            "organizations_url": "https://api.github.com/users/TheWaveWarden/orgs",
            "repos_url": "https://api.github.com/users/TheWaveWarden/repos",
            "events_url": "https://api.github.com/users/TheWaveWarden/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TheWaveWarden/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-26T16:00:16Z",
        "updated_at": "2023-04-26T16:00:16Z",
        "author_association": "NONE",
        "body": "Hi @fdwr, thank you very much for your answer!\r\n\r\nI was able to locate the DirectML.dll in the build output. When copying it to the executable direcory, the error regarding the feature level disappears, but another one seems to manifest itself: When loading the model a different expection is thrown, which reads\r\n```\r\n2023-04-26 17:49:17.8275057 [E:onnxruntime:, inference_session.cc:1533 onnxruntime::InferenceSession::Initialize::<lambda_23ad8391129e9fa0cccf2638fd44c455>::operator ()] Exception during initialization: C:\\ext-onnxruntime\\onnxruntime\\onnxruntime\\core\\framework\\kernel_registry.cc:70 onnxruntime::`anonymous-namespace'::MatchKernelDefTypes [ONNXRuntimeError] : 1 : FAIL : kernel_type_str_resolver.cc:33 onnxruntime::KernelTypeStrResolver::ResolveKernelTypeStr Failed to find args for kernel type string 'T'. If type constraint names are available, ensure that they are used in the kernel def type constraints instead of op input or output names. Not doing so will result in this error.\r\n```\r\n\r\nThe test tool command you mentioned simply outputs \r\n\r\n```\r\nC:\\ext-onnxruntime\\onnxruntime\\onnxruntime\\test\\onnx\\onnx_model_info.cc:45 OnnxModelInfo::InitOnnxModelInfo\r\n```\r\nand nothing else... I assume I'm still on the wrong path here?\r\n\r\nThanks again for your help!\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1523668566/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]