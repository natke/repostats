[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/935631092",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9285#issuecomment-935631092",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9285",
        "id": 935631092,
        "node_id": "IC_kwDOCVq1mM43xJj0",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-06T07:15:35Z",
        "updated_at": "2021-10-06T07:15:35Z",
        "author_association": "MEMBER",
        "body": "Most likely due to the model being broken into multiple partitions due to unsupported operators. This causes execution to switch between CPU and NNAPI for each partition, which degrades performance. \r\n\r\nLooks like there are some operators that we could add NNAPI support for such as Greater and Less. \r\nBut there are some that may not have an NNAPI equivalent such as Expand, Where and Atan.\r\n\r\n@gwang-msft how many of the listed operators could be supported by the ORT NNAPI Execution Provider?\r\n\r\nAdditionally if you are using an ORT format model and have optimized the model to a higher level than 'basic' when creating it, the model may use internal ORT operators such as FusedConv, which will also prevent NNAPI being used.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/935631092/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/936907707",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9285#issuecomment-936907707",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9285",
        "id": 936907707,
        "node_id": "IC_kwDOCVq1mM432BO7",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-06T18:56:56Z",
        "updated_at": "2021-10-07T01:56:52Z",
        "author_association": "CONTRIBUTOR",
        "body": "These operators are not yet supported by ONNX Runtime NNAPI Execution Provider, but can be added,\r\n`Expand; Greater; Less; ReduceSum; Unsqueeze`\r\n\r\nThese operators are not yet supported by NNAPI (https://developer.android.com/ndk/guides/neuralnetworks), for which we are not able to support in ONNX Runtime NNAPI Execution Provider unless Google add support of these operators in a future version of NNAPI, \r\n`Where; ReduceL2; ScatterND; Atan`\r\n\r\nThe `FusedConv` operator is not supported by  ONNX Runtime NNAPI Execution Provider, but this can be eliminated by using `--optimization_level=basic` at the time of converting ONNX format to .ORT format.\r\n\r\nBased on the operators in your model, the graph will be broken into multiple partitions, where the context switch between CPU and NNAPI execution providers completely offset the performance gain by using NNAPI execution provider.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/936907707/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/939192666",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9285#issuecomment-939192666",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9285",
        "id": 939192666,
        "node_id": "IC_kwDOCVq1mM43-vFa",
        "user": {
            "login": "cjwang528",
            "id": 87072305,
            "node_id": "MDQ6VXNlcjg3MDcyMzA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/87072305?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cjwang528",
            "html_url": "https://github.com/cjwang528",
            "followers_url": "https://api.github.com/users/cjwang528/followers",
            "following_url": "https://api.github.com/users/cjwang528/following{/other_user}",
            "gists_url": "https://api.github.com/users/cjwang528/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cjwang528/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cjwang528/subscriptions",
            "organizations_url": "https://api.github.com/users/cjwang528/orgs",
            "repos_url": "https://api.github.com/users/cjwang528/repos",
            "events_url": "https://api.github.com/users/cjwang528/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cjwang528/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-09T00:42:20Z",
        "updated_at": "2021-10-09T01:38:50Z",
        "author_association": "NONE",
        "body": "Hi, Thank you for the response!!\r\n\r\nIs it possible for me to add custom support for nnapi (Both operators that are not yet supported by ORT NNAPI Execution Provider also those not yet supported by NNAPI)? \r\n\r\nThank you!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/939192666/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940338650",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9285#issuecomment-940338650",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9285",
        "id": 940338650,
        "node_id": "IC_kwDOCVq1mM44DG3a",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-11T18:34:22Z",
        "updated_at": "2021-10-11T18:34:36Z",
        "author_association": "CONTRIBUTOR",
        "body": "For operators not yet supported by ORT NNAPI Execution Provider, for now you can only add support for new ops in the NNAPI EP code, contributions are welcome.\r\nUnfortunately, currently Android NNAPI does not support add custom ops for unsupported ops.\r\n\r\nFor the list of supported ops by ORT NNAPI Execution Provider, see https://onnxruntime.ai/docs/execution-providers/NNAPI-ExecutionProvider.html#supported-ops\r\nFor the list of supported ops by NNAPI, see https://developer.android.com/ndk/guides/neuralnetworks#operations\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940338650/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940381717",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9285#issuecomment-940381717",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9285",
        "id": 940381717,
        "node_id": "IC_kwDOCVq1mM44DRYV",
        "user": {
            "login": "cjwang528",
            "id": 87072305,
            "node_id": "MDQ6VXNlcjg3MDcyMzA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/87072305?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cjwang528",
            "html_url": "https://github.com/cjwang528",
            "followers_url": "https://api.github.com/users/cjwang528/followers",
            "following_url": "https://api.github.com/users/cjwang528/following{/other_user}",
            "gists_url": "https://api.github.com/users/cjwang528/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cjwang528/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cjwang528/subscriptions",
            "organizations_url": "https://api.github.com/users/cjwang528/orgs",
            "repos_url": "https://api.github.com/users/cjwang528/repos",
            "events_url": "https://api.github.com/users/cjwang528/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cjwang528/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-11T19:23:40Z",
        "updated_at": "2021-10-11T19:23:40Z",
        "author_association": "NONE",
        "body": "okay, thanks for the explanation!! ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940381717/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]