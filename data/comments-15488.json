[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1505842392",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1505842392",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1505842392,
        "node_id": "IC_kwDOCVq1mM5ZwVTY",
        "user": {
            "login": "sanketshahMS",
            "id": 124726122,
            "node_id": "U_kgDOB28rag",
            "avatar_url": "https://avatars.githubusercontent.com/u/124726122?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanketshahMS",
            "html_url": "https://github.com/sanketshahMS",
            "followers_url": "https://api.github.com/users/sanketshahMS/followers",
            "following_url": "https://api.github.com/users/sanketshahMS/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanketshahMS/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanketshahMS/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanketshahMS/subscriptions",
            "organizations_url": "https://api.github.com/users/sanketshahMS/orgs",
            "repos_url": "https://api.github.com/users/sanketshahMS/repos",
            "events_url": "https://api.github.com/users/sanketshahMS/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanketshahMS/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-12T19:56:41Z",
        "updated_at": "2023-04-12T19:58:03Z",
        "author_association": "MEMBER",
        "body": "I have tried to used the ONNX model directly with below code to try and not allocate memory on each call, but I see similar GC footprint here, and the runtime is 50% slower than ML.Net, if you can recommend changes to this, we can load test and profile it for latency and GC.\r\n\r\n\r\n\r\n        private static void RunSingleThreadOnnxOptimized(string test_file_path, Stopwatch watch_mlnet, InferenceSession session, float threshold, string tokenizer_name, ref int fp, ref int fn, ref int tp, ref int tn)\r\n        {\r\n            watch_mlnet.Start();\r\n            int count = 0;\r\n            int max_len = 100000;\r\n            string[] bufferEmpty = new string[max_len];\r\n            for (int i = 0; i < max_len; i++)\r\n            {\r\n                bufferEmpty[i] = string.Empty;\r\n            }\r\n            // create input tensor (nlp example)\r\n            string[] bufferInput = new string[max_len];\r\n            for (int i = 0; i < max_len; i++)\r\n            {\r\n                bufferInput[i] = string.Empty;\r\n            }\r\n            float[] bufferOutput = new float[1];\r\n            Tensor<string> inputTensor = new DenseTensor<string>(bufferInput, new int[] { 1, max_len });\r\n            Tensor<float> outputTensor = new DenseTensor<float>(bufferOutput, new int[] { 1, 1 });\r\n            FixedBufferOnnxValue valueInput = FixedBufferOnnxValue.CreateFromTensor(inputTensor);\r\n            FixedBufferOnnxValue valueOutput = FixedBufferOnnxValue.CreateFromTensor(outputTensor);\r\n            string[] inputNames = new[] { \"TokenizedText\" };\r\n            string[] outputNames = new[] { \"Scores\" };\r\n            FixedBufferOnnxValue[] inputValues = new[] { valueInput };\r\n            FixedBufferOnnxValue[] outputValues = new[] { valueOutput };\r\n            foreach (string line in File.ReadLines(test_file_path))\r\n            {\r\n                // Do not penalize for input preprocessing.\r\n                //watch_mlnet.Stop();\r\n                // Read row from test file\r\n                string[] splitInput = line.Split('\\t');\r\n                bool label = splitInput[0] == \"1\";\r\n                MLNetPredictionInput data = new MLNetPredictionInput();\r\n                data.ID = splitInput[1];\r\n                if (string.Equals(\"none\", tokenizer_name, StringComparison.InvariantCultureIgnoreCase))\r\n                {\r\n                    data.Text = splitInput[2];\r\n                }\r\n                else\r\n                {\r\n                    data.TokenizedText = Tokenize(tokenizer_name, splitInput[2]);\r\n                }\r\n                // Predict ML.Net\r\n                //watch_mlnet.Start();\r\n                int len = data.TokenizedText.Length;\r\n                if (data.TokenizedText.Length > max_len)\r\n                {\r\n                    len = max_len;\r\n                }\r\n                Array.Copy(data.TokenizedText, 0, bufferInput, 0, len);\r\n                Array.Copy(bufferEmpty, 0, bufferInput, len, max_len - len);\r\n                session.Run(inputNames, inputValues, outputNames, outputValues);\r\n                \r\n                bool predictionResult = false;\r\n                predictionResult = bufferOutput[0] > threshold;\r\n                // Stats from ML.Net\r\n                bool isCorrect = label == predictionResult;\r\n                if (!isCorrect)\r\n                {\r\n                    var x = predictionResult ? fp++ : fn++;\r\n                }\r\n                else\r\n                {\r\n                    var y = label ? tp++ : tn++;\r\n                }\r\n                count++;\r\n            }\r\n            watch_mlnet.Stop();\r\n            valueInput.Dispose();\r\n            valueOutput.Dispose();\r\n        }",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1505842392/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1505957396",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1505957396",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1505957396,
        "node_id": "IC_kwDOCVq1mM5ZwxYU",
        "user": {
            "login": "alamoot",
            "id": 12401354,
            "node_id": "MDQ6VXNlcjEyNDAxMzU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12401354?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alamoot",
            "html_url": "https://github.com/alamoot",
            "followers_url": "https://api.github.com/users/alamoot/followers",
            "following_url": "https://api.github.com/users/alamoot/following{/other_user}",
            "gists_url": "https://api.github.com/users/alamoot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alamoot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alamoot/subscriptions",
            "organizations_url": "https://api.github.com/users/alamoot/orgs",
            "repos_url": "https://api.github.com/users/alamoot/repos",
            "events_url": "https://api.github.com/users/alamoot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alamoot/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-12T21:14:17Z",
        "updated_at": "2023-04-12T21:14:17Z",
        "author_association": "MEMBER",
        "body": "minor note to the ticket, the .Net version our team uses is .NetFramework 4.7.2",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1505957396/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507403782",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1507403782",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1507403782,
        "node_id": "IC_kwDOCVq1mM5Z2SgG",
        "user": {
            "login": "wschin",
            "id": 3524474,
            "node_id": "MDQ6VXNlcjM1MjQ0NzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3524474?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wschin",
            "html_url": "https://github.com/wschin",
            "followers_url": "https://api.github.com/users/wschin/followers",
            "following_url": "https://api.github.com/users/wschin/following{/other_user}",
            "gists_url": "https://api.github.com/users/wschin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wschin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wschin/subscriptions",
            "organizations_url": "https://api.github.com/users/wschin/orgs",
            "repos_url": "https://api.github.com/users/wschin/repos",
            "events_url": "https://api.github.com/users/wschin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wschin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-13T18:05:28Z",
        "updated_at": "2023-04-13T18:05:28Z",
        "author_association": "MEMBER",
        "body": "@yuslepukhin, do you have any idea? ORT C# is 2x slower than ML.NET's ORT interface.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507403782/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507456782",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1507456782",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1507456782,
        "node_id": "IC_kwDOCVq1mM5Z2fcO",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-13T18:46:57Z",
        "updated_at": "2023-04-13T19:13:58Z",
        "author_association": "MEMBER",
        "body": "Stings are slower, because they require conversion/copy from native UTF-8 to UTF-16 strings. Both ways. Even without conversion it would be a copy and object creation (C# string vs std::string).\r\n\r\nOne of the objects that require GC is PinnedGCHandle. The managed memory passed on to native code requires pinning so GC does not move it. In this case, byte[] with utf-8 bytes. The object would unpin it. I was planning to get rid of it, and replace with Memory<T>.Pin(), but the idea would be the same anyway.\r\n\r\nThe newest versions of .NET provide native marshalling while converting strings to/from UTF-8. But it would have to do the same thing.\r\n\r\nTensor memory with primitive data types is not copied but mapped directly both ways.\r\n\r\nAlso, with maps and sequences, there is not a way to avoid the copy currently.\r\n\r\nIf you would prefer to perform UTF-8 conversion, we can provide interfaces for that.\r\nAlso, it is already on the list, we can also provide direct access to tensor strings on the way out, that would also be UTF-8 (non zero terminated).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507456782/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507578498",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1507578498",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1507578498,
        "node_id": "IC_kwDOCVq1mM5Z29KC",
        "user": {
            "login": "sanketshahMS",
            "id": 124726122,
            "node_id": "U_kgDOB28rag",
            "avatar_url": "https://avatars.githubusercontent.com/u/124726122?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanketshahMS",
            "html_url": "https://github.com/sanketshahMS",
            "followers_url": "https://api.github.com/users/sanketshahMS/followers",
            "following_url": "https://api.github.com/users/sanketshahMS/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanketshahMS/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanketshahMS/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanketshahMS/subscriptions",
            "organizations_url": "https://api.github.com/users/sanketshahMS/orgs",
            "repos_url": "https://api.github.com/users/sanketshahMS/repos",
            "events_url": "https://api.github.com/users/sanketshahMS/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanketshahMS/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-13T20:34:04Z",
        "updated_at": "2023-04-13T20:34:04Z",
        "author_association": "MEMBER",
        "body": "we can use utf8.\r\ndo we still need some changes on your side to leverage what you described.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507578498/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507628929",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1507628929",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1507628929,
        "node_id": "IC_kwDOCVq1mM5Z3JeB",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-13T21:26:07Z",
        "updated_at": "2023-04-13T21:26:07Z",
        "author_association": "MEMBER",
        "body": "> we can use utf8. do we still need some changes on your side to leverage what you described.\r\n\r\nWell, the GC would be on you side, that's all unless you are going to feed the same data.\r\nI have some ideas in mind, but as @pranavsharma already mentioned, we do not have any upcoming release soon.\r\n\r\nI can certainly iteratively produce some patches so you see if that helps and may be you could consume Nightly feed.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507628929/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507728838",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1507728838",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1507728838,
        "node_id": "IC_kwDOCVq1mM5Z3h3G",
        "user": {
            "login": "sanketshahMS",
            "id": 124726122,
            "node_id": "U_kgDOB28rag",
            "avatar_url": "https://avatars.githubusercontent.com/u/124726122?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanketshahMS",
            "html_url": "https://github.com/sanketshahMS",
            "followers_url": "https://api.github.com/users/sanketshahMS/followers",
            "following_url": "https://api.github.com/users/sanketshahMS/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanketshahMS/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanketshahMS/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanketshahMS/subscriptions",
            "organizations_url": "https://api.github.com/users/sanketshahMS/orgs",
            "repos_url": "https://api.github.com/users/sanketshahMS/repos",
            "events_url": "https://api.github.com/users/sanketshahMS/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanketshahMS/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-13T23:31:56Z",
        "updated_at": "2023-04-13T23:31:56Z",
        "author_association": "MEMBER",
        "body": "We can test with nightly build.\r\n\r\nAs of now, is there no alternative code changes we can try to fix this.\r\nAny changes in the model design or calling code can help fix it?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507728838/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507729883",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1507729883",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1507729883,
        "node_id": "IC_kwDOCVq1mM5Z3iHb",
        "user": {
            "login": "sanketshahMS",
            "id": 124726122,
            "node_id": "U_kgDOB28rag",
            "avatar_url": "https://avatars.githubusercontent.com/u/124726122?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanketshahMS",
            "html_url": "https://github.com/sanketshahMS",
            "followers_url": "https://api.github.com/users/sanketshahMS/followers",
            "following_url": "https://api.github.com/users/sanketshahMS/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanketshahMS/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanketshahMS/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanketshahMS/subscriptions",
            "organizations_url": "https://api.github.com/users/sanketshahMS/orgs",
            "repos_url": "https://api.github.com/users/sanketshahMS/repos",
            "events_url": "https://api.github.com/users/sanketshahMS/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanketshahMS/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-13T23:33:58Z",
        "updated_at": "2023-04-13T23:33:58Z",
        "author_association": "MEMBER",
        "body": "Will running this in python have same issue? Meaning is the GC issue specific to c# only? And we can try running in c++ or python?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507729883/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507746998",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1507746998",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1507746998,
        "node_id": "IC_kwDOCVq1mM5Z3mS2",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-14T00:02:45Z",
        "updated_at": "2023-04-14T00:02:45Z",
        "author_association": "MEMBER",
        "body": "> Will running this in python have same issue? Meaning is the GC issue specific to c# only? And we can try running in c++ or python?\r\n\r\nPython is a GC based languge, but I never used it in production.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507746998/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507748472",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1507748472",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1507748472,
        "node_id": "IC_kwDOCVq1mM5Z3mp4",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-14T00:03:35Z",
        "updated_at": "2023-04-14T00:03:35Z",
        "author_association": "MEMBER",
        "body": "> We can test with nightly build.\r\n> \r\n> As of now, is there no alternative code changes we can try to fix this. Any changes in the model design or calling code can help fix it?\r\n\r\nI will try to produce a PR that may reduce some of it.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1507748472/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1509370744",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15488#issuecomment-1509370744",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15488",
        "id": 1509370744,
        "node_id": "IC_kwDOCVq1mM5Z9yt4",
        "user": {
            "login": "michaelgsharp",
            "id": 51342856,
            "node_id": "MDQ6VXNlcjUxMzQyODU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/51342856?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelgsharp",
            "html_url": "https://github.com/michaelgsharp",
            "followers_url": "https://api.github.com/users/michaelgsharp/followers",
            "following_url": "https://api.github.com/users/michaelgsharp/following{/other_user}",
            "gists_url": "https://api.github.com/users/michaelgsharp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/michaelgsharp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/michaelgsharp/subscriptions",
            "organizations_url": "https://api.github.com/users/michaelgsharp/orgs",
            "repos_url": "https://api.github.com/users/michaelgsharp/repos",
            "events_url": "https://api.github.com/users/michaelgsharp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/michaelgsharp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-14T22:54:34Z",
        "updated_at": "2023-04-14T22:54:34Z",
        "author_association": "MEMBER",
        "body": "@yuslepukhin this [pr](https://github.com/microsoft/onnxruntime/pull/15520) should fix the issue. @tannergooding.\r\n\r\nThere may be more we can do to further optimize it, but this is a 2 to 5 times perf improvement (based on framework being used), runs much more stable, and removes the GC pressure. We should also be able to apply this same logic to many other places in the C# code.\r\n\r\nThis would be a bigger change, but if more of the underlying code were exposed, say for example allowing the user to create a C# tensor that was already backed by native memory, there would be more optimizations that could be done (specifically between ML.NET and ORT, but also for any user using the C# API).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1509370744/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]