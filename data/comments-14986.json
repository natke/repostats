[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1462538933",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14986#issuecomment-1462538933",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14986",
        "id": 1462538933,
        "node_id": "IC_kwDOCVq1mM5XLJK1",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-09T18:09:00Z",
        "updated_at": "2023-03-09T18:09:00Z",
        "author_association": "MEMBER",
        "body": "Sorry, at this moment there is no solution. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1462538933/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1462571451",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14986#issuecomment-1462571451",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14986",
        "id": 1462571451,
        "node_id": "IC_kwDOCVq1mM5XLRG7",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-09T18:31:32Z",
        "updated_at": "2023-03-09T18:31:32Z",
        "author_association": "MEMBER",
        "body": "We are not providing static linkage at this time, but we may do so later.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1462571451/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1462611020",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14986#issuecomment-1462611020",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14986",
        "id": 1462611020,
        "node_id": "IC_kwDOCVq1mM5XLaxM",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-09T19:01:54Z",
        "updated_at": "2023-03-09T19:01:54Z",
        "author_association": "MEMBER",
        "body": "Another thing that needs to be kept in mind is that when you change the link type from one to another, the construction/destruction order of global objects are also changed. For example, when you dynamically link to onnxruntime, it is guaranteed that protobuf will be initialized before your code. Because protobuf is part of onnxruntime.dll(or so). Operating system will load and initialize onnxruntime.dll first, then your binary. It is no longer true when you do static linking. The same thing also happens when we change CUDA EP from static linking to dynamic linking(or the reverse). It is rather complicated. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1462611020/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1476600483",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14986#issuecomment-1476600483",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14986",
        "id": 1476600483,
        "node_id": "IC_kwDOCVq1mM5YAyKj",
        "user": {
            "login": "georgthegreat",
            "id": 1121500,
            "node_id": "MDQ6VXNlcjExMjE1MDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1121500?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/georgthegreat",
            "html_url": "https://github.com/georgthegreat",
            "followers_url": "https://api.github.com/users/georgthegreat/followers",
            "following_url": "https://api.github.com/users/georgthegreat/following{/other_user}",
            "gists_url": "https://api.github.com/users/georgthegreat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/georgthegreat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/georgthegreat/subscriptions",
            "organizations_url": "https://api.github.com/users/georgthegreat/orgs",
            "repos_url": "https://api.github.com/users/georgthegreat/repos",
            "events_url": "https://api.github.com/users/georgthegreat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/georgthegreat/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-20T16:55:45Z",
        "updated_at": "2023-03-20T16:56:18Z",
        "author_association": "CONTRIBUTOR",
        "body": "I was able to create a patch that seems to work with static linkage with libonnxruntime_providers_cuda.so.\r\n\r\nTwo major sets of problems have to be addressed:\r\n1. Switch to magic static to access Provider_GetHost() value (partially done by #15102, but many usages remain untouched)\r\n2. Use the methods proxied via g_host() directly from the host code.\r\n\r\nThis will require a lot of work to be integrated into upstream properly though.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1476600483/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1585792883",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14986#issuecomment-1585792883",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14986",
        "id": 1585792883,
        "node_id": "IC_kwDOCVq1mM5ehUdz",
        "user": {
            "login": "georgthegreat",
            "id": 1121500,
            "node_id": "MDQ6VXNlcjExMjE1MDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1121500?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/georgthegreat",
            "html_url": "https://github.com/georgthegreat",
            "followers_url": "https://api.github.com/users/georgthegreat/followers",
            "following_url": "https://api.github.com/users/georgthegreat/following{/other_user}",
            "gists_url": "https://api.github.com/users/georgthegreat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/georgthegreat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/georgthegreat/subscriptions",
            "organizations_url": "https://api.github.com/users/georgthegreat/orgs",
            "repos_url": "https://api.github.com/users/georgthegreat/repos",
            "events_url": "https://api.github.com/users/georgthegreat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/georgthegreat/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-10T19:57:48Z",
        "updated_at": "2023-06-10T19:57:48Z",
        "author_association": "CONTRIBUTOR",
        "body": "In order to demonstate the possibility of linking ORT statically I have pushed our set of patches here:\r\nhttps://github.com/georgthegreat/onnxruntime/tree/static/patches\r\n\r\nThe import code for the internal utility (yamaker) is here:\r\nhttps://github.com/georgthegreat/onnxruntime/blob/static/import/__init__.py\r\n\r\nThe resulting build files we use to build the code are two ya.make files, which should be pretty straight forward to read and understand.\r\n\r\nPlease, note that the code itself is not patched.\r\n\r\nI would really appreciate if some of these (non-breaking) patches would be accepted to upstream, so we could reduce the amount of patches applied.\r\n\r\nAt the time even simple stuff is not merged (e. g. #15354).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1585792883/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]