[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1473284757",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15087#issuecomment-1473284757",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15087",
        "id": 1473284757,
        "node_id": "IC_kwDOCVq1mM5X0IqV",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-17T07:18:57Z",
        "updated_at": "2023-03-17T07:18:57Z",
        "author_association": "MEMBER",
        "body": "The error means the arena is about to use a chunk it has previously allocated and thinks is free, but that isn't actually the case. That suggests a synchronization issue. \r\n\r\nDoes the same problem exist in the latest ORT version 1.14.1? There were some changes to the arena recently so wondering if those have fixed/removed the issue.\r\n\r\nDo your requests involve fixed input sizes or it differs on a per-request basis? \r\nDo you set any custom session options like disabling memory pattern planning?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1473284757/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1473955908",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15087#issuecomment-1473955908",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15087",
        "id": 1473955908,
        "node_id": "IC_kwDOCVq1mM5X2shE",
        "user": {
            "login": "sarojlo",
            "id": 128089276,
            "node_id": "U_kgDOB6J8vA",
            "avatar_url": "https://avatars.githubusercontent.com/u/128089276?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sarojlo",
            "html_url": "https://github.com/sarojlo",
            "followers_url": "https://api.github.com/users/sarojlo/followers",
            "following_url": "https://api.github.com/users/sarojlo/following{/other_user}",
            "gists_url": "https://api.github.com/users/sarojlo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sarojlo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sarojlo/subscriptions",
            "organizations_url": "https://api.github.com/users/sarojlo/orgs",
            "repos_url": "https://api.github.com/users/sarojlo/repos",
            "events_url": "https://api.github.com/users/sarojlo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sarojlo/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-17T14:46:43Z",
        "updated_at": "2023-03-17T14:46:43Z",
        "author_association": "NONE",
        "body": "Do your requests involve fixed input sizes or it differs on a per-request basis? : Its a fixed size input\r\nDo you set any custom session options like disabling memory pattern planning? in session options we just set ORT_ENABLE_ALL and SetIntraOpNumThreads to 1",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1473955908/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1473957985",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15087#issuecomment-1473957985",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15087",
        "id": 1473957985,
        "node_id": "IC_kwDOCVq1mM5X2tBh",
        "user": {
            "login": "sarojlo",
            "id": 128089276,
            "node_id": "U_kgDOB6J8vA",
            "avatar_url": "https://avatars.githubusercontent.com/u/128089276?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sarojlo",
            "html_url": "https://github.com/sarojlo",
            "followers_url": "https://api.github.com/users/sarojlo/followers",
            "following_url": "https://api.github.com/users/sarojlo/following{/other_user}",
            "gists_url": "https://api.github.com/users/sarojlo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sarojlo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sarojlo/subscriptions",
            "organizations_url": "https://api.github.com/users/sarojlo/orgs",
            "repos_url": "https://api.github.com/users/sarojlo/repos",
            "events_url": "https://api.github.com/users/sarojlo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sarojlo/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-17T14:48:09Z",
        "updated_at": "2023-03-17T14:48:09Z",
        "author_association": "NONE",
        "body": "I will try to verify this today on  ORT version 1.14.1 ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1473957985/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1474132595",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15087#issuecomment-1474132595",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15087",
        "id": 1474132595,
        "node_id": "IC_kwDOCVq1mM5X3Xpz",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-17T16:59:37Z",
        "updated_at": "2023-03-17T16:59:37Z",
        "author_association": "MEMBER",
        "body": "To answer your other questions, using a session in multiple threads is correct usage. I've not seen this error before. Your usage of session seems incorrect. If you can still repro with 1.14.0, can you share minimal repro code?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1474132595/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1474137799",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15087#issuecomment-1474137799",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15087",
        "id": 1474137799,
        "node_id": "IC_kwDOCVq1mM5X3Y7H",
        "user": {
            "login": "sarojlo",
            "id": 128089276,
            "node_id": "U_kgDOB6J8vA",
            "avatar_url": "https://avatars.githubusercontent.com/u/128089276?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sarojlo",
            "html_url": "https://github.com/sarojlo",
            "followers_url": "https://api.github.com/users/sarojlo/followers",
            "following_url": "https://api.github.com/users/sarojlo/following{/other_user}",
            "gists_url": "https://api.github.com/users/sarojlo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sarojlo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sarojlo/subscriptions",
            "organizations_url": "https://api.github.com/users/sarojlo/orgs",
            "repos_url": "https://api.github.com/users/sarojlo/repos",
            "events_url": "https://api.github.com/users/sarojlo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sarojlo/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-17T17:03:18Z",
        "updated_at": "2023-03-17T17:03:18Z",
        "author_association": "NONE",
        "body": "We are not seeing this issue on x64 but only on arm64. I can just share may be share the code and repro internally(In microsft) but not here. Also it is random issue where we get the error only in our long running test.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1474137799/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1581267652",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15087#issuecomment-1581267652",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15087",
        "id": 1581267652,
        "node_id": "IC_kwDOCVq1mM5eQDrE",
        "user": {
            "login": "sarojlo",
            "id": 128089276,
            "node_id": "U_kgDOB6J8vA",
            "avatar_url": "https://avatars.githubusercontent.com/u/128089276?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sarojlo",
            "html_url": "https://github.com/sarojlo",
            "followers_url": "https://api.github.com/users/sarojlo/followers",
            "following_url": "https://api.github.com/users/sarojlo/following{/other_user}",
            "gists_url": "https://api.github.com/users/sarojlo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sarojlo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sarojlo/subscriptions",
            "organizations_url": "https://api.github.com/users/sarojlo/orgs",
            "repos_url": "https://api.github.com/users/sarojlo/repos",
            "events_url": "https://api.github.com/users/sarojlo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sarojlo/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-07T17:55:34Z",
        "updated_at": "2023-06-07T17:56:06Z",
        "author_association": "NONE",
        "body": "We moved to onnxruntime 1.14 from 1.11 and we see occurance of this issue is reduced(on 1.11 it was very frequent) but still we see a crash , only on linux arm64 on occuasional basis.\r\n\r\n>_Da_meus_amigos_juntar_aos_amigos_EE_trabalhar_também_nessa_tem_que_se_trabalhar_e_a_gente_aos_amigos_o_dia2023-06-05 05:52:35.392521004 [E:onnxruntime:, sequential_executor.cc:494 ExecuteKernel] Non-zero status code returned while running DynamicQuantizeMatMul node. Name:'MatMul_3729_quant' Status Message: /__w/1/s/onnxruntime/onnxruntime/core/framework/bfc_arena.cc:421 onnxruntime::BFCArena::Chunk* onnxruntime::BFCArena::FindChunkPtr(onnxruntime::BFCArena::BinNum, size_t, size_t, onnxruntime::Stream*, bool, onnxruntime::WaitNotificationFn) !**chunk->in_use() was false.** \r\n\r\nNon-zero status code returned while running DynamicQuantizeMatMul node. Name:'MatMul_3729_quant' Status Message: /__w/1/s/onnxruntime/onnxruntime/core/framework/bfc_arena.cc:421 onnxruntime::BFCArena::Chunk* onnxruntime::BFCArena::FindChunkPtr(onnxruntime::BFCArena::BinNum, size_t, size_t, onnxruntime::Stream*, bool, onnxruntime::WaitNotificationFn) !chunk->in_use() was false. \r\n ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1581267652/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]