[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/674887852",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4821#issuecomment-674887852",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4821",
        "id": 674887852,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDg4Nzg1Mg==",
        "user": {
            "login": "zhuxiaoxuhit",
            "id": 32813150,
            "node_id": "MDQ6VXNlcjMyODEzMTUw",
            "avatar_url": "https://avatars.githubusercontent.com/u/32813150?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zhuxiaoxuhit",
            "html_url": "https://github.com/zhuxiaoxuhit",
            "followers_url": "https://api.github.com/users/zhuxiaoxuhit/followers",
            "following_url": "https://api.github.com/users/zhuxiaoxuhit/following{/other_user}",
            "gists_url": "https://api.github.com/users/zhuxiaoxuhit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zhuxiaoxuhit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zhuxiaoxuhit/subscriptions",
            "organizations_url": "https://api.github.com/users/zhuxiaoxuhit/orgs",
            "repos_url": "https://api.github.com/users/zhuxiaoxuhit/repos",
            "events_url": "https://api.github.com/users/zhuxiaoxuhit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zhuxiaoxuhit/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-17T13:39:45Z",
        "updated_at": "2020-08-17T13:39:45Z",
        "author_association": "NONE",
        "body": "gdb message:\r\n```c++\r\n1066\t    auto expected_type = iter->second.ml_data_type;\r\n(gdb) s\r\n1067\t    auto& input_ml_value = feeds.at(i);\r\n(gdb) s\r\nat (__n=0, this=0x7fffffffcd10) at /data/zhuxiaoxu/trt/onnxruntime/onnxruntime/core/session/inference_session.cc:1067\r\n1067\t    auto& input_ml_value = feeds.at(i);\r\n(gdb) s\r\n_M_range_check (__n=0, this=0x7fffffffcd10) at /data/zhuxiaoxu/trt/onnxruntime/onnxruntime/core/session/inference_session.cc:1067\r\n1067\t    auto& input_ml_value = feeds.at(i);\r\n(gdb) s\r\nsize (this=<optimized out>, this=<optimized out>) at /usr/include/c++/4.8.2/bits/stl_vector.h:646\r\n646\t      { return size_type(this->_M_impl._M_finish - this->_M_impl._M_start); }\r\n(gdb) s\r\n_M_range_check (__n=0, this=0x7fffffffcd10) at /usr/include/c++/4.8.2/bits/stl_vector.h:793\r\n793\t\tif (__n >= this->size())\r\n(gdb) s\r\nat (__n=0, this=0x7fffffffcd10) at /usr/include/c++/4.8.2/bits/stl_vector.h:831\r\n831\t\treturn (*this)[__n];\r\n(gdb) s\r\noperator[] (this=<optimized out>, __n=0) at /usr/include/c++/4.8.2/bits/stl_vector.h:786\r\n786\t      { return *(this->_M_impl._M_start + __n); }\r\n(gdb) s\r\nonnxruntime::InferenceSession::ValidateInputs (this=this@entry=0x7c4020, feed_names=std::vector of length 2, capacity 2 = {...}, feeds=std::vector of length 2, capacity 2 = {...})\r\n    at /data/zhuxiaoxu/trt/onnxruntime/onnxruntime/core/session/inference_session.cc:1067\r\n1067\t    auto& input_ml_value = feeds.at(i);\r\n(gdb) s\r\n1068\t    if (input_ml_value.IsTensor()) {\r\n(gdb) s\r\nIsTensor (this=0x961c80) at /data/zhuxiaoxu/trt/onnxruntime/include/onnxruntime/core/framework/ml_value.h:52\r\n52\t    return (type_ != nullptr && type_->IsTensorType());\r\n\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/674887852/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675167769",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4821#issuecomment-675167769",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4821",
        "id": 675167769,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTE2Nzc2OQ==",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-17T23:38:06Z",
        "updated_at": "2020-08-17T23:38:06Z",
        "author_association": "MEMBER",
        "body": "I think the need for casting the input argument gives away the problem. You are not feeding the correct argument. Try this:\r\n\r\n`Ort::Value input_tensors[] = {input_tensor_0, input_tensor_1};`\r\n\r\n`auto output_tensors = session.Run(Ort::RunOptions{nullptr}, input_node_names.data(), input_tensors,  2,  output_node_names.data(), 1);`",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675167769/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675168455",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4821#issuecomment-675168455",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4821",
        "id": 675168455,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTE2ODQ1NQ==",
        "user": {
            "login": "RyanUnderhill",
            "id": 38674843,
            "node_id": "MDQ6VXNlcjM4Njc0ODQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/38674843?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RyanUnderhill",
            "html_url": "https://github.com/RyanUnderhill",
            "followers_url": "https://api.github.com/users/RyanUnderhill/followers",
            "following_url": "https://api.github.com/users/RyanUnderhill/following{/other_user}",
            "gists_url": "https://api.github.com/users/RyanUnderhill/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RyanUnderhill/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RyanUnderhill/subscriptions",
            "organizations_url": "https://api.github.com/users/RyanUnderhill/orgs",
            "repos_url": "https://api.github.com/users/RyanUnderhill/repos",
            "events_url": "https://api.github.com/users/RyanUnderhill/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RyanUnderhill/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-17T23:40:22Z",
        "updated_at": "2020-08-17T23:40:51Z",
        "author_association": "MEMBER",
        "body": "I think your problem is this line:\r\n`auto output_tensors = session.Run(Ort::RunOptions{nullptr}, input_node_names.data(), (const Ort::Value*)input_tensors, 2, output_node_names.data(), 1);\r\n`\r\n\r\nYou're casting an array of pointers into an array of values (the (const Ort::Value*) part). Try this instead:\r\n\r\n```Ort::Value input_tensor_0 = Ort::Value::CreateTensor<int64_t>(memory_info, input_tensor_values_0.data(), input_tensor_size_0, input_node_dims[0].data(), 1);\r\nOrt::Value input_tensor_1 = Ort::Value::CreateTensor<int64_t>(memory_info, input_tensor_values_1.data(), input_tensor_size_1, input_node_dims[1].data(), 2);\r\nOrt::Value input_tensors[2] = {std::move(input_tensor_0), std::move(input_tensor_1)};\r\n\r\nauto output_tensors = session.Run(Ort::RunOptions{nullptr}, input_node_names.data(), input_tensors, 2, output_node_names.data(), 1);\r\n```\r\n\r\n(I didn't compile it, so it might not be 100% correct, but it should explain the problem)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675168455/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675214542",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4821#issuecomment-675214542",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4821",
        "id": 675214542,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTIxNDU0Mg==",
        "user": {
            "login": "zhuxiaoxuhit",
            "id": 32813150,
            "node_id": "MDQ6VXNlcjMyODEzMTUw",
            "avatar_url": "https://avatars.githubusercontent.com/u/32813150?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zhuxiaoxuhit",
            "html_url": "https://github.com/zhuxiaoxuhit",
            "followers_url": "https://api.github.com/users/zhuxiaoxuhit/followers",
            "following_url": "https://api.github.com/users/zhuxiaoxuhit/following{/other_user}",
            "gists_url": "https://api.github.com/users/zhuxiaoxuhit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zhuxiaoxuhit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zhuxiaoxuhit/subscriptions",
            "organizations_url": "https://api.github.com/users/zhuxiaoxuhit/orgs",
            "repos_url": "https://api.github.com/users/zhuxiaoxuhit/repos",
            "events_url": "https://api.github.com/users/zhuxiaoxuhit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zhuxiaoxuhit/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-18T02:36:38Z",
        "updated_at": "2020-08-18T02:36:38Z",
        "author_association": "NONE",
        "body": "> I think the need for casting the input argument gives away the problem. You are not feeding the correct argument. Try this:\r\n> \r\n> `Ort::Value input_tensors[] = {input_tensor_0, input_tensor_1};`\r\n> \r\n> `auto output_tensors = session.Run(Ort::RunOptions{nullptr}, input_node_names.data(), input_tensors, 2, output_node_names.data(), 1);`\r\n\r\nHi, @yuslepukhin ,Got error .....\r\n\r\n```c++\r\n In function ‘int main(int, char**)’:\r\nerror: use of deleted function ‘Ort::Value::Value(const Ort::Value&)’\r\nOrt::Value input_tensors[] = {input_tensor_0, input_tensor_1}; \r\n                                                               ^\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675214542/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675217028",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4821#issuecomment-675217028",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4821",
        "id": 675217028,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTIxNzAyOA==",
        "user": {
            "login": "zhuxiaoxuhit",
            "id": 32813150,
            "node_id": "MDQ6VXNlcjMyODEzMTUw",
            "avatar_url": "https://avatars.githubusercontent.com/u/32813150?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zhuxiaoxuhit",
            "html_url": "https://github.com/zhuxiaoxuhit",
            "followers_url": "https://api.github.com/users/zhuxiaoxuhit/followers",
            "following_url": "https://api.github.com/users/zhuxiaoxuhit/following{/other_user}",
            "gists_url": "https://api.github.com/users/zhuxiaoxuhit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zhuxiaoxuhit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zhuxiaoxuhit/subscriptions",
            "organizations_url": "https://api.github.com/users/zhuxiaoxuhit/orgs",
            "repos_url": "https://api.github.com/users/zhuxiaoxuhit/repos",
            "events_url": "https://api.github.com/users/zhuxiaoxuhit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zhuxiaoxuhit/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-18T02:46:50Z",
        "updated_at": "2020-08-18T02:46:50Z",
        "author_association": "NONE",
        "body": "> I think the need for casting the input argument gives away the problem. You are not feeding the correct argument. Try this:\r\n> \r\n> `Ort::Value input_tensors[] = {input_tensor_0, input_tensor_1};`\r\n> \r\n> `auto output_tensors = session.Run(Ort::RunOptions{nullptr}, input_node_names.data(), input_tensors, 2, output_node_names.data(), 1);`\r\n\r\nHi, @RyanUnderhill , thanks for ur reply~\r\nI changed codes and got this error:\r\n```c++\r\nUsing Onnxruntime C++ API\r\nNumber of inputs = 2\r\nInput 0 : name=text_len:0\r\nInput 0 : type=6\r\nInput 0 : num_dims=1\r\nInput 0 : dim 0=1\r\nInput 1 : name=text:0\r\nInput 1 : type=6\r\nInput 1 : num_dims=2\r\nInput 1 : dim 0=1\r\nInput 1 : dim 1=66\r\nterminate called after throwing an instance of 'Ort::Exception'\r\n  what():  Unexpected input data type. Actual: (N11onnxruntime17PrimitiveDataTypeIlEE) , expected: (N11onnxruntime17PrimitiveDataTypeIiEE)\r\nAborted (core dumped)\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675217028/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675225540",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4821#issuecomment-675225540",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4821",
        "id": 675225540,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTIyNTU0MA==",
        "user": {
            "login": "zhuxiaoxuhit",
            "id": 32813150,
            "node_id": "MDQ6VXNlcjMyODEzMTUw",
            "avatar_url": "https://avatars.githubusercontent.com/u/32813150?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zhuxiaoxuhit",
            "html_url": "https://github.com/zhuxiaoxuhit",
            "followers_url": "https://api.github.com/users/zhuxiaoxuhit/followers",
            "following_url": "https://api.github.com/users/zhuxiaoxuhit/following{/other_user}",
            "gists_url": "https://api.github.com/users/zhuxiaoxuhit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zhuxiaoxuhit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zhuxiaoxuhit/subscriptions",
            "organizations_url": "https://api.github.com/users/zhuxiaoxuhit/orgs",
            "repos_url": "https://api.github.com/users/zhuxiaoxuhit/repos",
            "events_url": "https://api.github.com/users/zhuxiaoxuhit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zhuxiaoxuhit/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-18T03:19:06Z",
        "updated_at": "2020-08-18T03:19:06Z",
        "author_association": "NONE",
        "body": "That means need to give int type, not long int? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675225540/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675227086",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4821#issuecomment-675227086",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4821",
        "id": 675227086,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTIyNzA4Ng==",
        "user": {
            "login": "zhuxiaoxuhit",
            "id": 32813150,
            "node_id": "MDQ6VXNlcjMyODEzMTUw",
            "avatar_url": "https://avatars.githubusercontent.com/u/32813150?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zhuxiaoxuhit",
            "html_url": "https://github.com/zhuxiaoxuhit",
            "followers_url": "https://api.github.com/users/zhuxiaoxuhit/followers",
            "following_url": "https://api.github.com/users/zhuxiaoxuhit/following{/other_user}",
            "gists_url": "https://api.github.com/users/zhuxiaoxuhit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zhuxiaoxuhit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zhuxiaoxuhit/subscriptions",
            "organizations_url": "https://api.github.com/users/zhuxiaoxuhit/orgs",
            "repos_url": "https://api.github.com/users/zhuxiaoxuhit/repos",
            "events_url": "https://api.github.com/users/zhuxiaoxuhit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zhuxiaoxuhit/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-18T03:25:09Z",
        "updated_at": "2020-08-18T03:25:09Z",
        "author_association": "NONE",
        "body": "OK, I got it. Thanks @RyanUnderhill  @yuslepukhin . Now close issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/675227086/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]