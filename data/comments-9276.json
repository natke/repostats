[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/934843694",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-934843694",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 934843694,
        "node_id": "IC_kwDOCVq1mM43uJUu",
        "user": {
            "login": "dlangerm",
            "id": 13711976,
            "node_id": "MDQ6VXNlcjEzNzExOTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13711976?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dlangerm",
            "html_url": "https://github.com/dlangerm",
            "followers_url": "https://api.github.com/users/dlangerm/followers",
            "following_url": "https://api.github.com/users/dlangerm/following{/other_user}",
            "gists_url": "https://api.github.com/users/dlangerm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dlangerm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dlangerm/subscriptions",
            "organizations_url": "https://api.github.com/users/dlangerm/orgs",
            "repos_url": "https://api.github.com/users/dlangerm/repos",
            "events_url": "https://api.github.com/users/dlangerm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dlangerm/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-05T21:12:00Z",
        "updated_at": "2021-10-05T21:12:00Z",
        "author_association": "NONE",
        "body": "It's probably also worth noting that I do get really good performance for other cuda apps in WSL. In fact the models I'm using for this were trained with pytorch in WSL, so I don't believe it's a configuration issue.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/934843694/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/935596250",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-935596250",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 935596250,
        "node_id": "IC_kwDOCVq1mM43xBDa",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-06T06:50:22Z",
        "updated_at": "2021-10-06T06:50:22Z",
        "author_association": "MEMBER",
        "body": "Did you explicitly enable the CUDA Execution Provider? \r\n\r\nhttps://onnxruntime.ai/docs/execution-providers/CUDA-ExecutionProvider.html#python",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/935596250/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/936131057",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-936131057",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 936131057,
        "node_id": "IC_kwDOCVq1mM43zDnx",
        "user": {
            "login": "dlangerm",
            "id": 13711976,
            "node_id": "MDQ6VXNlcjEzNzExOTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13711976?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dlangerm",
            "html_url": "https://github.com/dlangerm",
            "followers_url": "https://api.github.com/users/dlangerm/followers",
            "following_url": "https://api.github.com/users/dlangerm/following{/other_user}",
            "gists_url": "https://api.github.com/users/dlangerm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dlangerm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dlangerm/subscriptions",
            "organizations_url": "https://api.github.com/users/dlangerm/orgs",
            "repos_url": "https://api.github.com/users/dlangerm/repos",
            "events_url": "https://api.github.com/users/dlangerm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dlangerm/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-06T12:21:22Z",
        "updated_at": "2021-10-06T12:21:22Z",
        "author_association": "NONE",
        "body": "@skottmckay yes I did, I even disabled the CPU execution provider. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/936131057/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/939088219",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-939088219",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 939088219,
        "node_id": "IC_kwDOCVq1mM43-Vlb",
        "user": {
            "login": "dlangerm",
            "id": 13711976,
            "node_id": "MDQ6VXNlcjEzNzExOTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13711976?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dlangerm",
            "html_url": "https://github.com/dlangerm",
            "followers_url": "https://api.github.com/users/dlangerm/followers",
            "following_url": "https://api.github.com/users/dlangerm/following{/other_user}",
            "gists_url": "https://api.github.com/users/dlangerm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dlangerm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dlangerm/subscriptions",
            "organizations_url": "https://api.github.com/users/dlangerm/orgs",
            "repos_url": "https://api.github.com/users/dlangerm/repos",
            "events_url": "https://api.github.com/users/dlangerm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dlangerm/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-08T20:07:47Z",
        "updated_at": "2021-10-08T20:07:47Z",
        "author_association": "NONE",
        "body": "Here is what I see on WSL:\r\n```\r\nPython 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46)\r\n[GCC 9.4.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import onnxruntime\r\n>>> onnxruntime.__version__\r\n'1.9.0'\r\n>>> onnxruntime.cuda_version\r\n''\r\n>>> onnxruntime.get_device()\r\n'GPU'\r\n>>> onnxruntime.get_available_providers()\r\n['CUDAExecutionProvider', 'CPUExecutionProvider']\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/939088219/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/939580994",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-939580994",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 939580994,
        "node_id": "IC_kwDOCVq1mM44AN5C",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-11T00:15:16Z",
        "updated_at": "2021-10-11T00:15:16Z",
        "author_association": "MEMBER",
        "body": "Looks like something is preventing the CUDA EP from actually being used. If I run the following I see output showing the CUDA EP is used when run from Windows, but not when run from WSL. This is with Windows 10 so it seems to be a general WSL+CUDA issue. \r\n\r\n@RyanUnderhill is there a good way to debug whether the CUDA EP is being successfully loaded using the release package or would a debug build be required?\r\n\r\n```\r\n    model = 'FasterRCNN-10.onnx'\r\n    providers = [\r\n        ('CUDAExecutionProvider', {\r\n            'device_id': 0,\r\n            'arena_extend_strategy': 'kNextPowerOfTwo',\r\n            'gpu_mem_limit': 2 * 1024 * 1024 * 1024,\r\n            'cudnn_conv_algo_search': 'EXHAUSTIVE',\r\n            'do_copy_in_default_stream': True,\r\n        }),\r\n        'CPUExecutionProvider',\r\n    ]\r\n\r\n    so = onnxruntime.SessionOptions()\r\n    so.log_severity_level = 0\r\n    ort_session = onnxruntime.InferenceSession(model, sess_options=so, providers=providers)\r\n\r\n```\r\n\r\nWindows:\r\n> 2021-10-11 10:05:20.8702365 [V:onnxruntime:, inference_session.cc:159 onnxruntime::`anonymous-namespace'::VerifyEachNodeIsAssignedToAnEp]  Provider: [CUDAExecutionProvider]: [Unsqueeze (0), MaxPool (8), Conv (24), ...]\r\n\r\n\r\nWSL:\r\n> 2021-10-11 10:06:41.080253300 [V:onnxruntime:, inference_session.cc:154 VerifyEachNodeIsAssignedToAnEp] All nodes have been placed on [CPUExecutionProvider].\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/939580994/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/939605609",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-939605609",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 939605609,
        "node_id": "IC_kwDOCVq1mM44AT5p",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-11T01:34:23Z",
        "updated_at": "2021-10-11T01:34:23Z",
        "author_association": "MEMBER",
        "body": "I noticed when running a test app that it didn't seem to be able to load the cudnn library.\r\n\r\n```\r\n~/src/github/onnxruntime/build/Linux/Debug/ ./onnx_test_runner -e cuda ../../../cmake/external/onnx/onnx/backend/test/data/node/test_gru_defaults/    (master)onnxruntime\r\n2021-10-11 11:31:11.654685100 [E:onnxruntime:Default, provider_bridge_ort.cc:952 Get] Failed to load library libonnxruntime_providers_cuda.so with error: libcudnn.so.8: cannot open shared object file: No such file or directory\r\nOrtSessionOptionsAppendExecutionProvider_Cuda: Failed to load shared library\r\n```\r\n\r\nSetting LD_LIBRARY_PATH resolved that. If that is set, the CUDA EP is able to be used.\r\n\r\ne.g. \r\n`export LD_LIBRARY_PATH=/usr/local/cuda-11/lib64`\r\n\r\n@RyanUnderhill Any idea why the error message from provider_bridge_ort.cc:952 is not showing up in the output when using the python package? At the very least I would expect some output if someone explicitly attempted to use CUDA but the EP wasn't able to be loaded. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/939605609/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940023926",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-940023926",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 940023926,
        "node_id": "IC_kwDOCVq1mM44B6B2",
        "user": {
            "login": "dlangerm",
            "id": 13711976,
            "node_id": "MDQ6VXNlcjEzNzExOTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13711976?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dlangerm",
            "html_url": "https://github.com/dlangerm",
            "followers_url": "https://api.github.com/users/dlangerm/followers",
            "following_url": "https://api.github.com/users/dlangerm/following{/other_user}",
            "gists_url": "https://api.github.com/users/dlangerm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dlangerm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dlangerm/subscriptions",
            "organizations_url": "https://api.github.com/users/dlangerm/orgs",
            "repos_url": "https://api.github.com/users/dlangerm/repos",
            "events_url": "https://api.github.com/users/dlangerm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dlangerm/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-11T13:18:15Z",
        "updated_at": "2021-10-11T13:19:06Z",
        "author_association": "NONE",
        "body": "So I've been messing with this more and found this log message even though I only passed the CUDA execution provider and called `disable_fallback` on my session.\r\n\r\n```\r\n    so = onnxruntime.SessionOptions()\r\n    so.log_severity_level = 0\r\n\r\n    ort_session = onnxruntime.InferenceSession(\r\n        model, providers=[\r\n            ('CUDAExecutionProvider', {\r\n                'device_id': 0,\r\n                'arena_extend_strategy': 'kSameAsRequested',\r\n                'gpu_mem_limit': 8 * 1024 * 1024 * 1024,\r\n                'cudnn_conv_algo_search': 'HEURISTIC',\r\n                'do_copy_in_default_stream': True,\r\n            }),\r\n        ],\r\n        sess_options=so,\r\n    )\r\n    ort_session.disable_fallback()\r\n```\r\n\r\n`2021-10-11 08:16:28.086586788 [I:onnxruntime:, inference_session.cc:1279 Initialize] Adding default CPU execution provider.`\r\n\r\nThis seems like a bug since there seems to be no way to disable CPU execution.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940023926/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940053774",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-940053774",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 940053774,
        "node_id": "IC_kwDOCVq1mM44CBUO",
        "user": {
            "login": "dlangerm",
            "id": 13711976,
            "node_id": "MDQ6VXNlcjEzNzExOTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13711976?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dlangerm",
            "html_url": "https://github.com/dlangerm",
            "followers_url": "https://api.github.com/users/dlangerm/followers",
            "following_url": "https://api.github.com/users/dlangerm/following{/other_user}",
            "gists_url": "https://api.github.com/users/dlangerm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dlangerm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dlangerm/subscriptions",
            "organizations_url": "https://api.github.com/users/dlangerm/orgs",
            "repos_url": "https://api.github.com/users/dlangerm/repos",
            "events_url": "https://api.github.com/users/dlangerm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dlangerm/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-11T13:54:35Z",
        "updated_at": "2021-10-11T13:54:35Z",
        "author_association": "NONE",
        "body": "@skottmckay \r\n\r\n> Setting LD_LIBRARY_PATH resolved that. If that is set, the CUDA EP is able to be used.\r\n> \r\n> e.g. `export LD_LIBRARY_PATH=/usr/local/cuda-11/lib64`\r\n> \r\n> @RyanUnderhill Any idea why the error message from provider_bridge_ort.cc:952 is not showing up in the output when using the python package? At the very least I would expect some output if someone explicitly attempted to use CUDA but the EP wasn't able to be loaded.\r\n\r\nUnfortunately, the above fix did not resolve the issue for me. If it helps, I'm running CUDA v11.4 ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940053774/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940896631",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-940896631",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 940896631,
        "node_id": "IC_kwDOCVq1mM44FPF3",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-12T10:54:36Z",
        "updated_at": "2021-10-12T10:54:36Z",
        "author_association": "MEMBER",
        "body": "> This seems like a bug since there seems to be no way to disable CPU execution.\r\n\r\nI believe it's working as intended. The text for 'disable_fallback' could probably be clarified. We always enable the CPU EP as that has implementations of all operators. 'If GPU is enabled, fall back to CUDAExecutionProvider' really means disable any other EPs (such as TensorRT) and fallback to the CUDA EP + CPU EP.\r\n\r\nNote that even if it there was a way to not register the CPU EP it wouldn't make a difference here. As it wasn't (at least for me) able to load the CUDA EP you'd just get an error about nodes not being able to be partitioned if the CPU EP wasn't registered. \r\n\r\nAlso note the CUDA EP has priority over the CPU EP, so if the CUDA EP was able to be loaded it would be preferred.  ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940896631/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940898288",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-940898288",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 940898288,
        "node_id": "IC_kwDOCVq1mM44FPfw",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-12T10:56:58Z",
        "updated_at": "2021-10-12T10:56:58Z",
        "author_association": "MEMBER",
        "body": "> Unfortunately, the above fix did not resolve the issue for me. If it helps, I'm running CUDA v11.4\r\n\r\nThat's the version I tested with. I also installed CUDNN as I believe that is also required. The files from the CUDNN installation package get copied into the CUDA installation dir, so you only need to set LD_LIBRARY_PATH to the lib64 directory of the CUDA installation dir.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/940898288/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941039102",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-941039102",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 941039102,
        "node_id": "IC_kwDOCVq1mM44Fx3-",
        "user": {
            "login": "dlangerm",
            "id": 13711976,
            "node_id": "MDQ6VXNlcjEzNzExOTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13711976?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dlangerm",
            "html_url": "https://github.com/dlangerm",
            "followers_url": "https://api.github.com/users/dlangerm/followers",
            "following_url": "https://api.github.com/users/dlangerm/following{/other_user}",
            "gists_url": "https://api.github.com/users/dlangerm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dlangerm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dlangerm/subscriptions",
            "organizations_url": "https://api.github.com/users/dlangerm/orgs",
            "repos_url": "https://api.github.com/users/dlangerm/repos",
            "events_url": "https://api.github.com/users/dlangerm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dlangerm/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-12T13:58:11Z",
        "updated_at": "2021-10-12T13:58:11Z",
        "author_association": "NONE",
        "body": "Okay so here's what I've done thus far:\r\n\r\n1. Reinstalled cuDNN and verified its installation\r\n```\r\ncat /usr/local/cuda/include/cudnn_version.h | grep CUDNN_ \r\n#ifndef CUDNN_VERSION_H_\r\n#define CUDNN_VERSION_H_\r\n#define CUDNN_MAJOR 8\r\n#define CUDNN_MINOR 2\r\n#define CUDNN_PATCHLEVEL 4\r\n#define CUDNN_VERSION (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)\r\n#endif /* CUDNN_VERSION_H */\r\n```\r\n2. Reinstalled and purged `onnxruntime-gpu`\r\n`pip freeze | grep onnx`\r\n`onnxruntime-gpu==1.9.0`\r\n3. Verified cuda is installed\r\n```\r\nnvidia-smi          \r\nTue Oct 12 09:57:17 2021       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 470.73       Driver Version: 472.12       CUDA Version: 11.4     |\r\n|-------------------------------+----------------------+----------------------+ \r\n```\r\n4. Verified my LD_LIBRARY_PATH is set\r\n```\r\necho $LD_LIBRARY_PATH                                                                                                                                                                                             \r\n/usr/local/cuda-11/lib64/\r\n```\r\n\r\nI am completely at a loss. `onnxruntime` is the only package that has this issue, all of my other gpu based tasks in wsl have worked just fine out of the box.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941039102/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941057162",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-941057162",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 941057162,
        "node_id": "IC_kwDOCVq1mM44F2SK",
        "user": {
            "login": "dlangerm",
            "id": 13711976,
            "node_id": "MDQ6VXNlcjEzNzExOTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13711976?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dlangerm",
            "html_url": "https://github.com/dlangerm",
            "followers_url": "https://api.github.com/users/dlangerm/followers",
            "following_url": "https://api.github.com/users/dlangerm/following{/other_user}",
            "gists_url": "https://api.github.com/users/dlangerm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dlangerm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dlangerm/subscriptions",
            "organizations_url": "https://api.github.com/users/dlangerm/orgs",
            "repos_url": "https://api.github.com/users/dlangerm/repos",
            "events_url": "https://api.github.com/users/dlangerm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dlangerm/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-12T14:18:26Z",
        "updated_at": "2021-10-12T14:18:26Z",
        "author_association": "NONE",
        "body": "Hm. Well, I restarted my computer after doing all of the above and magically something set itself right.\r\n\r\nMy takeaways though:\r\n\r\n1. As a user, if I disable_fallback, then I expect a hard fail if it can't find the only provider I passed. This assists in debugging and reduces the likelihood of silent failures like this.\r\n2. If I install onnxruntime-gpu, and certain dependencies can't be resolved (like CUDA/cuDNN in this case) I expect some kind of warning or error. I had nothing to indicate that my device wasn't being used as expected\r\n3. cuDNN is not installed by default with the CUDA drivers. If it is necessary for running this package correctly, then it should be an explicit installation dependency and should have failed at install time, not at runtime. At the very least a warning should be thrown out that it isn't found and will fall back to CPU execution. There is a feedback loop missing here.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/941057162/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/948139057",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-948139057",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 948139057,
        "node_id": "IC_kwDOCVq1mM44g3Qx",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-21T00:38:40Z",
        "updated_at": "2021-10-21T00:38:40Z",
        "author_association": "MEMBER",
        "body": "1. Not sure this is possible. ORT has always registered the CPU EP during initialization (at the C++ level) if the user did not. Changing this behavior risks breaking many existing usages of ORT where this default registration is relied upon.\r\n2. There should definitely be an obvious warning/error if the CUDA EP cannot be loaded. @RyanUnderhill will look into fixing this in the next release. \r\n3. As the CUDA/cuDNN install is separate to the ORT one we may not be able to fail at install time. Need to allow for usages where someone uses the onnxruntime-gpu package across different machines that may or may not have CUDA but is happy for it to default to just CPU if CUDA isn't available. Should definitely be a runtime warning though if there's an explicit attempt to use the CUDA EP and it fails to load. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/948139057/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/948194923",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-948194923",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 948194923,
        "node_id": "IC_kwDOCVq1mM44hE5r",
        "user": {
            "login": "dlangerm",
            "id": 13711976,
            "node_id": "MDQ6VXNlcjEzNzExOTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13711976?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dlangerm",
            "html_url": "https://github.com/dlangerm",
            "followers_url": "https://api.github.com/users/dlangerm/followers",
            "following_url": "https://api.github.com/users/dlangerm/following{/other_user}",
            "gists_url": "https://api.github.com/users/dlangerm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dlangerm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dlangerm/subscriptions",
            "organizations_url": "https://api.github.com/users/dlangerm/orgs",
            "repos_url": "https://api.github.com/users/dlangerm/repos",
            "events_url": "https://api.github.com/users/dlangerm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dlangerm/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-21T02:18:35Z",
        "updated_at": "2021-10-21T02:18:35Z",
        "author_association": "NONE",
        "body": "@skottmckay yeah all of that is fair and I understand the preference for stability vs breaking existing behavior. Warnings are definitely better than nothing though.\n\nOur team actually (probably unfortunately for compatibility) ended up swapping to TensorRT for inference (we're not on WSL in prod to be clear, but we are attempting to develop on it) because we couldn't debug the performance issues on our dev machines correctly. \n\nI'd be happy to chat about our experience and lend help to any efforts to improve the library. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/948194923/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1101915460",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9276#issuecomment-1101915460",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9276",
        "id": 1101915460,
        "node_id": "IC_kwDOCVq1mM5BreVE",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2022-04-19T01:53:53Z",
        "updated_at": "2022-04-19T01:53:53Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1101915460/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]