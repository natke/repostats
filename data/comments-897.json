[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/486270954",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/897#issuecomment-486270954",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/897",
        "id": 486270954,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjI3MDk1NA==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-04-24T14:40:44Z",
        "updated_at": "2019-04-24T14:40:44Z",
        "author_association": "MEMBER",
        "body": "How did you measure it? Were you using our onnxruntime_perf_test tool?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/486270954/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/486273849",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/897#issuecomment-486273849",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/897",
        "id": 486273849,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjI3Mzg0OQ==",
        "user": {
            "login": "longpengcs",
            "id": 19258167,
            "node_id": "MDQ6VXNlcjE5MjU4MTY3",
            "avatar_url": "https://avatars.githubusercontent.com/u/19258167?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/longpengcs",
            "html_url": "https://github.com/longpengcs",
            "followers_url": "https://api.github.com/users/longpengcs/followers",
            "following_url": "https://api.github.com/users/longpengcs/following{/other_user}",
            "gists_url": "https://api.github.com/users/longpengcs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/longpengcs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/longpengcs/subscriptions",
            "organizations_url": "https://api.github.com/users/longpengcs/orgs",
            "repos_url": "https://api.github.com/users/longpengcs/repos",
            "events_url": "https://api.github.com/users/longpengcs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/longpengcs/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-04-24T14:47:34Z",
        "updated_at": "2019-04-24T14:47:34Z",
        "author_association": "NONE",
        "body": "> How did you measure it? Were you using our onnxruntime_perf_test tool?\r\n\r\nno, i'am using the time module in python to  statistics the time cost, just like:\r\n  start = time.time()\r\n  result = some_function_runing_cnn()\r\n  print(time.time() - start)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/486273849/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/496626912",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/897#issuecomment-496626912",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/897",
        "id": 496626912,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjYyNjkxMg==",
        "user": {
            "login": "faxu",
            "id": 20780999,
            "node_id": "MDQ6VXNlcjIwNzgwOTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/20780999?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/faxu",
            "html_url": "https://github.com/faxu",
            "followers_url": "https://api.github.com/users/faxu/followers",
            "following_url": "https://api.github.com/users/faxu/following{/other_user}",
            "gists_url": "https://api.github.com/users/faxu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/faxu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/faxu/subscriptions",
            "organizations_url": "https://api.github.com/users/faxu/orgs",
            "repos_url": "https://api.github.com/users/faxu/repos",
            "events_url": "https://api.github.com/users/faxu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/faxu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-28T18:07:21Z",
        "updated_at": "2019-05-28T18:07:21Z",
        "author_association": "MEMBER",
        "body": "@longpengcs Hi, is this still an issue you're experiencing? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/496626912/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/497215255",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/897#issuecomment-497215255",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/897",
        "id": 497215255,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzIxNTI1NQ==",
        "user": {
            "login": "ke1337",
            "id": 22626095,
            "node_id": "MDQ6VXNlcjIyNjI2MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22626095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ke1337",
            "html_url": "https://github.com/ke1337",
            "followers_url": "https://api.github.com/users/ke1337/followers",
            "following_url": "https://api.github.com/users/ke1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/ke1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ke1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ke1337/subscriptions",
            "organizations_url": "https://api.github.com/users/ke1337/orgs",
            "repos_url": "https://api.github.com/users/ke1337/repos",
            "events_url": "https://api.github.com/users/ke1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ke1337/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-30T06:05:48Z",
        "updated_at": "2019-05-30T06:05:48Z",
        "author_association": "CONTRIBUTOR",
        "body": "I think it might be related to [NUMA](https://software.intel.com/en-us/articles/optimizing-applications-for-numa). The recommendation is to create one process per NUMA node, so that weights would be placed in the memory for one NUMA node to access. You may set environment variable OMP_NUM_THREADS to control how many cpu cores to run in NUMA machines, and ideally it should be no more than cores in one NUMA node.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/497215255/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/497807671",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/897#issuecomment-497807671",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/897",
        "id": 497807671,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzgwNzY3MQ==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-31T18:07:40Z",
        "updated_at": "2019-05-31T18:07:40Z",
        "author_association": "MEMBER",
        "body": "followup to @KeDengMS's comment, one can use a combination of setting OMP_NUM_THREADS and numactl to force execution on the cpu cores of a specific NUMA node.\r\ne.g. if a NUMA node has 12 cores,\r\nexport OMP_NUM_THREADS=12\r\nnumactl --physcpubind=0-11 --membind=0 ./your_application  \r\n\r\nsee https://www.unix.com/man-page/centos/8/numactl/\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/497807671/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/498096779",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/897#issuecomment-498096779",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/897",
        "id": 498096779,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODA5Njc3OQ==",
        "user": {
            "login": "longpengcs",
            "id": 19258167,
            "node_id": "MDQ6VXNlcjE5MjU4MTY3",
            "avatar_url": "https://avatars.githubusercontent.com/u/19258167?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/longpengcs",
            "html_url": "https://github.com/longpengcs",
            "followers_url": "https://api.github.com/users/longpengcs/followers",
            "following_url": "https://api.github.com/users/longpengcs/following{/other_user}",
            "gists_url": "https://api.github.com/users/longpengcs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/longpengcs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/longpengcs/subscriptions",
            "organizations_url": "https://api.github.com/users/longpengcs/orgs",
            "repos_url": "https://api.github.com/users/longpengcs/repos",
            "events_url": "https://api.github.com/users/longpengcs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/longpengcs/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-03T02:57:43Z",
        "updated_at": "2019-06-03T02:57:43Z",
        "author_association": "NONE",
        "body": "@jywu-msft @KeDengMS My model is very small and the machine has 128G memory, so i think there is a problem of muti-thread Scheduling. When I set the OMP_NUM_THREADS to a small value like 2 or 3, it get a better performance, and using numactl binding the process to one NUMA node can also get some improvement.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/498096779/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/501044850",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/897#issuecomment-501044850",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/897",
        "id": 501044850,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTA0NDg1MA==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-11T22:20:55Z",
        "updated_at": "2019-06-11T22:20:55Z",
        "author_association": "MEMBER",
        "body": "closing as it sounds like OP's issue has been resolved.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/501044850/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]