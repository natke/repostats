[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297458769",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13512#issuecomment-1297458769",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13512",
        "id": 1297458769,
        "node_id": "IC_kwDOCVq1mM5NVaZR",
        "user": {
            "login": "baijumeswani",
            "id": 12852605,
            "node_id": "MDQ6VXNlcjEyODUyNjA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/12852605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/baijumeswani",
            "html_url": "https://github.com/baijumeswani",
            "followers_url": "https://api.github.com/users/baijumeswani/followers",
            "following_url": "https://api.github.com/users/baijumeswani/following{/other_user}",
            "gists_url": "https://api.github.com/users/baijumeswani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/baijumeswani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/baijumeswani/subscriptions",
            "organizations_url": "https://api.github.com/users/baijumeswani/orgs",
            "repos_url": "https://api.github.com/users/baijumeswani/repos",
            "events_url": "https://api.github.com/users/baijumeswani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/baijumeswani/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-31T17:53:54Z",
        "updated_at": "2022-10-31T17:56:29Z",
        "author_association": "MEMBER",
        "body": "From what I am reading in the code, the gradient is exactly the same as described in the equation you provided. Commented code for clarity:\r\n\r\n```cc\r\nArgDef X = I(0);\r\nstd::vector<NodeDef> result;\r\n\r\nNodeDef two_sqrt_pi_node = ConstantScalarNode(static_cast<float>(M_2_SQRTPI), Name(\"Two_Sqrt_Pi\"), IElemType(0));\r\nArgDef two_sqrt_pi_arg = two_sqrt_pi_node.output_args[0];\r\n\r\n// 2/sqrt(pi) = 1.12837916709551257390\r\nresult.push_back(two_sqrt_pi_node);\r\n\r\n// x*x\r\nresult.push_back(NodeDef(\"Mul\", {X, X}, {IA(\"Squared_X\")}));\r\n\r\n// -(x*x)\r\nresult.push_back(NodeDef(\"Neg\", {IA(\"Squared_X\")}, {IA(\"Neg_Squared_X\")}));\r\n\r\n// e^(-(x*x))\r\nresult.push_back(NodeDef(\"Exp\", {IA(\"Neg_Squared_X\")}, {IA(\"Exp_Neg_Squared_X\")}));\r\n\r\n// (2/sqrt(pi)) * (e^(-(x*x)))\r\nresult.push_back(NodeDef(\"Mul\", {two_sqrt_pi_arg, IA(\"Exp_Neg_Squared_X\")}, {IA(\"Mul_Exp_Neg_Squared_X\")}));\r\n\r\n// chain rule - gradient of input = gradient of output * (2/sqrt(pi)) * (e^(-(x*x)))\r\nresult.push_back(NodeDef(\"Mul\", {GO(0), IA(\"Mul_Exp_Neg_Squared_X\")}, {GI(0)}));\r\n\r\n\r\nreturn result;\r\n```\r\n\r\ncc @iK1D @pengwa ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297458769/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297461141",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13512#issuecomment-1297461141",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13512",
        "id": 1297461141,
        "node_id": "IC_kwDOCVq1mM5NVa-V",
        "user": {
            "login": "baijumeswani",
            "id": 12852605,
            "node_id": "MDQ6VXNlcjEyODUyNjA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/12852605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/baijumeswani",
            "html_url": "https://github.com/baijumeswani",
            "followers_url": "https://api.github.com/users/baijumeswani/followers",
            "following_url": "https://api.github.com/users/baijumeswani/following{/other_user}",
            "gists_url": "https://api.github.com/users/baijumeswani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/baijumeswani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/baijumeswani/subscriptions",
            "organizations_url": "https://api.github.com/users/baijumeswani/orgs",
            "repos_url": "https://api.github.com/users/baijumeswani/repos",
            "events_url": "https://api.github.com/users/baijumeswani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/baijumeswani/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-31T17:56:08Z",
        "updated_at": "2022-10-31T17:56:08Z",
        "author_association": "MEMBER",
        "body": "I think this can be closed. @rGitcy feel free to add more questions (and re-open) if you think the answer provided does not add up.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297461141/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297793155",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13512#issuecomment-1297793155",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13512",
        "id": 1297793155,
        "node_id": "IC_kwDOCVq1mM5NWsCD",
        "user": {
            "login": "gjm441",
            "id": 22522161,
            "node_id": "MDQ6VXNlcjIyNTIyMTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22522161?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gjm441",
            "html_url": "https://github.com/gjm441",
            "followers_url": "https://api.github.com/users/gjm441/followers",
            "following_url": "https://api.github.com/users/gjm441/following{/other_user}",
            "gists_url": "https://api.github.com/users/gjm441/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gjm441/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gjm441/subscriptions",
            "organizations_url": "https://api.github.com/users/gjm441/orgs",
            "repos_url": "https://api.github.com/users/gjm441/repos",
            "events_url": "https://api.github.com/users/gjm441/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gjm441/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-31T23:01:37Z",
        "updated_at": "2022-10-31T23:01:37Z",
        "author_association": "NONE",
        "body": "Maybe the last operator is div, not mul, according to the chain rule.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297793155/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297834193",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13512#issuecomment-1297834193",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13512",
        "id": 1297834193,
        "node_id": "IC_kwDOCVq1mM5NW2DR",
        "user": {
            "login": "rGitcy",
            "id": 8943172,
            "node_id": "MDQ6VXNlcjg5NDMxNzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8943172?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rGitcy",
            "html_url": "https://github.com/rGitcy",
            "followers_url": "https://api.github.com/users/rGitcy/followers",
            "following_url": "https://api.github.com/users/rGitcy/following{/other_user}",
            "gists_url": "https://api.github.com/users/rGitcy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rGitcy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rGitcy/subscriptions",
            "organizations_url": "https://api.github.com/users/rGitcy/orgs",
            "repos_url": "https://api.github.com/users/rGitcy/repos",
            "events_url": "https://api.github.com/users/rGitcy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rGitcy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-11-01T00:03:46Z",
        "updated_at": "2022-11-01T00:03:46Z",
        "author_association": "NONE",
        "body": "> Maybe the last operator is div, not mul, according to the chain rule.\r\n\r\ni argee with you!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297834193/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297835996",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13512#issuecomment-1297835996",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13512",
        "id": 1297835996,
        "node_id": "IC_kwDOCVq1mM5NW2fc",
        "user": {
            "login": "rGitcy",
            "id": 8943172,
            "node_id": "MDQ6VXNlcjg5NDMxNzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8943172?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rGitcy",
            "html_url": "https://github.com/rGitcy",
            "followers_url": "https://api.github.com/users/rGitcy/followers",
            "following_url": "https://api.github.com/users/rGitcy/following{/other_user}",
            "gists_url": "https://api.github.com/users/rGitcy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rGitcy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rGitcy/subscriptions",
            "organizations_url": "https://api.github.com/users/rGitcy/orgs",
            "repos_url": "https://api.github.com/users/rGitcy/repos",
            "events_url": "https://api.github.com/users/rGitcy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rGitcy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-11-01T00:05:51Z",
        "updated_at": "2022-11-01T00:05:51Z",
        "author_association": "NONE",
        "body": "> I think this can be closed. @rGitcy feel free to add more questions (and re-open) if you think the answer provided does not add up.\r\n\r\nthx. But i think the last operator is div, not mul according to the differentiation formulas of erf. please check it. \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297835996/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297842279",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13512#issuecomment-1297842279",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13512",
        "id": 1297842279,
        "node_id": "IC_kwDOCVq1mM5NW4Bn",
        "user": {
            "login": "baijumeswani",
            "id": 12852605,
            "node_id": "MDQ6VXNlcjEyODUyNjA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/12852605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/baijumeswani",
            "html_url": "https://github.com/baijumeswani",
            "followers_url": "https://api.github.com/users/baijumeswani/followers",
            "following_url": "https://api.github.com/users/baijumeswani/following{/other_user}",
            "gists_url": "https://api.github.com/users/baijumeswani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/baijumeswani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/baijumeswani/subscriptions",
            "organizations_url": "https://api.github.com/users/baijumeswani/orgs",
            "repos_url": "https://api.github.com/users/baijumeswani/repos",
            "events_url": "https://api.github.com/users/baijumeswani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/baijumeswani/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-11-01T00:14:19Z",
        "updated_at": "2022-11-01T00:14:19Z",
        "author_association": "MEMBER",
        "body": "forward graph:\r\n\r\nx->erf->output\r\n\r\noutput = erf(x)\r\n\r\nbackward graph:\r\n\r\ngradient_of_output -> erf_grad -> gradient_of_x\r\n\r\nchain rule\r\ngradient_of_x = gradient_of_output * erf_grad(x)\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297842279/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297869977",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13512#issuecomment-1297869977",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13512",
        "id": 1297869977,
        "node_id": "IC_kwDOCVq1mM5NW-yZ",
        "user": {
            "login": "gjm441",
            "id": 22522161,
            "node_id": "MDQ6VXNlcjIyNTIyMTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22522161?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gjm441",
            "html_url": "https://github.com/gjm441",
            "followers_url": "https://api.github.com/users/gjm441/followers",
            "following_url": "https://api.github.com/users/gjm441/following{/other_user}",
            "gists_url": "https://api.github.com/users/gjm441/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gjm441/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gjm441/subscriptions",
            "organizations_url": "https://api.github.com/users/gjm441/orgs",
            "repos_url": "https://api.github.com/users/gjm441/repos",
            "events_url": "https://api.github.com/users/gjm441/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gjm441/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-11-01T00:58:20Z",
        "updated_at": "2022-11-01T00:58:20Z",
        "author_association": "NONE",
        "body": "> forward graph:\r\n> \r\n> x->erf->output\r\n> \r\n> output = erf(x)\r\n> \r\n> backward graph:\r\n> \r\n> gradient_of_output -> erf_grad -> gradient_of_x\r\n> \r\n> chain rule gradient_of_x = gradient_of_output * erf_grad(x)\r\n\r\n![image](https://user-images.githubusercontent.com/22522161/199135980-2c58fb82-00ed-44d4-93b4-189f81c211a4.png)\r\nThe formula is  y=erf(x), dy/dx= (2/sqrt(pi)) * (e^(-(x*x))), not dx/dy",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297869977/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297887634",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13512#issuecomment-1297887634",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13512",
        "id": 1297887634,
        "node_id": "IC_kwDOCVq1mM5NXDGS",
        "user": {
            "login": "rGitcy",
            "id": 8943172,
            "node_id": "MDQ6VXNlcjg5NDMxNzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8943172?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rGitcy",
            "html_url": "https://github.com/rGitcy",
            "followers_url": "https://api.github.com/users/rGitcy/followers",
            "following_url": "https://api.github.com/users/rGitcy/following{/other_user}",
            "gists_url": "https://api.github.com/users/rGitcy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rGitcy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rGitcy/subscriptions",
            "organizations_url": "https://api.github.com/users/rGitcy/orgs",
            "repos_url": "https://api.github.com/users/rGitcy/repos",
            "events_url": "https://api.github.com/users/rGitcy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rGitcy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-11-01T01:24:40Z",
        "updated_at": "2022-11-01T01:24:40Z",
        "author_association": "NONE",
        "body": "> forward graph:\r\n> \r\n> x->erf->output\r\n> \r\n> output = erf(x)\r\n> \r\n> backward graph:\r\n> \r\n> gradient_of_output -> erf_grad -> gradient_of_x\r\n> \r\n> chain rule gradient_of_x = gradient_of_output * erf_grad(x)\r\n\r\nThe computation should be rule gradient_of_output = gradient_of_input * erf_grad(x) according to the differentiation formulas of erf. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297887634/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297891768",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13512#issuecomment-1297891768",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13512",
        "id": 1297891768,
        "node_id": "IC_kwDOCVq1mM5NXEG4",
        "user": {
            "login": "rGitcy",
            "id": 8943172,
            "node_id": "MDQ6VXNlcjg5NDMxNzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8943172?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rGitcy",
            "html_url": "https://github.com/rGitcy",
            "followers_url": "https://api.github.com/users/rGitcy/followers",
            "following_url": "https://api.github.com/users/rGitcy/following{/other_user}",
            "gists_url": "https://api.github.com/users/rGitcy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rGitcy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rGitcy/subscriptions",
            "organizations_url": "https://api.github.com/users/rGitcy/orgs",
            "repos_url": "https://api.github.com/users/rGitcy/repos",
            "events_url": "https://api.github.com/users/rGitcy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rGitcy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-11-01T01:29:47Z",
        "updated_at": "2022-11-01T01:29:47Z",
        "author_association": "NONE",
        "body": "@baijumeswani @mattetti  please check it again!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297891768/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297981340",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13512#issuecomment-1297981340",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13512",
        "id": 1297981340,
        "node_id": "IC_kwDOCVq1mM5NXZ-c",
        "user": {
            "login": "iK1D",
            "id": 11661208,
            "node_id": "MDQ6VXNlcjExNjYxMjA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11661208?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/iK1D",
            "html_url": "https://github.com/iK1D",
            "followers_url": "https://api.github.com/users/iK1D/followers",
            "following_url": "https://api.github.com/users/iK1D/following{/other_user}",
            "gists_url": "https://api.github.com/users/iK1D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/iK1D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iK1D/subscriptions",
            "organizations_url": "https://api.github.com/users/iK1D/orgs",
            "repos_url": "https://api.github.com/users/iK1D/repos",
            "events_url": "https://api.github.com/users/iK1D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/iK1D/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-11-01T03:37:54Z",
        "updated_at": "2022-11-01T03:37:54Z",
        "author_association": "MEMBER",
        "body": "> @baijumeswani @mattetti please check it again!\r\n\r\nIt's not to compute dx, let C is cost function, so gradient(x) is dC/dx and gradient(y) is dC/dy.\r\n\r\ngradient(x) = dC/dx = (dC/dy)*f' = gradient(y)*f'.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1297981340/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]