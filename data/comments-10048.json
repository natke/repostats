[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/995174522",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-995174522",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 995174522,
        "node_id": "IC_kwDOCVq1mM47USh6",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-15T20:07:16Z",
        "updated_at": "2021-12-15T20:07:16Z",
        "author_association": "CONTRIBUTOR",
        "body": "Which version of the ML.Net are you using in the App?\r\nPlease also consider using the `Microsoft.ML.OnnxRuntime` directly, see this [example](https://github.com/microsoft/onnxruntime-inference-examples/tree/main/mobile/examples/Xamarin). ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/995174522/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/995175350",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-995175350",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 995175350,
        "node_id": "IC_kwDOCVq1mM47USu2",
        "user": {
            "login": "juwens",
            "id": 11560817,
            "node_id": "MDQ6VXNlcjExNTYwODE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11560817?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juwens",
            "html_url": "https://github.com/juwens",
            "followers_url": "https://api.github.com/users/juwens/followers",
            "following_url": "https://api.github.com/users/juwens/following{/other_user}",
            "gists_url": "https://api.github.com/users/juwens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juwens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juwens/subscriptions",
            "organizations_url": "https://api.github.com/users/juwens/orgs",
            "repos_url": "https://api.github.com/users/juwens/repos",
            "events_url": "https://api.github.com/users/juwens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juwens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-15T20:08:34Z",
        "updated_at": "2021-12-15T21:21:02Z",
        "author_association": "NONE",
        "body": "that's from csproj:\r\n```\r\n    <PackageReference Include=\"Microsoft.ML\" Version=\"1.7.0\" />\r\n    <PackageReference Include=\"Microsoft.ML.OnnxRuntime\" Version=\"1.10.0\" />\r\n    <PackageReference Include=\"Microsoft.ML.OnnxTransformer\" Version=\"1.7.0\" />\r\n```\r\n\r\nI'll give the direct usage a try.\r\n\r\nFor the records:\r\n\r\nthats the second method on the stack: [CreateDirectVBufferSetter](https://github.com/dotnet/machinelearning/blob/release/1.7.0/src/Microsoft.ML.Data/DataView/TypedCursor.cs#L446)\r\n\r\npoking around in the assembly and stack, i found, that the the class `c__DisplayClass8_0` is the closure class for this method.\r\n\r\nSo it crashes durring the call to that method, not durring a call to the closure.\r\n\r\nBut i don't see where the System.Memory is instantiated. ðŸ¤”",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/995175350/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/995965525",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-995965525",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 995965525,
        "node_id": "IC_kwDOCVq1mM47XTpV",
        "user": {
            "login": "juwens",
            "id": 11560817,
            "node_id": "MDQ6VXNlcjExNTYwODE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11560817?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juwens",
            "html_url": "https://github.com/juwens",
            "followers_url": "https://api.github.com/users/juwens/followers",
            "following_url": "https://api.github.com/users/juwens/following{/other_user}",
            "gists_url": "https://api.github.com/users/juwens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juwens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juwens/subscriptions",
            "organizations_url": "https://api.github.com/users/juwens/orgs",
            "repos_url": "https://api.github.com/users/juwens/repos",
            "events_url": "https://api.github.com/users/juwens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juwens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-16T16:15:14Z",
        "updated_at": "2021-12-16T16:16:14Z",
        "author_association": "NONE",
        "body": "I nailed it down to different versions of System.Memory being referenced durring runtime, when you add\r\n\r\n```\r\n    <PackageReference Include=\"Microsoft.ML.OnnxTransformer\" Version=\"1.7.0\" />\r\n```\r\nadditionally to\r\n```\r\n    <PackageReference Include=\"Microsoft.ML.OnnxRuntime\" Version=\"1.10.0\" />\r\n```\r\n\r\nSee:\r\n```\r\nSystem.Memory`1, mscorlib, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\r\n\r\nand\r\n\r\nSystem.Memory`1, System.Memory, Version=4.0.1.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\r\n```\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/995965525/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/995992077",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-995992077",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 995992077,
        "node_id": "IC_kwDOCVq1mM47XaIN",
        "user": {
            "login": "juwens",
            "id": 11560817,
            "node_id": "MDQ6VXNlcjExNTYwODE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11560817?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juwens",
            "html_url": "https://github.com/juwens",
            "followers_url": "https://api.github.com/users/juwens/followers",
            "following_url": "https://api.github.com/users/juwens/following{/other_user}",
            "gists_url": "https://api.github.com/users/juwens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juwens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juwens/subscriptions",
            "organizations_url": "https://api.github.com/users/juwens/orgs",
            "repos_url": "https://api.github.com/users/juwens/repos",
            "events_url": "https://api.github.com/users/juwens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juwens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-16T16:46:01Z",
        "updated_at": "2021-12-16T16:46:01Z",
        "author_association": "NONE",
        "body": "@mikeparker104 thanks for the hint. yes hot reload is disable in VS\r\n\r\n![image](https://user-images.githubusercontent.com/11560817/146413174-4810850f-2f2c-4010-8e10-deb1c9b91711.png)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/995992077/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996000621",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-996000621",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 996000621,
        "node_id": "IC_kwDOCVq1mM47XcNt",
        "user": {
            "login": "juwens",
            "id": 11560817,
            "node_id": "MDQ6VXNlcjExNTYwODE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11560817?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juwens",
            "html_url": "https://github.com/juwens",
            "followers_url": "https://api.github.com/users/juwens/followers",
            "following_url": "https://api.github.com/users/juwens/following{/other_user}",
            "gists_url": "https://api.github.com/users/juwens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juwens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juwens/subscriptions",
            "organizations_url": "https://api.github.com/users/juwens/orgs",
            "repos_url": "https://api.github.com/users/juwens/repos",
            "events_url": "https://api.github.com/users/juwens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juwens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-16T16:56:15Z",
        "updated_at": "2021-12-16T17:20:19Z",
        "author_association": "NONE",
        "body": "I was finally successful and created a minimal example:\r\n\r\nhttps://github.com/juwens/OnnxRuntime_MissingMethodException\r\n\r\nif you add `Microsoft.ML.OnnxTransformer` to LibraryUsingOnnxRuntime you get the first problem you need to solve: the ios project will not compile anymore:\r\n\r\n```\r\n/Applications/Visual Studio (Preview).app/Contents/MonoBundle/MSBuild/Current/bin/Microsoft.Common.CurrentVersion.targets(2218,5): warning MSB3276: Found conflicts between different versions of the same dependent assembly. Please set the \"AutoGenerateBindingRedirects\" property to true in the project file. For more information, see http://go.microsoft.com/fwlink/?LinkId=294190.\r\n/Users/jjaehrig/Projects/OnnxRuntimeMissingMethodException/OnnxRuntimeMissingMethodException/Main.cs(13,32,13,45): error CS0433: The type 'Memory<T>' exists in both 'System.Memory, Version=4.0.1.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51' and 'mscorlib, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'\r\n/Users/jjaehrig/Projects/OnnxRuntimeMissingMethodException/OnnxRuntimeMissingMethodException/Main.cs(15,32,15,91): error CS0433: The type 'Memory<T>' exists in both 'System.Memory, Version=4.0.1.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51' and 'mscorlib, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'\r\n/Users/jjaehrig/Projects/OnnxRuntimeMissingMethodException/OnnxRuntimeMissingMethodException/Main.cs(18,45,18,53): error CS0433: The type 'Memory<T>' exists in both 'System.Memory, Version=4.0.1.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51' and 'mscorlib, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'\r\n    3 Warning(s)\r\n    3 Error(s)\r\n\r\nTime Elapsed 00:00:01.47\r\n\r\n========== Build: 1 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\r\n```\r\n\r\nadding `<AutoGenerateBindingRedirects>true</AutoGenerateBindingRedirects>` yields the same result.\r\n\r\nThe problem with System.Memory compile issue has been reported almost three years ago, but was deemed as \"no xamarin issue\" and closed:\r\nhttps://github.com/xamarin/xamarin-macios/issues/5687",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996000621/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996035325",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-996035325",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 996035325,
        "node_id": "IC_kwDOCVq1mM47Xkr9",
        "user": {
            "login": "juwens",
            "id": 11560817,
            "node_id": "MDQ6VXNlcjExNTYwODE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11560817?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juwens",
            "html_url": "https://github.com/juwens",
            "followers_url": "https://api.github.com/users/juwens/followers",
            "following_url": "https://api.github.com/users/juwens/following{/other_user}",
            "gists_url": "https://api.github.com/users/juwens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juwens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juwens/subscriptions",
            "organizations_url": "https://api.github.com/users/juwens/orgs",
            "repos_url": "https://api.github.com/users/juwens/repos",
            "events_url": "https://api.github.com/users/juwens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juwens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-16T17:38:48Z",
        "updated_at": "2021-12-16T18:48:53Z",
        "author_association": "NONE",
        "body": "Trying https://jaylee.org/archive/2019/03/31/using-span-of-t-in-xamarin-cross-targeted-projects.html leads to the MissingMethodException.\r\n\r\nAdding `<PackageReference Include=\"System.Memory\" Version=\"4.5.4\" IncludeAssets=\"None\" />\r\n` to the `OnnxRuntime_MissingMethodException\r\n.csproj` seems to solves the compiler error for this example. And also seems to work at runtime. Note the `IncludeAssets=\"None\"`.\r\nBut doing the same on my real Xamarin.Forms project does not solve the compile issue.\r\n\r\nIn past, xamarin devs said the problem is with the author of the lib, and that there is no need to fix anything in xamarin build targets.\r\n\r\nsee:\r\n- https://github.com/xamarin/xamarin-macios/issues/5687\r\n- https://github.com/xamarin/Xamarin.Forms/issues/13033\r\n- https://github.com/xamarin/xamarin-macios/issues/6412\r\n- https://github.com/xamarin/Xamarin.Forms/issues/14885\r\n- and several more",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996035325/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996110035",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-996110035",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 996110035,
        "node_id": "IC_kwDOCVq1mM47X27T",
        "user": {
            "login": "juwens",
            "id": 11560817,
            "node_id": "MDQ6VXNlcjExNTYwODE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11560817?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juwens",
            "html_url": "https://github.com/juwens",
            "followers_url": "https://api.github.com/users/juwens/followers",
            "following_url": "https://api.github.com/users/juwens/following{/other_user}",
            "gists_url": "https://api.github.com/users/juwens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juwens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juwens/subscriptions",
            "organizations_url": "https://api.github.com/users/juwens/orgs",
            "repos_url": "https://api.github.com/users/juwens/repos",
            "events_url": "https://api.github.com/users/juwens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juwens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-16T19:22:04Z",
        "updated_at": "2021-12-16T20:53:32Z",
        "author_association": "NONE",
        "body": "@mikeparker104 i finally have a minimal working example which reflects our problem.\r\n(my previous example was apparently too simple).\r\n\r\nCan you please take a look at this repo: https://github.com/juwens/OnnxRuntime_XamarinForms_MissingMethodException\r\n\r\nIt's a minimal xamarin forms app.\r\nThe MainPage ctor calls MyLib.Class1.TestDenseTensor() which produces the same problem as our onnxRuntime nuget usecase.\r\n\r\nJust start it with Debug + IphoneSimulator, wait for the ctor of MainPage to be called and you should see the MissingMethodException.\r\n\r\n![image](https://user-images.githubusercontent.com/11560817/146435091-6e20172d-89b0-43dd-9b5a-446373dbcce3.png)\r\n\r\n\r\n```\r\n~/Projects/OnnxXF [main â‰¡]> dotnet --info\r\n.NET SDK (reflecting any global.json):\r\n Version:   6.0.101\r\n Commit:    ef49f6213a\r\n\r\nRuntime Environment:\r\n OS Name:     Mac OS X\r\n OS Version:  12.0\r\n OS Platform: Darwin\r\n RID:         osx.12-arm64\r\n Base Path:   /usr/local/share/dotnet/sdk/6.0.101/\r\n\r\nHost (useful for support):\r\n  Version: 6.0.1\r\n  Commit:  3a25a7f1cc\r\n\r\n.NET SDKs installed:\r\n  6.0.100 [/usr/local/share/dotnet/sdk]\r\n  6.0.101 [/usr/local/share/dotnet/sdk]\r\n\r\n.NET runtimes installed:\r\n  Microsoft.AspNetCore.App 6.0.0 [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 6.0.1 [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 6.0.0 [/usr/local/share/dotnet/shared/Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 6.0.1 [/usr/local/share/dotnet/shared/Microsoft.NETCore.App]\r\n```\r\n\r\n```\r\nVisual Studio Enterprise 2022 for Mac Preview\r\nVersion 17.0 Preview (17.0 build 5186)\r\nInstallation UUID: 82ecfc2f-3dbe-4c70-88f4-7fa572605880\r\n\tGTK+ 2.24.23\r\n\r\nMono Framework MDK\r\nRuntime:\r\n\tMono 6.12.0 (2020-02/5ce143a1a88) (64-bit)\r\n\tPackage version: 612000158\r\n\r\nRoslyn (Language Service)\r\n4.1.0-1.21511.14+c09d760509f00afadf0fa9b6ee7d0c53b70943ca\r\n\r\nNuGet\r\nVersion: 6.0.0.262\r\n\r\n.NET SDK (Arm64)\r\nSDK: /usr/local/share/dotnet/sdk/6.0.101/Sdks\r\nSDK Versions:\r\n\t6.0.101\r\n\t6.0.100\r\nMSBuild SDKs: /Applications/Visual Studio (Preview).app/Contents/MonoBundle/MSBuild/Current/bin/Sdks\r\n\r\n.NET Core Runtime\r\nRuntime: /usr/local/share/dotnet/dotnet\r\nRuntime Versions:\r\n\t6.0.1\r\n\t6.0.0\r\n\r\nXamarin.Profiler\r\nVersion: 1.7.0.0\r\nLocation: /Applications/Xamarin Profiler.app/Contents/MacOS/Xamarin Profiler\r\n\r\nUpdater\r\nVersion: 11\r\n\r\nXamarin Designer\r\nVersion: 17.1.0.87\r\nHash: d50fb5635\r\nBranch: remotes/origin/main\r\nBuild date: 2021-12-14 12:53:13 UTC\r\n\r\nXamarin.Android\r\nVersion: 12.1.99.117 (Visual Studio Enterprise)\r\nCommit: xamarin-android/main/c52e6e6\r\nAndroid SDK: /Users/jjaehrig/Library/Developer/Xamarin/android-sdk-macosx\r\n\tSupported Android versions:\r\n\t\t12.0 (API level 31)\r\n\t\t11.0 (API level 30)\r\n\t\t10.0 (API level 29)\r\n\t\t9.0  (API level 28)\r\n\r\nSDK Command-line Tools Version: 5.0\r\nSDK Platform Tools Version: 31.0.3\r\nSDK Build Tools Version: 30.0.3\r\n\r\nBuild Information: \r\nMono: c633fe9\r\nJava.Interop: xamarin/java.interop/main@7f1a5ab1\r\nProGuard: Guardsquare/proguard/v7.0.1@912d149\r\nSQLite: xamarin/sqlite/3.37.0@88e12a9\r\nXamarin.Android Tools: xamarin/xamarin-android-tools/main@35c89dd\r\n\r\nMicrosoft Build of OpenJDK\r\nJava SDK: /Library/Java/JavaVirtualMachines/microsoft-11.jdk\r\n11.0.12\r\nAndroid Designer EPL code available here:\r\nhttps://github.com/xamarin/AndroidDesigner.EPL\r\n\r\nEclipse Temurin JDK\r\nJava SDK: /Library/Java/JavaVirtualMachines/temurin-8.jdk\r\n1.8.0.302\r\nAndroid Designer EPL code available here:\r\nhttps://github.com/xamarin/AndroidDesigner.EPL\r\n\r\nAndroid SDK Manager\r\nVersion: 17.1.0.14\r\nHash: 9c65d8a\r\nBranch: remotes/origin/backport-pr-548-to-main~1\r\nBuild date: 2021-12-14 12:53:20 UTC\r\n\r\nAndroid Device Manager\r\nVersion: 17.1.0.13\r\nHash: 1de1208\r\nBranch: remotes/origin/anchimna/missingLibCmdtoolsFix~1\r\nBuild date: 2021-12-14 12:53:20 UTC\r\n\r\nApple Developer Tools\r\nXcode 13.2 (19585)\r\nBuild 13C90\r\n\r\nXamarin.Mac\r\nXamarin.Mac not installed. Can't find /Library/Frameworks/Xamarin.Mac.framework/Versions/Current/Version.\r\n\r\nXamarin.iOS\r\nVersion: 15.2.0.17 (Visual Studio Enterprise)\r\nHash: 738fde344\r\nBranch: xcode13.1\r\nBuild date: 2021-11-09 02:45:16-0500\r\n\r\nBuild Information\r\nRelease ID: 1700005186\r\nGit revision: af62eedc3c792b28d8a6764132fe9b25922712af\r\nBuild date: 2021-12-14 07:51:33-05\r\nBuild branch: release-17.0\r\n\r\nOperating System\r\nMac OS X 12.0.1\r\nDarwin 21.1.0 Darwin Kernel Version 21.1.0\r\n    Wed Oct 13 17:33:24 PDT 2021\r\n    root:xnu-8019.41.5~1/RELEASE_ARM64_T8101 x86_64\r\n\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996110035/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996274501",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-996274501",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 996274501,
        "node_id": "IC_kwDOCVq1mM47YfFF",
        "user": {
            "login": "juwens",
            "id": 11560817,
            "node_id": "MDQ6VXNlcjExNTYwODE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11560817?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juwens",
            "html_url": "https://github.com/juwens",
            "followers_url": "https://api.github.com/users/juwens/followers",
            "following_url": "https://api.github.com/users/juwens/following{/other_user}",
            "gists_url": "https://api.github.com/users/juwens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juwens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juwens/subscriptions",
            "organizations_url": "https://api.github.com/users/juwens/orgs",
            "repos_url": "https://api.github.com/users/juwens/repos",
            "events_url": "https://api.github.com/users/juwens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juwens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-16T23:31:04Z",
        "updated_at": "2021-12-16T23:32:34Z",
        "author_association": "NONE",
        "body": "@mikeparker104 ive added some more debugging code to see, which System.Memory type is used, when I use System.Memory and what type is returned by DenseTensor.Buffer. As i expected, they are different versions of System.Memory.\r\n\r\n```\r\nLoaded assemblies:\r\n\r\nmscorlib, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\r\n\tSystem.Memory`1, mscorlib, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\r\n\r\nSystem.Memory, Version=4.0.1.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\r\n\tSystem.Memory`1, System.Memory, Version=4.0.1.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\r\n\r\nAnd the actual used types:\r\n\r\nDenseTensor<>.Buffer type from C#: System.Memory`1[T], mscorlib, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\r\n\r\nSystem.Memory        type from C#: System.Memory`1, System.Memory, Version=4.0.1.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\r\n```\r\n\r\nThis looks like an issue which should be solvable by binding redirects, but i don't get it working and I'm not sure if mono-ios recognises them.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996274501/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996292445",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-996292445",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 996292445,
        "node_id": "IC_kwDOCVq1mM47Yjdd",
        "user": {
            "login": "juwens",
            "id": 11560817,
            "node_id": "MDQ6VXNlcjExNTYwODE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11560817?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juwens",
            "html_url": "https://github.com/juwens",
            "followers_url": "https://api.github.com/users/juwens/followers",
            "following_url": "https://api.github.com/users/juwens/following{/other_user}",
            "gists_url": "https://api.github.com/users/juwens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juwens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juwens/subscriptions",
            "organizations_url": "https://api.github.com/users/juwens/orgs",
            "repos_url": "https://api.github.com/users/juwens/repos",
            "events_url": "https://api.github.com/users/juwens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juwens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-17T00:13:10Z",
        "updated_at": "2021-12-17T00:18:41Z",
        "author_association": "NONE",
        "body": "Again, adding the following to the ios app csproj fixes the runtime error.\r\n```\r\n    <PackageReference Include=\"System.Memory\" Version=\"4.5.3\" IncludeAssets=\"None\"/>\r\n```\r\nWhat happens: despite that a lot of assemblies are referencing System.Memory 4.5.3, by this Package Ref with includeAssets=None, you force the build process to put no System.Memory.dll to output dir, so as a \"fallback\" the System.Memory from mscorlib in version 2.0.5.0 is used.\r\n\r\nAdditional Infos: be careful with the iphone simulator, mono runtime for it does not support \"interpreter\", therefore no Reflection.Emit, which in some scenarios is required by ML.Net, not by OnnxRuntime directly, but indireclty by other parts of ML.Net.\r\nI for example followed the MS tutorial on https://docs.microsoft.com/en-us/azure/machine-learning/how-to-use-automl-onnx-model-dotnet#use-the-model-to-make-predictions and it will throw PlatformNotSupported exception when you run it on iphone simulator. (which can get confusing, when you oversee, that it's not the MissingMethodException you are trying to circumvent)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996292445/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1100843558",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-1100843558",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 1100843558,
        "node_id": "IC_kwDOCVq1mM5BnYom",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2022-04-17T09:53:50Z",
        "updated_at": "2022-04-17T09:53:50Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1100843558/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1109602279",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10048#issuecomment-1109602279",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10048",
        "id": 1109602279,
        "node_id": "IC_kwDOCVq1mM5CIy_n",
        "user": {
            "login": "juwens",
            "id": 11560817,
            "node_id": "MDQ6VXNlcjExNTYwODE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11560817?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juwens",
            "html_url": "https://github.com/juwens",
            "followers_url": "https://api.github.com/users/juwens/followers",
            "following_url": "https://api.github.com/users/juwens/following{/other_user}",
            "gists_url": "https://api.github.com/users/juwens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juwens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juwens/subscriptions",
            "organizations_url": "https://api.github.com/users/juwens/orgs",
            "repos_url": "https://api.github.com/users/juwens/repos",
            "events_url": "https://api.github.com/users/juwens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juwens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-04-26T10:03:00Z",
        "updated_at": "2022-04-26T10:03:00Z",
        "author_association": "NONE",
        "body": "still an issue",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1109602279/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]