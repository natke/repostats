[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1066319731",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10854#issuecomment-1066319731",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10854",
        "id": 1066319731,
        "node_id": "IC_kwDOCVq1mM4_jr9z",
        "user": {
            "login": "wschin",
            "id": 3524474,
            "node_id": "MDQ6VXNlcjM1MjQ0NzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3524474?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wschin",
            "html_url": "https://github.com/wschin",
            "followers_url": "https://api.github.com/users/wschin/followers",
            "following_url": "https://api.github.com/users/wschin/following{/other_user}",
            "gists_url": "https://api.github.com/users/wschin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wschin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wschin/subscriptions",
            "organizations_url": "https://api.github.com/users/wschin/orgs",
            "repos_url": "https://api.github.com/users/wschin/repos",
            "events_url": "https://api.github.com/users/wschin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wschin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-14T04:10:17Z",
        "updated_at": "2022-03-14T04:10:17Z",
        "author_association": "MEMBER",
        "body": "I don't think NNAPI EP supports LSTM. There is no such op in [its op registration code](https://github.com/microsoft/onnxruntime/blob/03181caeaef9343bd2e8d7999386893562ebb23a/onnxruntime/core/providers/nnapi/nnapi_builtin/builders/op_builder.cc#L2633).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1066319731/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1066345184",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10854#issuecomment-1066345184",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10854",
        "id": 1066345184,
        "node_id": "IC_kwDOCVq1mM4_jyLg",
        "user": {
            "login": "mmxuan18",
            "id": 6283983,
            "node_id": "MDQ6VXNlcjYyODM5ODM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6283983?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mmxuan18",
            "html_url": "https://github.com/mmxuan18",
            "followers_url": "https://api.github.com/users/mmxuan18/followers",
            "following_url": "https://api.github.com/users/mmxuan18/following{/other_user}",
            "gists_url": "https://api.github.com/users/mmxuan18/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mmxuan18/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mmxuan18/subscriptions",
            "organizations_url": "https://api.github.com/users/mmxuan18/orgs",
            "repos_url": "https://api.github.com/users/mmxuan18/repos",
            "events_url": "https://api.github.com/users/mmxuan18/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mmxuan18/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-14T05:06:17Z",
        "updated_at": "2022-03-14T05:06:17Z",
        "author_association": "NONE",
        "body": "but crash at set nnapi provider, even not reach Session create code, as error info:\r\n\r\nOrt::ThrowOnError(OrtSessionOptionsAppendExecutionProvider_Nnapi(sessionOptions, nnapi_flags)); i can get the right result, but when i use nnapi provider get follow error :\r\n\r\nI/TypeManager: Failed to read /vendor/etc/nnapi_extensions_app_allowlist ; No app allowlisted for vendor extensions use.\r\nE/onnxruntime: [E:onnxruntime:, inference_session.cc:1548 operator()] Exception during initialization: unordered_map::at: key not found\r\nI/com.tc.tar.dem: Thread[6,tid=2710,WaitingInMainSignalCatcherLoop,Thread*=0xe5e4a810,peer=0x12fc04f8,\"Signal Catcher\"]: reacting to signal 3",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1066345184/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1066666662",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10854#issuecomment-1066666662",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10854",
        "id": 1066666662,
        "node_id": "IC_kwDOCVq1mM4_lAqm",
        "user": {
            "login": "mmxuan18",
            "id": 6283983,
            "node_id": "MDQ6VXNlcjYyODM5ODM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6283983?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mmxuan18",
            "html_url": "https://github.com/mmxuan18",
            "followers_url": "https://api.github.com/users/mmxuan18/followers",
            "following_url": "https://api.github.com/users/mmxuan18/following{/other_user}",
            "gists_url": "https://api.github.com/users/mmxuan18/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mmxuan18/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mmxuan18/subscriptions",
            "organizations_url": "https://api.github.com/users/mmxuan18/orgs",
            "repos_url": "https://api.github.com/users/mmxuan18/repos",
            "events_url": "https://api.github.com/users/mmxuan18/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mmxuan18/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-14T11:24:08Z",
        "updated_at": "2022-03-14T11:24:08Z",
        "author_association": "NONE",
        "body": "> I don't think NNAPI EP supports LSTM. There is no such op in [its op registration code](https://github.com/microsoft/onnxruntime/blob/03181caeaef9343bd2e8d7999386893562ebb23a/onnxruntime/core/providers/nnapi/nnapi_builtin/builders/op_builder.cc#L2633).\r\n\r\nas nnapi doc show, it support lstm op, \r\n![image](https://user-images.githubusercontent.com/6283983/158162563-4db65906-7be1-4a39-b008-3c1040bb6f9b.png)\r\n\r\nhttps://developer.android.com/ndk/reference/group/neural-networks#group___neural_networks_1ggaabbe492c60331b13038e39d4207940e0ad0377e8c305e596fb7f64ff896671fc5",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1066666662/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1067237742",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10854#issuecomment-1067237742",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10854",
        "id": 1067237742,
        "node_id": "IC_kwDOCVq1mM4_nMFu",
        "user": {
            "login": "YUNQIUGUO",
            "id": 35738743,
            "node_id": "MDQ6VXNlcjM1NzM4NzQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/35738743?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/YUNQIUGUO",
            "html_url": "https://github.com/YUNQIUGUO",
            "followers_url": "https://api.github.com/users/YUNQIUGUO/followers",
            "following_url": "https://api.github.com/users/YUNQIUGUO/following{/other_user}",
            "gists_url": "https://api.github.com/users/YUNQIUGUO/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/YUNQIUGUO/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/YUNQIUGUO/subscriptions",
            "organizations_url": "https://api.github.com/users/YUNQIUGUO/orgs",
            "repos_url": "https://api.github.com/users/YUNQIUGUO/repos",
            "events_url": "https://api.github.com/users/YUNQIUGUO/events{/privacy}",
            "received_events_url": "https://api.github.com/users/YUNQIUGUO/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-14T20:08:15Z",
        "updated_at": "2022-03-14T20:08:15Z",
        "author_association": "MEMBER",
        "body": "Hi, \r\n\r\njust first want to make sure that the `android_api`in your pasted nnapi build cmd, is it a typo or you actually used 21? I guess min android api should be >=27. \r\n\r\n> nnapi build cmd: ./build.sh --update --parallel --skip_tests --android --android_abi armeabi-v7a --android_api 21 --android_sdk_path $ANDROID_HOME --android_ndk_path $ANDROID_NDK --cmake_extra_defines CMAKE_INSTALL_PREFIX=install --skip_onnx_tests --use_nnapi --nnapi_min_api 27 --minimal_build extended",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1067237742/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1067407850",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10854#issuecomment-1067407850",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10854",
        "id": 1067407850,
        "node_id": "IC_kwDOCVq1mM4_n1nq",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-14T23:30:45Z",
        "updated_at": "2022-03-14T23:30:45Z",
        "author_association": "MEMBER",
        "body": "Seems like your runtime error comes from a vendor extensions issue, which is outside of ORT. https://source.android.com/devices/neural-networks/vendor-extensions\r\n\r\nCurrently the ORT NNAPI execution provider does not have support for converting the ONNX operator to the NNAPI equivalent. That would mean the LSTM operator would run using the ORT CPU kernel. We can look at adding support for LSTM to NNAPI. Is this for a production scenario?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1067407850/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1067459137",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10854#issuecomment-1067459137",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10854",
        "id": 1067459137,
        "node_id": "IC_kwDOCVq1mM4_oCJB",
        "user": {
            "login": "mmxuan18",
            "id": 6283983,
            "node_id": "MDQ6VXNlcjYyODM5ODM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6283983?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mmxuan18",
            "html_url": "https://github.com/mmxuan18",
            "followers_url": "https://api.github.com/users/mmxuan18/followers",
            "following_url": "https://api.github.com/users/mmxuan18/following{/other_user}",
            "gists_url": "https://api.github.com/users/mmxuan18/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mmxuan18/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mmxuan18/subscriptions",
            "organizations_url": "https://api.github.com/users/mmxuan18/orgs",
            "repos_url": "https://api.github.com/users/mmxuan18/repos",
            "events_url": "https://api.github.com/users/mmxuan18/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mmxuan18/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-15T01:10:40Z",
        "updated_at": "2022-03-15T01:10:40Z",
        "author_association": "NONE",
        "body": "> Seems like your runtime error comes from a vendor extensions issue, which is outside of ORT. https://source.android.com/devices/neural-networks/vendor-extensions\r\n> \r\n> Currently the ORT NNAPI execution provider does not have support for converting the ONNX operator to the NNAPI equivalent. That would mean the LSTM operator would run using the ORT CPU kernel. We can look at adding support for LSTM to NNAPI. Is this for a production scenario?\r\n\r\nyes，it's my online product scenario in ASR(Automatic Speech Recognition)，my model has LSTM layer for feature encoder, the current impl we use libtorch on andorid but performence and lib size not meet our requirement，so this feature is very emergency for us to deploy our model online.\r\n\r\nmy onnx model has run successful on  cpu and the lib size is much more smaller than libtorch, but as our experence when use gpu for inference the performance may up 2x ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1067459137/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1067566888",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10854#issuecomment-1067566888",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10854",
        "id": 1067566888,
        "node_id": "IC_kwDOCVq1mM4_occo",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-15T05:03:24Z",
        "updated_at": "2022-03-15T05:03:24Z",
        "author_association": "MEMBER",
        "body": "We could certainly look at adding support for LSTM to the NNAPI EP in the next release, but that will be a few months away. \r\n\r\nContributions are welcome if you want to ensure that support is implemented in that timeframe. \r\n\r\nIt would be helpful to know the details of the parameters to the LSTM node/s you have to see if that can be mapped from ONNX to what NNAPI LSTM supports.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1067566888/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1078899779",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10854#issuecomment-1078899779",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10854",
        "id": 1078899779,
        "node_id": "IC_kwDOCVq1mM5ATrRD",
        "user": {
            "login": "mmxuan18",
            "id": 6283983,
            "node_id": "MDQ6VXNlcjYyODM5ODM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6283983?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mmxuan18",
            "html_url": "https://github.com/mmxuan18",
            "followers_url": "https://api.github.com/users/mmxuan18/followers",
            "following_url": "https://api.github.com/users/mmxuan18/following{/other_user}",
            "gists_url": "https://api.github.com/users/mmxuan18/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mmxuan18/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mmxuan18/subscriptions",
            "organizations_url": "https://api.github.com/users/mmxuan18/orgs",
            "repos_url": "https://api.github.com/users/mmxuan18/repos",
            "events_url": "https://api.github.com/users/mmxuan18/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mmxuan18/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-25T10:52:36Z",
        "updated_at": "2022-03-25T10:52:36Z",
        "author_association": "NONE",
        "body": "@skottmckay do nnapi support armv7a,  in my case i compiled nnapi arm64v8a run success, but armv7a crash on create session?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1078899779/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1248964526",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10854#issuecomment-1248964526",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10854",
        "id": 1248964526,
        "node_id": "IC_kwDOCVq1mM5Kca-u",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-16T06:22:39Z",
        "updated_at": "2022-09-16T06:22:39Z",
        "author_association": "MEMBER",
        "body": "As the ORT NNAPI EP doesn't have handling for LSTM currently it will be using the CPU execution provider for LSTM operations on all ARM platforms. \r\n\r\nIf there's a crash we can investigate if you share the model and/or logs from the crash. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1248964526/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]