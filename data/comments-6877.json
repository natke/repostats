[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/789953535",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6877#issuecomment-789953535",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6877",
        "id": 789953535,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTk1MzUzNQ==",
        "user": {
            "login": "jcwchen",
            "id": 14194980,
            "node_id": "MDQ6VXNlcjE0MTk0OTgw",
            "avatar_url": "https://avatars.githubusercontent.com/u/14194980?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcwchen",
            "html_url": "https://github.com/jcwchen",
            "followers_url": "https://api.github.com/users/jcwchen/followers",
            "following_url": "https://api.github.com/users/jcwchen/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcwchen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcwchen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcwchen/subscriptions",
            "organizations_url": "https://api.github.com/users/jcwchen/orgs",
            "repos_url": "https://api.github.com/users/jcwchen/repos",
            "events_url": "https://api.github.com/users/jcwchen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcwchen/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-03T18:21:11Z",
        "updated_at": "2021-03-03T19:16:44Z",
        "author_association": "MEMBER",
        "body": "Hi @IceTDrinker,\r\n`onnxruntime.set_seed` is set for ORT utilities (Dropout). In your case, you need to set the seed inside the node as an attribute for Random-family operators. For instance:\r\n```\r\nimport numpy\r\nimport onnx\r\nimport onnxruntime\r\nimport onnxruntime.backend as onnxruntime_backend\r\n# import onnxruntime.capi._pybind_state as bind_state\r\n\r\nnode = onnx.helper.make_node(\r\n    \"RandomUniformLike\",\r\n    inputs=[\"x\"],\r\n    outputs=[\"y\"],\r\n    seed=1.\r\n)\r\n\r\nx_value_info = onnx.helper.make_tensor_value_info(\r\n    \"x\", onnx.TensorProto.FLOAT, [1]\r\n)\r\n\r\ny_value_info = onnx.helper.make_tensor_value_info(\r\n    \"y\", onnx.TensorProto.FLOAT, [1]\r\n)\r\n\r\ncomputation_graph_def = onnx.helper.make_graph(\r\n    [node],\r\n    \"test_seed\",\r\n    [x_value_info],\r\n    [y_value_info]\r\n)\r\n\r\ncomputation_model_def = onnx.helper.make_model(\r\n    computation_graph_def,\r\n    producer_name=\"test\",\r\n)\r\ncomputation_model_def.opset_import[0].version = 12\r\n\r\nsess = onnxruntime_backend.prepare(computation_model_def, log_severity_level=3, device=\"CPU\")\r\n\r\nx = numpy.zeros((1), dtype=numpy.float32)\r\n\r\nfor __ in range(10):\r\n    y = sess.run(x)\r\n    print(y)\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/789953535/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/789969823",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6877#issuecomment-789969823",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6877",
        "id": 789969823,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTk2OTgyMw==",
        "user": {
            "login": "IceTDrinker",
            "id": 49040125,
            "node_id": "MDQ6VXNlcjQ5MDQwMTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/49040125?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/IceTDrinker",
            "html_url": "https://github.com/IceTDrinker",
            "followers_url": "https://api.github.com/users/IceTDrinker/followers",
            "following_url": "https://api.github.com/users/IceTDrinker/following{/other_user}",
            "gists_url": "https://api.github.com/users/IceTDrinker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/IceTDrinker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/IceTDrinker/subscriptions",
            "organizations_url": "https://api.github.com/users/IceTDrinker/orgs",
            "repos_url": "https://api.github.com/users/IceTDrinker/repos",
            "events_url": "https://api.github.com/users/IceTDrinker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/IceTDrinker/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-03T18:46:23Z",
        "updated_at": "2021-03-03T18:47:09Z",
        "author_association": "CONTRIBUTOR",
        "body": "Darn, I feel silly now... but I see why it's designed this way. Thank you for the answer.\n\nIs it recommended to seed onnxruntime if we want reproducible runs ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/789969823/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/789989860",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6877#issuecomment-789989860",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6877",
        "id": 789989860,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTk4OTg2MA==",
        "user": {
            "login": "jcwchen",
            "id": 14194980,
            "node_id": "MDQ6VXNlcjE0MTk0OTgw",
            "avatar_url": "https://avatars.githubusercontent.com/u/14194980?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcwchen",
            "html_url": "https://github.com/jcwchen",
            "followers_url": "https://api.github.com/users/jcwchen/followers",
            "following_url": "https://api.github.com/users/jcwchen/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcwchen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcwchen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcwchen/subscriptions",
            "organizations_url": "https://api.github.com/users/jcwchen/orgs",
            "repos_url": "https://api.github.com/users/jcwchen/repos",
            "events_url": "https://api.github.com/users/jcwchen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcwchen/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-03T19:17:31Z",
        "updated_at": "2021-03-03T19:17:31Z",
        "author_association": "MEMBER",
        "body": "According to this https://github.com/microsoft/onnxruntime/pull/3490, I would say if your usage involves Dropout, then set seed in ORT is needed. Otherwise it should be fine. Thanks.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/789989860/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/790411328",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6877#issuecomment-790411328",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6877",
        "id": 790411328,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDQxMTMyOA==",
        "user": {
            "login": "IceTDrinker",
            "id": 49040125,
            "node_id": "MDQ6VXNlcjQ5MDQwMTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/49040125?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/IceTDrinker",
            "html_url": "https://github.com/IceTDrinker",
            "followers_url": "https://api.github.com/users/IceTDrinker/followers",
            "following_url": "https://api.github.com/users/IceTDrinker/following{/other_user}",
            "gists_url": "https://api.github.com/users/IceTDrinker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/IceTDrinker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/IceTDrinker/subscriptions",
            "organizations_url": "https://api.github.com/users/IceTDrinker/orgs",
            "repos_url": "https://api.github.com/users/IceTDrinker/repos",
            "events_url": "https://api.github.com/users/IceTDrinker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/IceTDrinker/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-04T08:04:32Z",
        "updated_at": "2021-03-04T08:04:32Z",
        "author_association": "CONTRIBUTOR",
        "body": "Using the seed attribute worked. Closing\r\n\r\nCheers",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/790411328/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]