[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1415270401",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14545#issuecomment-1415270401",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14545",
        "id": 1415270401,
        "node_id": "IC_kwDOCVq1mM5UW1AB",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-03T07:55:31Z",
        "updated_at": "2023-02-03T07:55:31Z",
        "author_association": "MEMBER",
        "body": "You can add a graph input for the initializer (weights), then you can dynamically set the weights using graph inputs.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1415270401/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1483163651",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14545#issuecomment-1483163651",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14545",
        "id": 1483163651,
        "node_id": "IC_kwDOCVq1mM5YZ0gD",
        "user": {
            "login": "brian-pieces",
            "id": 98757707,
            "node_id": "U_kgDOBeLsSw",
            "avatar_url": "https://avatars.githubusercontent.com/u/98757707?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brian-pieces",
            "html_url": "https://github.com/brian-pieces",
            "followers_url": "https://api.github.com/users/brian-pieces/followers",
            "following_url": "https://api.github.com/users/brian-pieces/following{/other_user}",
            "gists_url": "https://api.github.com/users/brian-pieces/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brian-pieces/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brian-pieces/subscriptions",
            "organizations_url": "https://api.github.com/users/brian-pieces/orgs",
            "repos_url": "https://api.github.com/users/brian-pieces/repos",
            "events_url": "https://api.github.com/users/brian-pieces/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brian-pieces/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-24T17:27:03Z",
        "updated_at": "2023-03-24T17:27:03Z",
        "author_association": "NONE",
        "body": "> You can add a graph input for the initializer (weights), then you can dynamically set the weights using graph inputs.\r\n\r\n@tianleiwu where would you write the code to dynamically set the weights? In a new node? Thanks",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1483163651/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1483350623",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14545#issuecomment-1483350623",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14545",
        "id": 1483350623,
        "node_id": "IC_kwDOCVq1mM5YaiJf",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-24T20:08:58Z",
        "updated_at": "2023-03-24T20:08:58Z",
        "author_association": "MEMBER",
        "body": "@brian-pieces, here is an example: https://stackoverflow.com/questions/74139718/onnx-runtime-adding-multiple-initializers-in-python",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1483350623/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1483365130",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14545#issuecomment-1483365130",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14545",
        "id": 1483365130,
        "node_id": "IC_kwDOCVq1mM5YalsK",
        "user": {
            "login": "brian-pieces",
            "id": 98757707,
            "node_id": "U_kgDOBeLsSw",
            "avatar_url": "https://avatars.githubusercontent.com/u/98757707?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brian-pieces",
            "html_url": "https://github.com/brian-pieces",
            "followers_url": "https://api.github.com/users/brian-pieces/followers",
            "following_url": "https://api.github.com/users/brian-pieces/following{/other_user}",
            "gists_url": "https://api.github.com/users/brian-pieces/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brian-pieces/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brian-pieces/subscriptions",
            "organizations_url": "https://api.github.com/users/brian-pieces/orgs",
            "repos_url": "https://api.github.com/users/brian-pieces/repos",
            "events_url": "https://api.github.com/users/brian-pieces/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brian-pieces/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-24T20:22:24Z",
        "updated_at": "2023-03-24T20:22:24Z",
        "author_association": "NONE",
        "body": "@tianleiwu wow that's exactly that I was looking for! Thanks!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1483365130/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1487550304",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14545#issuecomment-1487550304",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14545",
        "id": 1487550304,
        "node_id": "IC_kwDOCVq1mM5Yqjdg",
        "user": {
            "login": "brian-pieces",
            "id": 98757707,
            "node_id": "U_kgDOBeLsSw",
            "avatar_url": "https://avatars.githubusercontent.com/u/98757707?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brian-pieces",
            "html_url": "https://github.com/brian-pieces",
            "followers_url": "https://api.github.com/users/brian-pieces/followers",
            "following_url": "https://api.github.com/users/brian-pieces/following{/other_user}",
            "gists_url": "https://api.github.com/users/brian-pieces/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brian-pieces/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brian-pieces/subscriptions",
            "organizations_url": "https://api.github.com/users/brian-pieces/orgs",
            "repos_url": "https://api.github.com/users/brian-pieces/repos",
            "events_url": "https://api.github.com/users/brian-pieces/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brian-pieces/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-28T20:27:38Z",
        "updated_at": "2023-03-28T20:27:38Z",
        "author_association": "NONE",
        "body": "@tianleiwu sorry to bother again but do you have an example of this with the C++ api? I got this working easily in Python but I'm struggling with segfaults trying to do this in C++",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1487550304/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1487588971",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14545#issuecomment-1487588971",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14545",
        "id": 1487588971,
        "node_id": "IC_kwDOCVq1mM5Yqs5r",
        "user": {
            "login": "brian-pieces",
            "id": 98757707,
            "node_id": "U_kgDOBeLsSw",
            "avatar_url": "https://avatars.githubusercontent.com/u/98757707?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brian-pieces",
            "html_url": "https://github.com/brian-pieces",
            "followers_url": "https://api.github.com/users/brian-pieces/followers",
            "following_url": "https://api.github.com/users/brian-pieces/following{/other_user}",
            "gists_url": "https://api.github.com/users/brian-pieces/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brian-pieces/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brian-pieces/subscriptions",
            "organizations_url": "https://api.github.com/users/brian-pieces/orgs",
            "repos_url": "https://api.github.com/users/brian-pieces/repos",
            "events_url": "https://api.github.com/users/brian-pieces/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brian-pieces/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-28T21:03:55Z",
        "updated_at": "2023-03-28T21:04:50Z",
        "author_association": "NONE",
        "body": "> @tianleiwu sorry to bother again but do you have an example of this with the C++ api? I got this working easily in Python but I'm struggling with segfaults trying to do this in C++\r\n\r\nDumb issue on my side. Got it working. For anyone else intersted in a C++ impl here's what I got to work: \r\n\r\n```\r\n  // Read each initializer h5 file and store the data in a vector.\r\n  for (const auto &entry: std::filesystem::directory_iterator(task_path)) {\r\n      // Filter out the .DS_Store file on macOS.\r\n      if (entry.path().filename() == \".DS_Store\") {\r\n          continue;\r\n      }\r\n\r\n      // Read initializer matrix from h5 file\r\n      const std::filesystem::path &initializer_path = entry.path();\r\n      std::string initializer_name = initializer_path.filename().string();\r\n      H5::H5File file(initializer_path.string(), H5F_ACC_RDONLY);\r\n      H5::DataSet dataset = file.openDataSet(\"data\");\r\n\r\n      // Get the dimensions of the dataset.\r\n      H5::DataSpace dataspace = dataset.getSpace();\r\n      hsize_t dims_out[2]; // 2D matrix\r\n      dataspace.getSimpleExtentDims(dims_out, nullptr);\r\n\r\n      // Create a vector to store the initializer data.\r\n      std::vector<float> initializer_data(dims_out[0] * dims_out[1]);\r\n      dataset.read(initializer_data.data(), H5::PredType::NATIVE_FLOAT);\r\n\r\n      // Create an OrtValue to store the initializer data.\r\n      std::vector<int64_t> dims{static_cast<int64_t>(dims_out[0]), static_cast<int64_t>(dims_out[1])};\r\n      Ort::Value initializer_value = Ort::Value::CreateTensor<float>(\r\n              memoryInfo,\r\n              initializer_data.data(),\r\n              initializer_data.size(),\r\n              dims.data(),\r\n              dims.size());\r\n\r\n      // Add initializer to session options\r\n      session_options.AddInitializer(initializer_name.c_str(), initializer_value);\r\n  }\r\n  ```\r\n  \r\n  Note that this differs from the Python example b/c I'm using hdf5 files rather than numpy.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1487588971/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]