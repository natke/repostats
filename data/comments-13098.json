[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1261029328",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13098#issuecomment-1261029328",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13098",
        "id": 1261029328,
        "node_id": "IC_kwDOCVq1mM5LKcfQ",
        "user": {
            "login": "techaitr",
            "id": 33628206,
            "node_id": "MDQ6VXNlcjMzNjI4MjA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/33628206?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/techaitr",
            "html_url": "https://github.com/techaitr",
            "followers_url": "https://api.github.com/users/techaitr/followers",
            "following_url": "https://api.github.com/users/techaitr/following{/other_user}",
            "gists_url": "https://api.github.com/users/techaitr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/techaitr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/techaitr/subscriptions",
            "organizations_url": "https://api.github.com/users/techaitr/orgs",
            "repos_url": "https://api.github.com/users/techaitr/repos",
            "events_url": "https://api.github.com/users/techaitr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/techaitr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-28T14:49:26Z",
        "updated_at": "2022-09-28T14:49:26Z",
        "author_association": "NONE",
        "body": "Actually, yes you are right, but I want technical support. \r\nI can explain more details about my issue. \r\nI have an UNet segmentation model. Input tensor dimension is **[1x3x480x640]**, output tensor dimension is **[1x2x480x640]**.\r\n![image](https://user-images.githubusercontent.com/33628206/192804296-2f01404d-f063-48da-a2fa-a923d3e10e28.png) \r\nHow can I get the output image from session.run? How should my code be?\r\n```\r\nOrt::Value input_tensor = Ort::Value::CreateTensor<float>(memory_info, input_tensor_values.data(), input_tensor_size, input_node_dims.data(), input_node_dims.size());\r\nauto output_tensors = session.Run(Ort::RunOptions{nullptr}, input_node_names.data(), &input_tensor, 1, output_node_names.data(), 1);\r\n```\r\nHow to convert from output_tensors to cv::Mat? I want binary image at ending of inference.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1261029328/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1261034890",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13098#issuecomment-1261034890",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13098",
        "id": 1261034890,
        "node_id": "IC_kwDOCVq1mM5LKd2K",
        "user": {
            "login": "techaitr",
            "id": 33628206,
            "node_id": "MDQ6VXNlcjMzNjI4MjA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/33628206?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/techaitr",
            "html_url": "https://github.com/techaitr",
            "followers_url": "https://api.github.com/users/techaitr/followers",
            "following_url": "https://api.github.com/users/techaitr/following{/other_user}",
            "gists_url": "https://api.github.com/users/techaitr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/techaitr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/techaitr/subscriptions",
            "organizations_url": "https://api.github.com/users/techaitr/orgs",
            "repos_url": "https://api.github.com/users/techaitr/repos",
            "events_url": "https://api.github.com/users/techaitr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/techaitr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-28T14:53:19Z",
        "updated_at": "2022-09-28T14:53:19Z",
        "author_association": "NONE",
        "body": "if this information is not enough to you, I can share some my snippet of code.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1261034890/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1261659945",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13098#issuecomment-1261659945",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13098",
        "id": 1261659945,
        "node_id": "IC_kwDOCVq1mM5LM2cp",
        "user": {
            "login": "xmba15",
            "id": 18694765,
            "node_id": "MDQ6VXNlcjE4Njk0NzY1",
            "avatar_url": "https://avatars.githubusercontent.com/u/18694765?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xmba15",
            "html_url": "https://github.com/xmba15",
            "followers_url": "https://api.github.com/users/xmba15/followers",
            "following_url": "https://api.github.com/users/xmba15/following{/other_user}",
            "gists_url": "https://api.github.com/users/xmba15/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xmba15/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xmba15/subscriptions",
            "organizations_url": "https://api.github.com/users/xmba15/orgs",
            "repos_url": "https://api.github.com/users/xmba15/repos",
            "events_url": "https://api.github.com/users/xmba15/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xmba15/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-29T02:21:06Z",
        "updated_at": "2022-09-29T02:21:15Z",
        "author_association": "NONE",
        "body": "@techaitr \r\n\r\n> output tensor dimension is [1x2x480x640].\r\n\r\nyou are training the model with two classes? Is the tensor output probability map?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1261659945/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1261766563",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13098#issuecomment-1261766563",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13098",
        "id": 1261766563,
        "node_id": "IC_kwDOCVq1mM5LNQej",
        "user": {
            "login": "techaitr",
            "id": 33628206,
            "node_id": "MDQ6VXNlcjMzNjI4MjA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/33628206?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/techaitr",
            "html_url": "https://github.com/techaitr",
            "followers_url": "https://api.github.com/users/techaitr/followers",
            "following_url": "https://api.github.com/users/techaitr/following{/other_user}",
            "gists_url": "https://api.github.com/users/techaitr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/techaitr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/techaitr/subscriptions",
            "organizations_url": "https://api.github.com/users/techaitr/orgs",
            "repos_url": "https://api.github.com/users/techaitr/repos",
            "events_url": "https://api.github.com/users/techaitr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/techaitr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-29T05:23:32Z",
        "updated_at": "2022-09-29T05:23:32Z",
        "author_association": "NONE",
        "body": "> @techaitr\r\n> \r\n> > output tensor dimension is [1x2x480x640].\r\n> \r\n> you are training the model with two classes? Is the tensor output probability map?\r\n\r\nThere are 2 classes, they are 0 and 255 but I think, it should be tensor output probability map... I get raw output size as **614400** (640x480x2). Dimension was [1x614400].\r\n\r\nFor instance, in my python code is running. It is below:\r\n```\r\nmask = model.predict(x_tensor)\r\nmask = (mask.squeeze().cpu().numpy().round())\r\nmask = mask.transpose(1, 2, 0)\r\nmask_bck = mask[:, :, 0]\r\nmask_lanes = mask[:, :, 1]\r\n```\r\nend of this code, I am getting two images opposite from each other in binary format. **mask_bck** is the opposite of **mask_lanes**.\r\n\r\nHow should be C++ code? I need this.\r\n\r\nthanks,\r\n\r\nBR.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1261766563/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1264557428",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13098#issuecomment-1264557428",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13098",
        "id": 1264557428,
        "node_id": "IC_kwDOCVq1mM5LX510",
        "user": {
            "login": "xmba15",
            "id": 18694765,
            "node_id": "MDQ6VXNlcjE4Njk0NzY1",
            "avatar_url": "https://avatars.githubusercontent.com/u/18694765?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xmba15",
            "html_url": "https://github.com/xmba15",
            "followers_url": "https://api.github.com/users/xmba15/followers",
            "following_url": "https://api.github.com/users/xmba15/following{/other_user}",
            "gists_url": "https://api.github.com/users/xmba15/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xmba15/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xmba15/subscriptions",
            "organizations_url": "https://api.github.com/users/xmba15/orgs",
            "repos_url": "https://api.github.com/users/xmba15/repos",
            "events_url": "https://api.github.com/users/xmba15/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xmba15/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-02T05:38:00Z",
        "updated_at": "2022-10-02T05:38:00Z",
        "author_association": "NONE",
        "body": "here is the c++ sample for semantic segmentation I wrote for PaddleSeg. Please take a look at it.\r\nhttps://github.com/PaddlePaddle/PaddleSeg/tree/release/2.6/deploy/onnxruntime_cpp",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1264557428/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1264656138",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13098#issuecomment-1264656138",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13098",
        "id": 1264656138,
        "node_id": "IC_kwDOCVq1mM5LYR8K",
        "user": {
            "login": "techaitr",
            "id": 33628206,
            "node_id": "MDQ6VXNlcjMzNjI4MjA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/33628206?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/techaitr",
            "html_url": "https://github.com/techaitr",
            "followers_url": "https://api.github.com/users/techaitr/followers",
            "following_url": "https://api.github.com/users/techaitr/following{/other_user}",
            "gists_url": "https://api.github.com/users/techaitr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/techaitr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/techaitr/subscriptions",
            "organizations_url": "https://api.github.com/users/techaitr/orgs",
            "repos_url": "https://api.github.com/users/techaitr/repos",
            "events_url": "https://api.github.com/users/techaitr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/techaitr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-02T14:24:24Z",
        "updated_at": "2022-10-02T14:24:24Z",
        "author_association": "NONE",
        "body": "Thanks for your support. I solved my issue. My model's output is 1x2x480x680. So, there were 2 images at output. I separated this image and created 2 different vectors. Detailed code is below:\r\n\r\n```\r\n\r\nfloat *pred = ort_outputs.front().GetTensorMutableData<float>();\r\nstd::vector<float> output_tensor_values(outHeight * outWidth);\r\nstd::vector<float> output_tensor_values2(outHeight * outWidth);\r\nsize_t t = outHeight * outWidth - 1;\r\nfor (size_t i = 0; i < outHeight * outWidth * 2; i++)\r\n{\r\n    if (i <= t)\r\n    {\r\n        output_tensor_values.at(i) = pred[i];\r\n    }\r\n    else\r\n    {\r\n        output_tensor_values2.at(i - (outHeight * outWidth)) = pred[i];\r\n    }\r\n}\r\n\r\ndouble min_value, max_value;\r\nMat result(outHeight, outWidth, CV_32FC1, output_tensor_values.data());\r\nresult = 1 - result;\r\nminMaxLoc(result, &min_value, &max_value, 0, 0);\r\nresult = (result - min_value) / (max_value - min_value);\r\nresult *= 255;\r\nresult.convertTo(result, CV_8UC1);\r\ncv::threshold(result, result, 127, 255, cv::THRESH_BINARY);\r\nreturn result;\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1264656138/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1632143576",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13098#issuecomment-1632143576",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13098",
        "id": 1632143576,
        "node_id": "IC_kwDOCVq1mM5hSIjY",
        "user": {
            "login": "David-19940718",
            "id": 38575158,
            "node_id": "MDQ6VXNlcjM4NTc1MTU4",
            "avatar_url": "https://avatars.githubusercontent.com/u/38575158?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/David-19940718",
            "html_url": "https://github.com/David-19940718",
            "followers_url": "https://api.github.com/users/David-19940718/followers",
            "following_url": "https://api.github.com/users/David-19940718/following{/other_user}",
            "gists_url": "https://api.github.com/users/David-19940718/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/David-19940718/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/David-19940718/subscriptions",
            "organizations_url": "https://api.github.com/users/David-19940718/orgs",
            "repos_url": "https://api.github.com/users/David-19940718/repos",
            "events_url": "https://api.github.com/users/David-19940718/events{/privacy}",
            "received_events_url": "https://api.github.com/users/David-19940718/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-07-12T09:13:24Z",
        "updated_at": "2023-07-12T09:13:24Z",
        "author_association": "NONE",
        "body": "@techaitr \r\nHi, techaitr, can u share the complete code about inference image segmentation application on ONNX runtime using C++?\r\n I am looking forward to your help, thank you.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1632143576/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]