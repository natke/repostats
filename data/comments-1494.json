[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/514904243",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1494#issuecomment-514904243",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1494",
        "id": 514904243,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDkwNDI0Mw==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-25T05:39:15Z",
        "updated_at": "2019-07-25T05:50:22Z",
        "author_association": "MEMBER",
        "body": "Hi @fdwr ,\r\n\r\nThis logically makes sense but I am curious as to how your local change went through given that Gemm only seems to support `float` type (and not float16) based on the kernel declaration - https://github.com/microsoft/onnxruntime/blob/master/onnxruntime/core/providers/cpu/math/gemm.cc.\r\n\r\nAlso notice this comment in the very file that you are referring to -  \r\n\r\n// Gemm only support float, so the inputs of MatMul\r\n\r\nEDIT: I see that you mentioned Gemm GPU kernel and I see that Gemm supports `float16` on GPU. \r\n\r\nSo I guess the logic should also account for type support by the Gemm kernel (relevant to the flavor of the build) ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/514904243/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/514907923",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1494#issuecomment-514907923",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1494",
        "id": 514907923,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDkwNzkyMw==",
        "user": {
            "login": "fdwr",
            "id": 1809166,
            "node_id": "MDQ6VXNlcjE4MDkxNjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1809166?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fdwr",
            "html_url": "https://github.com/fdwr",
            "followers_url": "https://api.github.com/users/fdwr/followers",
            "following_url": "https://api.github.com/users/fdwr/following{/other_user}",
            "gists_url": "https://api.github.com/users/fdwr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fdwr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fdwr/subscriptions",
            "organizations_url": "https://api.github.com/users/fdwr/orgs",
            "repos_url": "https://api.github.com/users/fdwr/repos",
            "events_url": "https://api.github.com/users/fdwr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fdwr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-25T05:56:55Z",
        "updated_at": "2019-07-25T05:57:39Z",
        "author_association": "MEMBER",
        "body": "ONNX runtime supports float16 for many operators (MatMul, Add, GEMM...), but it's not obvious by just looking at the kernel implementation. Rather it's implicitly supported via the cast nodes (whereas on the GPU, DirectML just supports float16 directly without cast nodes).\r\n\r\ncore\\session\\inference_session.cc\r\n\r\n    common::Status InferenceSession::TransformGraph(onnxruntime::Graph& graph,\r\n                                                    const onnxruntime::GraphTransformerManager& graph_transformer_mgr,\r\n                                                    const ExecutionProviders& providers,\r\n                                                    KernelRegistryManager& kernel_registry_manager,\r\n                                                    const InsertCastTransformer& insert_cast_transformer,\r\n                                                    SessionState& session_state) {\r\n      // The transformer order:\r\n      // 1. built-in graph rewriter\r\n      // 2. each execution provider's transformer\r\n      // 3. do node placement according to kernel definition\r\n      // 4. insert copy nodes\r\n      // 5. insert cast nodes.\r\n\r\nSo this makes the logic agnostic to execution provider. *I tested this successfully on CPU with ORT too.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/514907923/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/514909052",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1494#issuecomment-514909052",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1494",
        "id": 514909052,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDkwOTA1Mg==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-25T06:01:54Z",
        "updated_at": "2019-07-25T06:01:54Z",
        "author_association": "MEMBER",
        "body": "Thanks @fdwr ! ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/514909052/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/515162098",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1494#issuecomment-515162098",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1494",
        "id": 515162098,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNTE2MjA5OA==",
        "user": {
            "login": "faxu",
            "id": 20780999,
            "node_id": "MDQ6VXNlcjIwNzgwOTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/20780999?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/faxu",
            "html_url": "https://github.com/faxu",
            "followers_url": "https://api.github.com/users/faxu/followers",
            "following_url": "https://api.github.com/users/faxu/following{/other_user}",
            "gists_url": "https://api.github.com/users/faxu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/faxu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/faxu/subscriptions",
            "organizations_url": "https://api.github.com/users/faxu/orgs",
            "repos_url": "https://api.github.com/users/faxu/repos",
            "events_url": "https://api.github.com/users/faxu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/faxu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-25T18:30:41Z",
        "updated_at": "2019-07-25T18:30:41Z",
        "author_association": "MEMBER",
        "body": "@fdwr - could you send a PR for this change? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/515162098/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/515261644",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1494#issuecomment-515261644",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1494",
        "id": 515261644,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNTI2MTY0NA==",
        "user": {
            "login": "fdwr",
            "id": 1809166,
            "node_id": "MDQ6VXNlcjE4MDkxNjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1809166?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fdwr",
            "html_url": "https://github.com/fdwr",
            "followers_url": "https://api.github.com/users/fdwr/followers",
            "following_url": "https://api.github.com/users/fdwr/following{/other_user}",
            "gists_url": "https://api.github.com/users/fdwr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fdwr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fdwr/subscriptions",
            "organizations_url": "https://api.github.com/users/fdwr/orgs",
            "repos_url": "https://api.github.com/users/fdwr/repos",
            "events_url": "https://api.github.com/users/fdwr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fdwr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-26T00:21:02Z",
        "updated_at": "2019-07-26T00:21:02Z",
        "author_association": "MEMBER",
        "body": "@faxu @hariharans29 : I'm happy to start the PR (which I've locally tested against our ONNX conformance tests and WinML model zoo), but I'll need someone else to usher it through and include whatever new DRT's you want.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/515261644/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/516638214",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1494#issuecomment-516638214",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1494",
        "id": 516638214,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjYzODIxNA==",
        "user": {
            "login": "askhade",
            "id": 6475296,
            "node_id": "MDQ6VXNlcjY0NzUyOTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6475296?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/askhade",
            "html_url": "https://github.com/askhade",
            "followers_url": "https://api.github.com/users/askhade/followers",
            "following_url": "https://api.github.com/users/askhade/following{/other_user}",
            "gists_url": "https://api.github.com/users/askhade/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/askhade/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/askhade/subscriptions",
            "organizations_url": "https://api.github.com/users/askhade/orgs",
            "repos_url": "https://api.github.com/users/askhade/repos",
            "events_url": "https://api.github.com/users/askhade/events{/privacy}",
            "received_events_url": "https://api.github.com/users/askhade/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-30T23:49:23Z",
        "updated_at": "2019-07-30T23:49:23Z",
        "author_association": "MEMBER",
        "body": "Closing this issue since this PR has been merged",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/516638214/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]