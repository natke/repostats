[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/681998691",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-681998691",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 681998691,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4MTk5ODY5MQ==",
        "user": {
            "login": "xgirones",
            "id": 30896820,
            "node_id": "MDQ6VXNlcjMwODk2ODIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30896820?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xgirones",
            "html_url": "https://github.com/xgirones",
            "followers_url": "https://api.github.com/users/xgirones/followers",
            "following_url": "https://api.github.com/users/xgirones/following{/other_user}",
            "gists_url": "https://api.github.com/users/xgirones/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xgirones/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xgirones/subscriptions",
            "organizations_url": "https://api.github.com/users/xgirones/orgs",
            "repos_url": "https://api.github.com/users/xgirones/repos",
            "events_url": "https://api.github.com/users/xgirones/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xgirones/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-27T14:50:58Z",
        "updated_at": "2020-08-27T14:50:58Z",
        "author_association": "NONE",
        "body": "I am experiencing the same issue. I have had to switch to CPU because the GPU provider is unreliable.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/681998691/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/682142876",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-682142876",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 682142876,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjE0Mjg3Ng==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-27T19:19:37Z",
        "updated_at": "2020-08-27T19:19:37Z",
        "author_association": "MEMBER",
        "body": "Thank you. I'll take a look.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/682142876/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684106929",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-684106929",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 684106929,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDEwNjkyOQ==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-31T23:50:27Z",
        "updated_at": "2020-08-31T23:50:27Z",
        "author_association": "MEMBER",
        "body": "Thank you. I can repro the bug.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684106929/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/691695483",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-691695483",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 691695483,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5MTY5NTQ4Mw==",
        "user": {
            "login": "xgirones",
            "id": 30896820,
            "node_id": "MDQ6VXNlcjMwODk2ODIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30896820?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xgirones",
            "html_url": "https://github.com/xgirones",
            "followers_url": "https://api.github.com/users/xgirones/followers",
            "following_url": "https://api.github.com/users/xgirones/following{/other_user}",
            "gists_url": "https://api.github.com/users/xgirones/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xgirones/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xgirones/subscriptions",
            "organizations_url": "https://api.github.com/users/xgirones/orgs",
            "repos_url": "https://api.github.com/users/xgirones/repos",
            "events_url": "https://api.github.com/users/xgirones/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xgirones/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-13T16:48:36Z",
        "updated_at": "2020-09-13T16:48:36Z",
        "author_association": "NONE",
        "body": "Is there any update on this issue? Thanks",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/691695483/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/692193554",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-692193554",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 692193554,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjE5MzU1NA==",
        "user": {
            "login": "tysonbul",
            "id": 9012914,
            "node_id": "MDQ6VXNlcjkwMTI5MTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9012914?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tysonbul",
            "html_url": "https://github.com/tysonbul",
            "followers_url": "https://api.github.com/users/tysonbul/followers",
            "following_url": "https://api.github.com/users/tysonbul/following{/other_user}",
            "gists_url": "https://api.github.com/users/tysonbul/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tysonbul/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tysonbul/subscriptions",
            "organizations_url": "https://api.github.com/users/tysonbul/orgs",
            "repos_url": "https://api.github.com/users/tysonbul/repos",
            "events_url": "https://api.github.com/users/tysonbul/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tysonbul/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-14T17:13:45Z",
        "updated_at": "2020-09-14T17:13:45Z",
        "author_association": "NONE",
        "body": "I'm also experiencing a similar issue, where my network running on GPU is unreliable usually after around a 1000 or so inferences, but on CPU it works without issue. I can provide more information (graph/env) if it'll help.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/692193554/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/692210797",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-692210797",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 692210797,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjIxMDc5Nw==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-14T17:46:28Z",
        "updated_at": "2020-09-14T17:46:28Z",
        "author_association": "MEMBER",
        "body": "Working on this.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/692210797/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/692907236",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-692907236",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 692907236,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjkwNzIzNg==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-15T18:52:22Z",
        "updated_at": "2020-09-15T18:52:22Z",
        "author_association": "MEMBER",
        "body": "Hi @HectorSVC, I think the problem is in your concat CUDA implementation. In this case, one of the concat op's input is in GPU. I think you didn't handle such cases.  ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/692907236/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695097881",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-695097881",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 695097881,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTA5Nzg4MQ==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-18T21:37:25Z",
        "updated_at": "2020-09-18T21:37:25Z",
        "author_association": "MEMBER",
        "body": "There's nothing wrong with CUDA Concat implementation, should be relate to memory re-use. Still debugging.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695097881/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696461303",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-696461303",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 696461303,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjQ2MTMwMw==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-22T01:12:16Z",
        "updated_at": "2020-09-22T01:12:16Z",
        "author_association": "MEMBER",
        "body": "Could it be somehow related to this:  https://github.com/microsoft/onnxruntime/pull/5245 (or something similar) ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696461303/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/699843072",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-699843072",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 699843072,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTg0MzA3Mg==",
        "user": {
            "login": "xgirones",
            "id": 30896820,
            "node_id": "MDQ6VXNlcjMwODk2ODIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30896820?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xgirones",
            "html_url": "https://github.com/xgirones",
            "followers_url": "https://api.github.com/users/xgirones/followers",
            "following_url": "https://api.github.com/users/xgirones/following{/other_user}",
            "gists_url": "https://api.github.com/users/xgirones/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xgirones/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xgirones/subscriptions",
            "organizations_url": "https://api.github.com/users/xgirones/orgs",
            "repos_url": "https://api.github.com/users/xgirones/repos",
            "events_url": "https://api.github.com/users/xgirones/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xgirones/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-28T07:51:28Z",
        "updated_at": "2020-09-28T07:51:28Z",
        "author_association": "NONE",
        "body": "> Could it be somehow related to this: #5245 (or something similar) ?\r\n\r\nSo can we assume the issue has been fixed?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/699843072/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/699902872",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-699902872",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 699902872,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTkwMjg3Mg==",
        "user": {
            "login": "maherzog",
            "id": 14070963,
            "node_id": "MDQ6VXNlcjE0MDcwOTYz",
            "avatar_url": "https://avatars.githubusercontent.com/u/14070963?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maherzog",
            "html_url": "https://github.com/maherzog",
            "followers_url": "https://api.github.com/users/maherzog/followers",
            "following_url": "https://api.github.com/users/maherzog/following{/other_user}",
            "gists_url": "https://api.github.com/users/maherzog/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/maherzog/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/maherzog/subscriptions",
            "organizations_url": "https://api.github.com/users/maherzog/orgs",
            "repos_url": "https://api.github.com/users/maherzog/repos",
            "events_url": "https://api.github.com/users/maherzog/events{/privacy}",
            "received_events_url": "https://api.github.com/users/maherzog/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-28T09:48:45Z",
        "updated_at": "2020-09-28T09:48:45Z",
        "author_association": "NONE",
        "body": "> So can we assume the issue has been fixed?\r\n\r\nI have built the current master branch (on commit fec890a09aa58cc7d7260ee4fb9ed8a9eb24579a, which is a few commits after the commit 14786432157806392c75e9564d18c448d2cf6092 from the pull request referenced above) and tested it again. Unfortunately, it seems like these changes have not solved this issue. I still get the same error message.\r\n\r\nPS: Thank you to the people that have already looked into this issue. I can imagine that trying to understand non-deterministic behavior on the GPU can be a bit tedious.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/699902872/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/700508059",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-700508059",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 700508059,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDUwODA1OQ==",
        "user": {
            "login": "xgirones",
            "id": 30896820,
            "node_id": "MDQ6VXNlcjMwODk2ODIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30896820?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xgirones",
            "html_url": "https://github.com/xgirones",
            "followers_url": "https://api.github.com/users/xgirones/followers",
            "following_url": "https://api.github.com/users/xgirones/following{/other_user}",
            "gists_url": "https://api.github.com/users/xgirones/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xgirones/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xgirones/subscriptions",
            "organizations_url": "https://api.github.com/users/xgirones/orgs",
            "repos_url": "https://api.github.com/users/xgirones/repos",
            "events_url": "https://api.github.com/users/xgirones/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xgirones/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-29T07:32:19Z",
        "updated_at": "2020-09-29T07:32:19Z",
        "author_association": "NONE",
        "body": "> Unfortunately, it seems like these changes have not solved this issue. I still get the same error message.\r\n\r\nThanks for the info :thumbsup:  ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/700508059/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/705493229",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-705493229",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 705493229,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTQ5MzIyOQ==",
        "user": {
            "login": "xgirones",
            "id": 30896820,
            "node_id": "MDQ6VXNlcjMwODk2ODIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30896820?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xgirones",
            "html_url": "https://github.com/xgirones",
            "followers_url": "https://api.github.com/users/xgirones/followers",
            "following_url": "https://api.github.com/users/xgirones/following{/other_user}",
            "gists_url": "https://api.github.com/users/xgirones/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xgirones/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xgirones/subscriptions",
            "organizations_url": "https://api.github.com/users/xgirones/orgs",
            "repos_url": "https://api.github.com/users/xgirones/repos",
            "events_url": "https://api.github.com/users/xgirones/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xgirones/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-08T10:56:54Z",
        "updated_at": "2020-10-08T10:56:54Z",
        "author_association": "NONE",
        "body": "Is there an estimate of when the issue could be fixed? The CPU backend works great, but it is not suitable for processing a video stream.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/705493229/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/706402218",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-706402218",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 706402218,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjQwMjIxOA==",
        "user": {
            "login": "ke1337",
            "id": 22626095,
            "node_id": "MDQ6VXNlcjIyNjI2MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22626095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ke1337",
            "html_url": "https://github.com/ke1337",
            "followers_url": "https://api.github.com/users/ke1337/followers",
            "following_url": "https://api.github.com/users/ke1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/ke1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ke1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ke1337/subscriptions",
            "organizations_url": "https://api.github.com/users/ke1337/orgs",
            "repos_url": "https://api.github.com/users/ke1337/repos",
            "events_url": "https://api.github.com/users/ke1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ke1337/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-09T21:05:37Z",
        "updated_at": "2020-10-09T21:05:37Z",
        "author_association": "CONTRIBUTOR",
        "body": "Sorry for being later in the discussion, and thanks @maherzog for this repro. As @HectorSVC pointed out, the bug is indeed caused by memory reuse. The issue is that copy and compute stream in CUDA has a racing condition in BFC arena. [BFC arena](https://github.com/microsoft/onnxruntime/blob/master/onnxruntime/core/framework/bfc_arena.h) is an arena allocator on top of cudaMalloc/Free to reduce the cost in syncing CPU and GPU when alloc/free.\r\n\r\nTo make CPU and GPU running asynchronously, buffers freed on CPU could still be in use on GPU. This is OK if there's only one stream, where the execution order in CPU and GPU are consistent. For example, if we have two kernels A and B, when CPU runs with order of allocA->computeA->freeA->allocB->computeB->freeB, even when A and B shares the same memory, computeA and computeB will not have racing in the same GPU compute stream. However, if it is allocA->CopyA->freeA->allocB->computeB->freeB in CPU, the order of execution in GPU could have copyA happen after computeB, when copy and compute happens in different GPU streams.\r\n\r\nFor this particular case, the [execution plan](https://github.com/microsoft/onnxruntime/blob/master/onnxruntime/core/framework/session_state.cc#L842) in CPU is:\r\n```\r\nAllocation Plan:\r\n(ort_value_idx) output_name : <allocation plan>\r\n(18) 17 : Allocate, OrtMemoryInfo:[name:CudaPinned id:0 OrtMemType:-1 OrtAllocatorType:1 Device:[DeviceType:0 MemoryType:1 DeviceId:0]], use fence when async\r\n(17) 17_CUDAExecutionProvider : Allocate, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]], use fence when async\r\n(4) 4 : Allocate, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(12) 11 : AllocateStatically, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(19) output : AllocateOutput, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(3) 3 : AllocateStatically, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(2) 2 : Allocate, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(10) 9 : AllocateStatically, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(0) shape : PreExisting, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(5) 5 : Allocate, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(9) 8 : Allocate, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(6) 6 : Reuse 5, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(1) 1 : AllocateStatically, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(13) 12 : Allocate, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(7) 7_CUDAExecutionProvider : Allocate, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]], use fence when async\r\n(8) 7 : Allocate, OrtMemoryInfo:[name:CudaPinned id:0 OrtMemType:-1 OrtAllocatorType:1 Device:[DeviceType:0 MemoryType:1 DeviceId:0]], use fence when async\r\n(11) 10 : Allocate, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(16) 19 : AllocateStatically, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(14) 15 : Reuse 11, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n(15) 16 : Reuse 13, OrtMemoryInfo:[name:Cuda id:0 OrtMemType:0 OrtAllocatorType:1 Device:[DeviceType:1 MemoryType:0 DeviceId:0]]\r\n\r\nExecution Plan:\r\n[0] Gather (Gather_11)\r\n[1] Unsqueeze (Unsqueeze_13)\r\n[2] Gather (Gather_9)\r\n[3] Unsqueeze (Unsqueeze_12)\r\n[4] Concat (Concat_14)\r\nFree ml-values: (11) 10, (13) 12\r\n[5] MemcpyToHost (Memcpy)\r\nFree ml-values: (17) 17_CUDAExecutionProvider\r\n[6] Gather (Gather_3)\r\n[7] Gather (Gather_1)\r\n[8] Mul (Mul_4)\r\nFree ml-values: (2) 2, (4) 4\r\n[9] Unsqueeze (Unsqueeze_5)\r\n[10] Concat (Concat_6)\r\nFree ml-values: (5) 5\r\n[11] MemcpyToHost (Memcpy_token_0)\r\nFree ml-values: (7) 7_CUDAExecutionProvider\r\n[12] ConstantOfShape (ConstantOfShape_7)\r\nFree ml-values: (8) 7\r\n[13] Reshape (Reshape_15)\r\nFree ml-values: (9) 8, (18) 17\r\n```\r\n\r\nHere in step [5], the input buffer to MemcpyToHost is freed to BFC arena, and then allocated by static allocation plan to the output of step [8]. Because compute stream and copy stream runs concurrently on GPU, the GPU execution order may not match CPU's plan, and thus causing memory to be overwritten.\r\n\r\nIn this repro, if we add a line of code to disable memory pattern, the problem is gone:\r\n```\r\n    options = onnxruntime.SessionOptions()\r\n    options.enable_mem_pattern = False\r\n    session = onnxruntime.InferenceSession(file_name, options)\r\n```\r\n\r\nHowever, disabling memory pattern is not a full solution to the racing of streams in BFC arena. As a short term fix, we might force the copy stream to be the same as compute stream, by changing [here](https://github.com/microsoft/onnxruntime/blob/master/onnxruntime/core/providers/cuda/gpu_data_transfer.cc#L11-L12) to:\r\n```\r\n  streams_[kCudaStreamCopyIn] = nullptr;\r\n  streams_[kCudaStreamCopyOut] = nullptr;\r\n```\r\nAnd also remove the cudaStreamDestory in the dtor. This approach might cause some performance degradation for certain models though. A thorough fix to BFC arena to support multiple stream is being looked at, and once that is in, we can continue to have the concurrent copy and compute streams.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/706402218/reactions",
            "total_count": 5,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/706687457",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-706687457",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 706687457,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjY4NzQ1Nw==",
        "user": {
            "login": "maherzog",
            "id": 14070963,
            "node_id": "MDQ6VXNlcjE0MDcwOTYz",
            "avatar_url": "https://avatars.githubusercontent.com/u/14070963?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maherzog",
            "html_url": "https://github.com/maherzog",
            "followers_url": "https://api.github.com/users/maherzog/followers",
            "following_url": "https://api.github.com/users/maherzog/following{/other_user}",
            "gists_url": "https://api.github.com/users/maherzog/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/maherzog/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/maherzog/subscriptions",
            "organizations_url": "https://api.github.com/users/maherzog/orgs",
            "repos_url": "https://api.github.com/users/maherzog/repos",
            "events_url": "https://api.github.com/users/maherzog/events{/privacy}",
            "received_events_url": "https://api.github.com/users/maherzog/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-11T11:04:34Z",
        "updated_at": "2020-10-11T11:04:34Z",
        "author_association": "NONE",
        "body": "Thank you for your extensive analysis and explanation (and obviously for the actual fix). And sorry for the integer type issue, I had not tested my code on Windows.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/706687457/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/846894742",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4829#issuecomment-846894742",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4829",
        "id": 846894742,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg0Njg5NDc0Mg==",
        "user": {
            "login": "xgirones",
            "id": 30896820,
            "node_id": "MDQ6VXNlcjMwODk2ODIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30896820?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xgirones",
            "html_url": "https://github.com/xgirones",
            "followers_url": "https://api.github.com/users/xgirones/followers",
            "following_url": "https://api.github.com/users/xgirones/following{/other_user}",
            "gists_url": "https://api.github.com/users/xgirones/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xgirones/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xgirones/subscriptions",
            "organizations_url": "https://api.github.com/users/xgirones/orgs",
            "repos_url": "https://api.github.com/users/xgirones/repos",
            "events_url": "https://api.github.com/users/xgirones/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xgirones/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-24T08:58:43Z",
        "updated_at": "2021-05-24T08:58:43Z",
        "author_association": "NONE",
        "body": "What is the status of this issue? Has the racing condition been fixed? I am doing a few tests with the 'do_copy_in_default_stream' field in OrtCUDAProviderOptions set to 0 and so far they run smoothly. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/846894742/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]