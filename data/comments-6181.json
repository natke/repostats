[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/748412739",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6181#issuecomment-748412739",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6181",
        "id": 748412739,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0ODQxMjczOQ==",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-19T03:32:03Z",
        "updated_at": "2020-12-19T03:32:03Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hmm, that's odd as Java should only be interacting with the CPU memory because we currently can't pin things in GPU memory. The native memory inside the tensor should be freed when the `OnnxTensor.close()` method is called. \r\n\r\nWhat does the object detection call do? What types are output by the call to run on that yolo model?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/748412739/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/748431359",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6181#issuecomment-748431359",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6181",
        "id": 748431359,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0ODQzMTM1OQ==",
        "user": {
            "login": "andyguo007",
            "id": 6466147,
            "node_id": "MDQ6VXNlcjY0NjYxNDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6466147?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andyguo007",
            "html_url": "https://github.com/andyguo007",
            "followers_url": "https://api.github.com/users/andyguo007/followers",
            "following_url": "https://api.github.com/users/andyguo007/following{/other_user}",
            "gists_url": "https://api.github.com/users/andyguo007/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andyguo007/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andyguo007/subscriptions",
            "organizations_url": "https://api.github.com/users/andyguo007/orgs",
            "repos_url": "https://api.github.com/users/andyguo007/repos",
            "events_url": "https://api.github.com/users/andyguo007/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andyguo007/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-19T07:02:39Z",
        "updated_at": "2020-12-19T07:02:39Z",
        "author_association": "NONE",
        "body": "> Hmm, that's odd as Java should only be interacting with the CPU memory because we currently can't pin things in GPU memory. The native memory inside the tensor should be freed when the `OnnxTensor.close()` method is called.\r\n> \r\n> What does the object detection call do? What types are output by the call to run on that yolo model?\r\n\r\nThanks @Craigacp . The main body of the ```ObjectDetection.detectObjectsYoloV4(mat)``` is as below. I also tried YoloV5, and the same issue exists. I could share the model with you if you would like to try.\r\n\r\n```\r\nOrtSession.Result output = null;\r\ntry (OnnxTensor inputTensor = makeImageTensor(ortEnvironment, chwPixels, 1, channels, height, width)) {\r\n    output = yolov4Session.run(Collections.singletonMap(\"input\", inputTensor));\r\n   \r\n    float[][][] boxes = ((float[][][][])output.get(0).getValue())[0];\r\n    float[][] scores = ((float[][][])output.get(1).getValue())[0];  \r\n    // some other logic to use boxes and scores to construct detected objects goes here\r\n} finally {\r\n    if (output != null) {\r\n        output.close();\r\n    }\r\n}\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/748431359/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/748518644",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6181#issuecomment-748518644",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6181",
        "id": 748518644,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0ODUxODY0NA==",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-19T20:03:23Z",
        "updated_at": "2020-12-19T20:03:46Z",
        "author_association": "CONTRIBUTOR",
        "body": "Yes, if you could send the model that would be helpful. You can have the result object live inside the try with resources as well if you want which would ensure it's closed without the finally statement, but the way it is in that snippet shouldn't cause any leaks.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/748518644/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/748575185",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6181#issuecomment-748575185",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6181",
        "id": 748575185,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0ODU3NTE4NQ==",
        "user": {
            "login": "andyguo007",
            "id": 6466147,
            "node_id": "MDQ6VXNlcjY0NjYxNDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6466147?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andyguo007",
            "html_url": "https://github.com/andyguo007",
            "followers_url": "https://api.github.com/users/andyguo007/followers",
            "following_url": "https://api.github.com/users/andyguo007/following{/other_user}",
            "gists_url": "https://api.github.com/users/andyguo007/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andyguo007/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andyguo007/subscriptions",
            "organizations_url": "https://api.github.com/users/andyguo007/orgs",
            "repos_url": "https://api.github.com/users/andyguo007/repos",
            "events_url": "https://api.github.com/users/andyguo007/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andyguo007/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-20T07:47:47Z",
        "updated_at": "2020-12-20T07:48:08Z",
        "author_association": "NONE",
        "body": "> Yes, if you could send the model that would be helpful. You can have the result object live inside the try with resources as well if you want which would ensure it's closed without the finally statement, but the way it is in that snippet shouldn't cause any leaks.\r\n\r\nThe model is uploaded [here](https://drive.google.com/drive/folders/1BKgSDNbKifni4Wg8ztLrhbok0nM9IFrK?usp=sharing), I also created some code snippet there for your reference. Thanks.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/748575185/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/758273016",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6181#issuecomment-758273016",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6181",
        "id": 758273016,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODI3MzAxNg==",
        "user": {
            "login": "andyguo007",
            "id": 6466147,
            "node_id": "MDQ6VXNlcjY0NjYxNDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6466147?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andyguo007",
            "html_url": "https://github.com/andyguo007",
            "followers_url": "https://api.github.com/users/andyguo007/followers",
            "following_url": "https://api.github.com/users/andyguo007/following{/other_user}",
            "gists_url": "https://api.github.com/users/andyguo007/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andyguo007/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andyguo007/subscriptions",
            "organizations_url": "https://api.github.com/users/andyguo007/orgs",
            "repos_url": "https://api.github.com/users/andyguo007/repos",
            "events_url": "https://api.github.com/users/andyguo007/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andyguo007/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-11T22:47:13Z",
        "updated_at": "2021-01-11T22:47:13Z",
        "author_association": "NONE",
        "body": "Any updates? @Craigacp ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/758273016/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]