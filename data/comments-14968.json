[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1460993904",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14968#issuecomment-1460993904",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14968",
        "id": 1460993904,
        "node_id": "IC_kwDOCVq1mM5XFP9w",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-08T22:48:54Z",
        "updated_at": "2023-03-08T22:48:54Z",
        "author_association": "MEMBER",
        "body": "Looks like we need support for accepting non-string provider options - https://github.com/microsoft/onnxruntime/blob/d8d96f0788278f1ce7d6dce3ba8528bc26521e8a/onnxruntime/python/onnxruntime_pybind_state.cc#L854.\r\n\r\nThe pybind OrtArenaCfg should have same knobs as C/C++ with this PR: https://github.com/microsoft/onnxruntime/pull/12658",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1460993904/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1462537148",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14968#issuecomment-1462537148",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14968",
        "id": 1462537148,
        "node_id": "IC_kwDOCVq1mM5XLIu8",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-09T18:08:08Z",
        "updated_at": "2023-03-09T18:08:08Z",
        "author_association": "MEMBER",
        "body": "@hariharans29\r\nError 1 using create_and_register_allocator:\r\n```\r\nort.create_and_register_allocator(ort_memory_info, ort_arena_cfg)\r\nRuntimeError: Error when creating and registering allocator: Only CPU devices are supported for now.\r\n```\r\n\r\nError 2 using provider option:\r\n```\r\nRuntimeError: onnxruntime/core/providers/cuda/cuda_execution_provider_info.cc:47 static onnxruntime::CUDAExecutionProviderInfo onnxruntime::CUDAExecutionProviderInfo::FromProviderOptions(const ProviderOptions&) [ONNXRuntimeError] : 1 : FAIL : provider_options_utils.h:146 Parse Unknown provider option: \"default_memory_arena_cfg\".\r\n```\r\n\r\nYou can see that there is no option name for `default_memory_arena_cfg`:\r\nhttps://github.com/microsoft/onnxruntime/blob/51b67fa15c703ea460aeef096745c3d591658532/onnxruntime/core/providers/cuda/cuda_execution_provider_info.cc#L16-L27\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1462537148/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1462650974",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14968#issuecomment-1462650974",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14968",
        "id": 1462650974,
        "node_id": "IC_kwDOCVq1mM5XLkhe",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-09T19:28:27Z",
        "updated_at": "2023-03-09T19:28:43Z",
        "author_association": "MEMBER",
        "body": "> @hariharans29 Error 1 using create_and_register_allocator:\r\n> \r\n> ```\r\n> ort.create_and_register_allocator(ort_memory_info, ort_arena_cfg)\r\n> RuntimeError: Error when creating and registering allocator: Only CPU devices are supported for now.\r\n> ```\r\n> \r\n> Error 2 using provider option:\r\n> \r\n> ```\r\n> RuntimeError: onnxruntime/core/providers/cuda/cuda_execution_provider_info.cc:47 static onnxruntime::CUDAExecutionProviderInfo onnxruntime::CUDAExecutionProviderInfo::FromProviderOptions(const ProviderOptions&) [ONNXRuntimeError] : 1 : FAIL : provider_options_utils.h:146 Parse Unknown provider option: \"default_memory_arena_cfg\".\r\n> ```\r\n> \r\n> You can see that there is no option name for `default_memory_arena_cfg`:\r\n> \r\n> https://github.com/microsoft/onnxruntime/blob/51b67fa15c703ea460aeef096745c3d591658532/onnxruntime/core/providers/cuda/cuda_execution_provider_info.cc#L16-L27\r\n\r\n@tianleiwu \r\nFor the first error: It is by design that only CPU allocators are allowed to be registered in the environment for sharing across sessions  (CC Feature implementer: @pranavsharma)\r\n\r\nFor the second error: How do you pass OrtArenaCfg as a provider option in Python ? AFAIK, there is no interface in Python that supports that.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1462650974/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1464530938",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14968#issuecomment-1464530938",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14968",
        "id": 1464530938,
        "node_id": "IC_kwDOCVq1mM5XSvf6",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-10T22:04:00Z",
        "updated_at": "2023-03-10T22:04:00Z",
        "author_association": "MEMBER",
        "body": "For the second error the Python EP interface already allows you to pass arbitrary key-value pairs as EP options. We just need to recognize the arena options and convert them to OrtArenaCfg internally for cuda EP. We don't necessarily need to expose OrtArenaCfg as a construct in the Python layer.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1464530938/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]