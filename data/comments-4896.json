[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679301329",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-679301329",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 679301329,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTMwMTMyOQ==",
        "user": {
            "login": "ytaous",
            "id": 4484531,
            "node_id": "MDQ6VXNlcjQ0ODQ1MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4484531?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ytaous",
            "html_url": "https://github.com/ytaous",
            "followers_url": "https://api.github.com/users/ytaous/followers",
            "following_url": "https://api.github.com/users/ytaous/following{/other_user}",
            "gists_url": "https://api.github.com/users/ytaous/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ytaous/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ytaous/subscriptions",
            "organizations_url": "https://api.github.com/users/ytaous/orgs",
            "repos_url": "https://api.github.com/users/ytaous/repos",
            "events_url": "https://api.github.com/users/ytaous/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ytaous/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-24T18:47:53Z",
        "updated_at": "2020-08-24T18:47:53Z",
        "author_association": "MEMBER",
        "body": "Hi, AntonVasserman, thanks for you feedback. \r\nCan you please share more detailed on the call stack and the ML.NET version you are using?  \r\nCheers.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679301329/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679406786",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-679406786",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 679406786,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTQwNjc4Ng==",
        "user": {
            "login": "ytaous",
            "id": 4484531,
            "node_id": "MDQ6VXNlcjQ0ODQ1MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4484531?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ytaous",
            "html_url": "https://github.com/ytaous",
            "followers_url": "https://api.github.com/users/ytaous/followers",
            "following_url": "https://api.github.com/users/ytaous/following{/other_user}",
            "gists_url": "https://api.github.com/users/ytaous/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ytaous/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ytaous/subscriptions",
            "organizations_url": "https://api.github.com/users/ytaous/orgs",
            "repos_url": "https://api.github.com/users/ytaous/repos",
            "events_url": "https://api.github.com/users/ytaous/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ytaous/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-24T22:55:18Z",
        "updated_at": "2020-08-24T22:55:18Z",
        "author_association": "MEMBER",
        "body": "Hi, a couple more requests:\r\n1. can you please try our nightly packages and see if the issue persists? (https://github.com/microsoft/onnxruntime#binaries)\r\n2. can you please share your c# sample code to show the c# api you are using? \r\nThanks.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679406786/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679917691",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-679917691",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 679917691,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTkxNzY5MQ==",
        "user": {
            "login": "AntonVasserman",
            "id": 40732386,
            "node_id": "MDQ6VXNlcjQwNzMyMzg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/40732386?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AntonVasserman",
            "html_url": "https://github.com/AntonVasserman",
            "followers_url": "https://api.github.com/users/AntonVasserman/followers",
            "following_url": "https://api.github.com/users/AntonVasserman/following{/other_user}",
            "gists_url": "https://api.github.com/users/AntonVasserman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AntonVasserman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AntonVasserman/subscriptions",
            "organizations_url": "https://api.github.com/users/AntonVasserman/orgs",
            "repos_url": "https://api.github.com/users/AntonVasserman/repos",
            "events_url": "https://api.github.com/users/AntonVasserman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AntonVasserman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-25T09:35:03Z",
        "updated_at": "2020-08-25T09:35:03Z",
        "author_association": "NONE",
        "body": "Thanks for the fast reply!\r\nAfter installing the latest dev version and deploying to our Cloud Service I can see that the instances do start to work (this is progress!!!), but the issue continues now on the service it self.\r\n\r\nThis is the exception we see each time the service tries to use the method which uses the ML model:\r\nouterType: _System.TypeInitializationException_\r\nouterMessage: _The type initializer for 'Microsoft.Azure.Monitoring.LSA.Shared.OptimizationFlowUtils' threw an exception._\r\nstackTrace:    _at Microsoft.Azure.Monitoring.LSA.Shared.OptimizationFlowUtils.ShouldUpdateOptimizationFlowProperties(OptimizationFlowProperties optimizationFlowProperties, String tableListInQuery)\r\n   at Microsoft.OI.Alerting.Common.Adapters.ScheduledSearchAdapter.<ProcessInternalAsync>d__10.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.OI.Alerting.Common.Adapters.ScheduledSearchAdapter.<ProcessInternalAsync>d__10.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.OI.Alerting.Common.Processor`2.<ProcessAsync>d__29.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.OI.Alerting.Common.Processors.ExecuteSearchProcessor.<ProcessInternalAsync>d__2.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.OI.Alerting.Common.Processor`2.<ProcessAsync>d__29.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.OI.Alerting.ProcessingRole.Runners.QueueWorker.<InvokeProcessorAsync>d__35.MoveNext()_\r\ninnermostType: _System.DllNotFoundException_\r\ninnermostMessage: _Unable to load DLL 'onnxruntime': The specified module could not be found. (Exception from HRESULT: 0x8007007E)_\r\n\r\nThe source of the exception is from our \"Shared\" project which has the NuGets installed, the Worker Role project which is \"ProcessingRole\" also has those NuGets installed.\r\nThis is the usage of the NuGets in our code:\r\n![image](https://user-images.githubusercontent.com/40732386/91158106-de924200-e6ce-11ea-8ac1-6a581cbe960d.png)\r\nWe are creating an instance of KustoQueryAnalyzer with an instance of the wrapper of the model which is called IsQueryIncreasingMLModel.\r\n![image](https://user-images.githubusercontent.com/40732386/91158301-18fbdf00-e6cf-11ea-85fd-e17578f1b2d2.png)\r\nHere we create an InferenceSession and use it to get the score of the model.\r\n\r\nRegarding what ML.NET version we use, we use the two NuGets provided, we do not use the Microsoft.ML NuGet, should we install it as well? We tried to but it didn't help, now that the dev version makes the instance work will the Microsoft.ML NuGet help somehow?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679917691/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679924245",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-679924245",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 679924245,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTkyNDI0NQ==",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-25T09:48:59Z",
        "updated_at": "2020-08-25T09:48:59Z",
        "author_association": "MEMBER",
        "body": "It's hard to see from the call stack what the usage of ORT is and what could be incorrect. Given using a newer build where multiple calls to Dispose are handled more correctly got past the first issue, I'm wondering if there's an issue with not being precise about how and when various ORT related types are disposed in your C# code. IDisposable is complex to get correct, so there may be edge cases we're not handling well that can be avoided if your C# code disposes things explicitly. \r\n\r\nAre you manually calling Dispose for all IDisposable types, or wrapping IDisposable types in `using(...) {}` blocks where possible?\r\n\r\nIs your IsQueryIncreasingMLModel class IDisposable? Not clear from the code snippet if IMLModel inherits from IDisposable. Given that class contains a member that is IDisposable (_inferenceSession) I would expect it should be. \r\n\r\nI'd also suggest running Visual Studio Code Analysis to see whether it flags anything else. \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679924245/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679961239",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-679961239",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 679961239,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTk2MTIzOQ==",
        "user": {
            "login": "AntonVasserman",
            "id": 40732386,
            "node_id": "MDQ6VXNlcjQwNzMyMzg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/40732386?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AntonVasserman",
            "html_url": "https://github.com/AntonVasserman",
            "followers_url": "https://api.github.com/users/AntonVasserman/followers",
            "following_url": "https://api.github.com/users/AntonVasserman/following{/other_user}",
            "gists_url": "https://api.github.com/users/AntonVasserman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AntonVasserman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AntonVasserman/subscriptions",
            "organizations_url": "https://api.github.com/users/AntonVasserman/orgs",
            "repos_url": "https://api.github.com/users/AntonVasserman/repos",
            "events_url": "https://api.github.com/users/AntonVasserman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AntonVasserman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-25T11:12:55Z",
        "updated_at": "2020-08-25T11:12:55Z",
        "author_association": "NONE",
        "body": "Providing the entire code:\r\n\r\n    public class IsQueryIncreasingMLModel : IMLModel\r\n    {\r\n        private const string ModelsFolderName = \"MLModels\";\r\n        private const string ModelFileName = \"onnx_model.onnx\";\r\n\r\n        private readonly InferenceSession _inferenceSession;\r\n\r\n        public IsQueryIncreasingMLModel()\r\n        {\r\n            _inferenceSession = new InferenceSession(Path.Combine(Directory.GetCurrentDirectory(), ModelsFolderName, ModelFileName));\r\n        }\r\n\r\n        /// <inheritdoc />\r\n        public double GetScore(List<long> features, ITracer tracer = null)\r\n        {\r\n            try\r\n            {\r\n                var onnxValues = new List<NamedOnnxValue>();\r\n\r\n                foreach (string name in _inferenceSession.InputMetadata.Keys)\r\n                {\r\n                    // In this case the model has features in the second parameter and the first parameter is -1 to signify \r\n                    // Possible running of several queries in a batch, but we run a single evaluation so we set this to 1\r\n                    onnxValues.Add(NamedOnnxValue.CreateFromTensor(\r\n                        name,\r\n                        new DenseTensor<long>(\r\n                            features.ToArray(),\r\n                            new int[2]\r\n                            {\r\n                                1,\r\n                                _inferenceSession.InputMetadata[name].Dimensions[1]\r\n                            })));\r\n                }\r\n\r\n                using (IDisposableReadOnlyCollection<DisposableNamedOnnxValue> outputs = _inferenceSession.Run(onnxValues))\r\n                {\r\n                    foreach (DisposableNamedOnnxValue output in outputs)\r\n                    {\r\n                        if (output.Name.Equals(\"output_probability\"))\r\n                        {\r\n                            return output.AsEnumerable<NamedOnnxValue>()\r\n                                .First()\r\n                                .AsEnumerable<KeyValuePair<long, float>>()\r\n                                .ElementAt(1)\r\n                                .Value;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                tracer?.LogTrace(\"Unable to use ml model for prediction\");\r\n                tracer?.LogException(e);\r\n            }\r\n\r\n            return 0;\r\n        }\r\n    }\r\n\r\nSo the IMLModel doesn't implement IDisposable, and we are actually holding to the same instance of the InferenceSession, should we change that? Should we create a new session each time we use \"GetScore\"?\r\nI believe I read somewhere that this is thread safe so I assumed using the same instance is alright.\r\n\r\nDidn't see anything related to IDisposable.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679961239/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/680172204",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-680172204",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 680172204,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDE3MjIwNA==",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-25T17:40:28Z",
        "updated_at": "2020-08-25T17:53:07Z",
        "author_association": "MEMBER",
        "body": "IsQueryIncreasingMLModel holds a IDisposable resource which is a session. The guideline says that disposable classes must be disposed when no longer needed. In this case, IsQueryIncreasingMLModel has a disposable resource as  a member. It, therefore, must implement IDisposable interface itself, dispose of the session in it. Furthermore, the code that makes use of IsQueryIncreasingMLModel must dispose of it when no longer needed.\r\n\r\nThe bottom line is that unmanaged resources must have clear ownership and must be promptly destroyed when no longer needed to prevent resource leaks.  IsQueryIncreasingMLModel above clearly owns the instance of the session but does not destroy it.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/680172204/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/680386147",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-680386147",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 680386147,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDM4NjE0Nw==",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-26T00:53:48Z",
        "updated_at": "2020-08-26T00:53:48Z",
        "author_association": "MEMBER",
        "body": "It's fine to re-use the session, and it is threadsafe. But you do need to dispose it given it is IDisposable. Apart from that the code looks ok.\r\n\r\nIt's not clear how ORT is involved in the latest issue which seems to be an exception in an async call. Whilst the inner error is about the onnxruntime.dll not being able to be loaded, unlike the first error there's no evidence of ORT being involved in causing that error in the call stack from the exception. Not sure disposing the session correctly is going to change anything here. I guess an experiment would be to temporarily create a new session in each GetScore call and wrap that in a 'using' to see if that changes anything.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/680386147/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/680939357",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-680939357",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 680939357,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDkzOTM1Nw==",
        "user": {
            "login": "AntonVasserman",
            "id": 40732386,
            "node_id": "MDQ6VXNlcjQwNzMyMzg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/40732386?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AntonVasserman",
            "html_url": "https://github.com/AntonVasserman",
            "followers_url": "https://api.github.com/users/AntonVasserman/followers",
            "following_url": "https://api.github.com/users/AntonVasserman/following{/other_user}",
            "gists_url": "https://api.github.com/users/AntonVasserman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AntonVasserman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AntonVasserman/subscriptions",
            "organizations_url": "https://api.github.com/users/AntonVasserman/orgs",
            "repos_url": "https://api.github.com/users/AntonVasserman/repos",
            "events_url": "https://api.github.com/users/AntonVasserman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AntonVasserman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-26T15:07:31Z",
        "updated_at": "2020-08-26T15:07:31Z",
        "author_association": "NONE",
        "body": "Thanks everyone, tried the experiment.\r\nDecided to create the session in each call instead of making the Model IDisposable as for now it is quicker to test.\r\nSince it isn't created now on the initialization of the class but on the first call we get a better stack trace to investigate:\r\n\r\nSystem.TypeInitializationException: The type initializer for 'Microsoft.ML.OnnxRuntime.NativeMethods' threw an exception. ---> System.DllNotFoundException: Unable to load DLL 'onnxruntime': The specified module could not be found. (Exception from HRESULT: 0x8007007E)\r\n   at Microsoft.ML.OnnxRuntime.NativeMethods.OrtGetApiBase()\r\n   at Microsoft.ML.OnnxRuntime.NativeMethods..cctor()\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.ML.OnnxRuntime.SessionOptions..ctor()\r\n   at Microsoft.ML.OnnxRuntime.InferenceSession..ctor(String modelPath)\r\n   at Microsoft.Azure.Monitoring.LSA.Shared.MLModels.IsQueryIncreasingMLModel.GetScore(List`1 features, ITracer tracer)\r\n   at Microsoft.Azure.Monitoring.LSA.Shared.MLModels.KustoQueryAnalyzer.IsIncreasing(String query, Boolean isMetricMeasurement, ITracer tracer)\r\n   at Microsoft.Azure.Monitoring.LSA.Shared.OptimizationFlowUtils.IsAlertRuleInvariant(LogSearchRuleConfiguration ruleConfig, ScheduleEntity scheduleEntity, ITracer tracer)\r\n   at Microsoft.Azure.Monitoring.LSA.Shared.OptimizationFlowUtils.CreateOptimizationProperties(LogSearchRuleConfiguration ruleConfig, ScheduleEntity scheduleEntity, Query query, String kustoTableTypeInSearchQuery, ITracer tracer)\r\n   at Microsoft.OI.Alerting.Common.Adapters.ScheduledSearchAdapter.<ProcessInternalAsync>d__10.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.OI.Alerting.Common.Adapters.ScheduledSearchAdapter.<ProcessInternalAsync>d__10.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.OI.Alerting.Common.Processor`2.<ProcessAsync>d__29.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.OI.Alerting.Common.Processors.ExecuteSearchProcessor.<ProcessInternalAsync>d__2.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.OI.Alerting.Common.Processor`2.<ProcessAsync>d__29.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.OI.Alerting.ProcessingRole.Runners.QueueWorker.<InvokeProcessorAsync>d__35.MoveNext()\r\n\r\nThe same exception as before but now it is possible to the the OrtGetApiBase method failing.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/680939357/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/681108686",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-681108686",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 681108686,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4MTEwODY4Ng==",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-26T20:32:48Z",
        "updated_at": "2020-08-26T20:55:18Z",
        "author_association": "MEMBER",
        "body": "Based on the stack above, it looks like the actual ORT library can not be found. I.e. onnxruntime.dll. Please, make sure that it can found. The simplest thing to do is to place it alongside the .exe that is using.\r\nThe dll will have NVIDIA CUDA dependencies if you are using a GPU package. Those need to be present on the box. Cuda Cudadnn libraries and CUDA drivers. That is the thing to check. here is a list of dependancies from my dev build\r\n\r\n    KERNEL32.dll\r\n    MSVCP140D.dll\r\n    VCRUNTIME140D.dll\r\n    VCRUNTIME140_1D.dll\r\n    ucrtbased.dll\r\n    **cublas64_10.dll**\r\n    **cudnn64_7.dll**\r\n    **curand64_10.dll**\r\n    **cufft64_10.dll**\r\n    ADVAPI32.dll\r\n    SHLWAPI.dll\r\n    dbghelp.dll\r\n    **cudart64_102.dll**",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/681108686/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/681160160",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-681160160",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 681160160,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4MTE2MDE2MA==",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-26T22:40:39Z",
        "updated_at": "2020-08-26T22:40:39Z",
        "author_association": "MEMBER",
        "body": "ORT is importing the onnxruntime dll using the DllImport attribute. \r\n\r\nhttps://github.com/microsoft/onnxruntime/blob/438babd966278ae1331bffbf369429199b0bd028/csharp/src/Microsoft.ML.OnnxRuntime/NativeMethods.cs#L310-L311\r\n\r\n'nativeLib' is set to 'onnxruntime' as I believe it needs to be extension free so it works on multiple platforms (e.g. .so on linux, .dll on windows). \r\n\r\nIt looks like the latest code is just taking a slightly different path and the same underlying issue remains. If you look closely at all the issues where it has ORT in the call stack, the exception is coming from the static constructor for the class that provides the native methods (Microsoft.ML.OnnxRuntime.NativeMethods..**cctor**), so it was most likely never able to load the library in all cases.\r\n\r\nIf this was fixed by being more explicit about the platform in your local unit testing setup, possibly there is something different in the config for Azure Cloud Service that is causing a mismatch. Or possibly there's some other aspect of Azure Cloud Service causing it not to load. Given we're using standard C# functionality to load the dll, and it works everywhere but Azure Cloud Service, it's probably worth asking them for advice at this point.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/681160160/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/681818942",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-681818942",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 681818942,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4MTgxODk0Mg==",
        "user": {
            "login": "AntonVasserman",
            "id": 40732386,
            "node_id": "MDQ6VXNlcjQwNzMyMzg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/40732386?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AntonVasserman",
            "html_url": "https://github.com/AntonVasserman",
            "followers_url": "https://api.github.com/users/AntonVasserman/followers",
            "following_url": "https://api.github.com/users/AntonVasserman/following{/other_user}",
            "gists_url": "https://api.github.com/users/AntonVasserman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AntonVasserman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AntonVasserman/subscriptions",
            "organizations_url": "https://api.github.com/users/AntonVasserman/orgs",
            "repos_url": "https://api.github.com/users/AntonVasserman/repos",
            "events_url": "https://api.github.com/users/AntonVasserman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AntonVasserman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-27T08:56:36Z",
        "updated_at": "2020-08-27T08:56:36Z",
        "author_association": "NONE",
        "body": "Since we do see the dll in the package deployed it must be an issue somewhere in the Azure Cloud Service.\r\nAs @yuslepukhin suggested we will next try to verify that the cloud service contains all needed dependencies.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/681818942/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/687822375",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-687822375",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 687822375,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzgyMjM3NQ==",
        "user": {
            "login": "AntonVasserman",
            "id": 40732386,
            "node_id": "MDQ6VXNlcjQwNzMyMzg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/40732386?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AntonVasserman",
            "html_url": "https://github.com/AntonVasserman",
            "followers_url": "https://api.github.com/users/AntonVasserman/followers",
            "following_url": "https://api.github.com/users/AntonVasserman/following{/other_user}",
            "gists_url": "https://api.github.com/users/AntonVasserman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AntonVasserman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AntonVasserman/subscriptions",
            "organizations_url": "https://api.github.com/users/AntonVasserman/orgs",
            "repos_url": "https://api.github.com/users/AntonVasserman/repos",
            "events_url": "https://api.github.com/users/AntonVasserman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AntonVasserman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-06T15:38:20Z",
        "updated_at": "2020-09-06T15:38:20Z",
        "author_association": "NONE",
        "body": "We have finally managed to make this work.\r\nThe solution though was to not use the 1.4 version, but the 1.2 version of those NuGets.\r\nI am still not sure if the issue is on the dll side or something related to Azure Cloud Services, although it does seem to work fine with 1.2.\r\n\r\nI'm going to work with Azure Cloud Service to see if they find the issue, and would like to take this offline with you guys as well only to narrow down the issue so in the future it will be possible to use 1.4 on Azure Cloud Services.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/687822375/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/688328725",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-688328725",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 688328725,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4ODMyODcyNQ==",
        "user": {
            "login": "AntonVasserman",
            "id": 40732386,
            "node_id": "MDQ6VXNlcjQwNzMyMzg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/40732386?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AntonVasserman",
            "html_url": "https://github.com/AntonVasserman",
            "followers_url": "https://api.github.com/users/AntonVasserman/followers",
            "following_url": "https://api.github.com/users/AntonVasserman/following{/other_user}",
            "gists_url": "https://api.github.com/users/AntonVasserman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AntonVasserman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AntonVasserman/subscriptions",
            "organizations_url": "https://api.github.com/users/AntonVasserman/orgs",
            "repos_url": "https://api.github.com/users/AntonVasserman/repos",
            "events_url": "https://api.github.com/users/AntonVasserman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AntonVasserman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-07T13:32:19Z",
        "updated_at": "2020-09-07T13:32:19Z",
        "author_association": "NONE",
        "body": "After investigating this a bit more with a support engineer from the Visual Studio team we narrowed the issue and found out that our service creates a different onnxruntime.dll file than other projects.\r\n\r\nWhat we did is to create a different console app and use the NuGets (version 1.4.0). The console app runs without any issues.\r\nWe copied the console app to the Azure Cloud Service machine and it worked there as well.\r\nWhen we replaced the onnxruntime.dll file in the console app bin folder with the one created from our service (also version 1.4.0) we see that the console app fails on the same exception as our service.\r\nAfter looking at the two onnxruntime.dll files we see that the console app created a one with 4,830KB size and the service created a one with 5,545KB size, so we see that they are different although the NuGets are the same.\r\n\r\nWe couldn't open them with ILDASM and not with ILSpy, getting the next exception:\r\n_ICSharpCode.Decompiler.Metadata.PEFileNotSupportedException: PE file does not contain any managed metadata.\r\n   at ICSharpCode.Decompiler.Metadata.PEFile..ctor(String fileName, PEReader reader, MetadataReaderOptions metadataOptions)\r\n   at ICSharpCode.ILSpy.LoadedAssembly.LoadAssembly(Object state)\r\n   at System.Threading.Tasks.Task`1.InnerInvoke()\r\n   at System.Threading.Tasks.Task.Execute()_\r\n\r\n@skottmckay Could you provide a little info on how this dll is created, what are its dependencies?\r\nMaybe you have an idea how we can open them and see the differences?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/688328725/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/688512770",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-688512770",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 688512770,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4ODUxMjc3MA==",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-07T21:14:28Z",
        "updated_at": "2020-09-07T21:14:28Z",
        "author_association": "MEMBER",
        "body": "The NuGet package contains runtimes for different platforms. The 4,830KB size one is the x86 build. The 5,545KB one is the x64 build. onnxruntime.dll is a native dll. ILDASM is for managed dlls so won't be able to open the native onnxruntime.dll. It would be able to open the managed Microsoft.ML.OnnxRuntime.dll.\r\n\r\nIs there possibly a mismatch and you're building your service as x86 but shipping it with an x64 onnxruntime dll that it can't load? \r\n\r\nIf it was the other way around (x64 service with x86 dll) I would expect it would still work. Would obviously be better if it matched though.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/688512770/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/723522855",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-723522855",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 723522855,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzUyMjg1NQ==",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2020-11-08T02:48:37Z",
        "updated_at": "2020-11-08T02:48:37Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/723522855/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/726916371",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-726916371",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 726916371,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjkxNjM3MQ==",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-13T17:51:35Z",
        "updated_at": "2020-11-13T17:51:35Z",
        "author_association": "MEMBER",
        "body": "@AntonVasserman Do you have any new information? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/726916371/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/732471675",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-732471675",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 732471675,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMjQ3MTY3NQ==",
        "user": {
            "login": "AntonVasserman",
            "id": 40732386,
            "node_id": "MDQ6VXNlcjQwNzMyMzg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/40732386?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AntonVasserman",
            "html_url": "https://github.com/AntonVasserman",
            "followers_url": "https://api.github.com/users/AntonVasserman/followers",
            "following_url": "https://api.github.com/users/AntonVasserman/following{/other_user}",
            "gists_url": "https://api.github.com/users/AntonVasserman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AntonVasserman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AntonVasserman/subscriptions",
            "organizations_url": "https://api.github.com/users/AntonVasserman/orgs",
            "repos_url": "https://api.github.com/users/AntonVasserman/repos",
            "events_url": "https://api.github.com/users/AntonVasserman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AntonVasserman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-23T22:49:53Z",
        "updated_at": "2020-11-23T22:52:16Z",
        "author_association": "NONE",
        "body": "@yuslepukhin \r\nSorry for the delay, due to the previous version solving the issue we had to finish few things before getting back to this.\r\n\r\nSo regarding new information not so much.\r\nAs said before it seems like there is a mismatch between the dll we are building and the dll expected.\r\nI will now try to repro it again and try to solve it in case it reproduces.\r\nHope to provide an explanation for that in the next few days.\r\n\r\nPS. Small question related to performance, it was mentioned in the thread that the InferenceSession is an IDisposable and should be disposed once done using, but it is thread safe.\r\nWe saw in our service that the initialization of the InferenceSession is a bit expensive regarding to performance.\r\nIs it wise (or 100% should be avoided) to use a single static InferenceSession object for all the uses of the ML Model? If it is thread safe of course...",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/732471675/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/750673523",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-750673523",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 750673523,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDY3MzUyMw==",
        "user": {
            "login": "patrickmurray18",
            "id": 10216524,
            "node_id": "MDQ6VXNlcjEwMjE2NTI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/10216524?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickmurray18",
            "html_url": "https://github.com/patrickmurray18",
            "followers_url": "https://api.github.com/users/patrickmurray18/followers",
            "following_url": "https://api.github.com/users/patrickmurray18/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickmurray18/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickmurray18/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickmurray18/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickmurray18/orgs",
            "repos_url": "https://api.github.com/users/patrickmurray18/repos",
            "events_url": "https://api.github.com/users/patrickmurray18/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickmurray18/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-24T00:59:34Z",
        "updated_at": "2020-12-24T00:59:34Z",
        "author_association": "NONE",
        "body": "@yuslepukhin I'm having a similar issue where when I deploy to a cloud service:\r\n\r\n- `Microsoft.ML.OnnxRuntime.dll` is always x86\r\n- `onnxruntime.dll` is always x64\r\n\r\nSo I get the exception: \r\n\r\n> Message: Unable to load DLL 'onnxruntime': The specified module could not be found. (Exception from HRESULT: 0x8007007E)\r\n\r\nThis happens when I deploy on both \"Any CPU\" and \"x64\" project settings. This surely must be an issue with your nuget package? I deploy heaps of other packages and they don't have this issue. This is on 1.6.0. I also tried 1.2.0 and similar thing happened (though with huge inner exception trace).\r\n\r\nIs there anything I should try?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/750673523/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/770493056",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-770493056",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 770493056,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc3MDQ5MzA1Ng==",
        "user": {
            "login": "patrickmurray18",
            "id": 10216524,
            "node_id": "MDQ6VXNlcjEwMjE2NTI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/10216524?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickmurray18",
            "html_url": "https://github.com/patrickmurray18",
            "followers_url": "https://api.github.com/users/patrickmurray18/followers",
            "following_url": "https://api.github.com/users/patrickmurray18/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickmurray18/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickmurray18/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickmurray18/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickmurray18/orgs",
            "repos_url": "https://api.github.com/users/patrickmurray18/repos",
            "events_url": "https://api.github.com/users/patrickmurray18/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickmurray18/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-02-01T00:56:25Z",
        "updated_at": "2021-02-01T00:56:25Z",
        "author_association": "NONE",
        "body": "@AntonVasserman Do you have any input to the above? This is proving to be a major hurdle in using Microsoft services for ML for me.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/770493056/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813058108",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-813058108",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 813058108,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzA1ODEwOA==",
        "user": {
            "login": "AntonVasserman",
            "id": 40732386,
            "node_id": "MDQ6VXNlcjQwNzMyMzg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/40732386?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AntonVasserman",
            "html_url": "https://github.com/AntonVasserman",
            "followers_url": "https://api.github.com/users/AntonVasserman/followers",
            "following_url": "https://api.github.com/users/AntonVasserman/following{/other_user}",
            "gists_url": "https://api.github.com/users/AntonVasserman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AntonVasserman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AntonVasserman/subscriptions",
            "organizations_url": "https://api.github.com/users/AntonVasserman/orgs",
            "repos_url": "https://api.github.com/users/AntonVasserman/repos",
            "events_url": "https://api.github.com/users/AntonVasserman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AntonVasserman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-04T16:08:33Z",
        "updated_at": "2021-04-04T16:08:33Z",
        "author_association": "NONE",
        "body": "@patrickmurray18 Sadly we don't have any input, as we are currently moving to work with Azure Service Fabric instead of Azure Cloud Service and it didn't provide us the same issues.\r\nAs well as using the previous version worked for us in CS (1.2 instead of 1.4).\r\nThis thread will be closed now as we don't need further assistance, thanks everyone for the insights.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813058108/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1022387066",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-1022387066",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 1022387066,
        "node_id": "IC_kwDOCVq1mM488GN6",
        "user": {
            "login": "adimex",
            "id": 20339626,
            "node_id": "MDQ6VXNlcjIwMzM5NjI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/20339626?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/adimex",
            "html_url": "https://github.com/adimex",
            "followers_url": "https://api.github.com/users/adimex/followers",
            "following_url": "https://api.github.com/users/adimex/following{/other_user}",
            "gists_url": "https://api.github.com/users/adimex/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/adimex/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/adimex/subscriptions",
            "organizations_url": "https://api.github.com/users/adimex/orgs",
            "repos_url": "https://api.github.com/users/adimex/repos",
            "events_url": "https://api.github.com/users/adimex/events{/privacy}",
            "received_events_url": "https://api.github.com/users/adimex/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-26T16:47:40Z",
        "updated_at": "2022-01-26T16:47:40Z",
        "author_association": "NONE",
        "body": "Did you install C++ redist?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1022387066/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1326120118",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4896#issuecomment-1326120118",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4896",
        "id": 1326120118,
        "node_id": "IC_kwDOCVq1mM5PCvy2",
        "user": {
            "login": "tungfpmss",
            "id": 105226628,
            "node_id": "U_kgDOBkWhhA",
            "avatar_url": "https://avatars.githubusercontent.com/u/105226628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tungfpmss",
            "html_url": "https://github.com/tungfpmss",
            "followers_url": "https://api.github.com/users/tungfpmss/followers",
            "following_url": "https://api.github.com/users/tungfpmss/following{/other_user}",
            "gists_url": "https://api.github.com/users/tungfpmss/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tungfpmss/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tungfpmss/subscriptions",
            "organizations_url": "https://api.github.com/users/tungfpmss/orgs",
            "repos_url": "https://api.github.com/users/tungfpmss/repos",
            "events_url": "https://api.github.com/users/tungfpmss/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tungfpmss/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-11-24T08:38:04Z",
        "updated_at": "2022-11-24T08:38:04Z",
        "author_association": "NONE",
        "body": "Hello everyone!\r\nCurrently I have the same problem when deploying Onnx with windows 7 x64 professional sp1 (on windows 10 it works properly)\r\nI installed and used\r\n- NetFramework 4.5.2 and 4.7.2\r\n- C++ 2015-2019 Redistributable (x64) 14.2\r\n- C++ 2015-2019 Redistributable (x64) 14.2\r\n- Microsoft.ML.OnnxRuntime 1.13.1 from Nuget\r\nBut when running on windows 7 error as below:\r\nUnable to load DLL 'onnxruntime': The specified module could not be found. (Exception from HRESULT: 0x8007007E) at Microsoft.ML.OnnxRuntime.NativeMethods.OrtGetApiBase()\r\nThe type initializer for 'Microsoft.ML.OnnxRuntime.NativeMethods' threw an exception.\r\n\r\nDo you have any suggestions for me in this case? Am i missing something?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1326120118/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]