[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/534806537",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1899#issuecomment-534806537",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1899",
        "id": 534806537,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDgwNjUzNw==",
        "user": {
            "login": "dashesy",
            "id": 873905,
            "node_id": "MDQ6VXNlcjg3MzkwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/873905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dashesy",
            "html_url": "https://github.com/dashesy",
            "followers_url": "https://api.github.com/users/dashesy/followers",
            "following_url": "https://api.github.com/users/dashesy/following{/other_user}",
            "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions",
            "organizations_url": "https://api.github.com/users/dashesy/orgs",
            "repos_url": "https://api.github.com/users/dashesy/repos",
            "events_url": "https://api.github.com/users/dashesy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dashesy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-09-25T01:05:45Z",
        "updated_at": "2019-09-25T01:05:45Z",
        "author_association": "NONE",
        "body": "Or you can use optimizer to get rid of them:\r\n\r\n```python\r\nimport onnx\r\n\r\nonnx_model = onnx.load(onnxfile)\r\npasses = [\"extract_constant_to_initializer\", \"eliminate_unused_initializer\"]\r\nfrom onnx import optimizer\r\noptimized_model = optimizer.optimize(onnx_model, passes)\r\n\r\nonnx.save(optimized_model, onnxfile)\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/534806537/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "dashesy",
            "id": 873905,
            "node_id": "MDQ6VXNlcjg3MzkwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/873905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dashesy",
            "html_url": "https://github.com/dashesy",
            "followers_url": "https://api.github.com/users/dashesy/followers",
            "following_url": "https://api.github.com/users/dashesy/following{/other_user}",
            "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions",
            "organizations_url": "https://api.github.com/users/dashesy/orgs",
            "repos_url": "https://api.github.com/users/dashesy/repos",
            "events_url": "https://api.github.com/users/dashesy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dashesy/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/534869387",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1899#issuecomment-534869387",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1899",
        "id": 534869387,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDg2OTM4Nw==",
        "user": {
            "login": "martin-91x",
            "id": 48622975,
            "node_id": "MDQ6VXNlcjQ4NjIyOTc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/48622975?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/martin-91x",
            "html_url": "https://github.com/martin-91x",
            "followers_url": "https://api.github.com/users/martin-91x/followers",
            "following_url": "https://api.github.com/users/martin-91x/following{/other_user}",
            "gists_url": "https://api.github.com/users/martin-91x/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/martin-91x/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/martin-91x/subscriptions",
            "organizations_url": "https://api.github.com/users/martin-91x/orgs",
            "repos_url": "https://api.github.com/users/martin-91x/repos",
            "events_url": "https://api.github.com/users/martin-91x/events{/privacy}",
            "received_events_url": "https://api.github.com/users/martin-91x/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-09-25T06:09:57Z",
        "updated_at": "2019-09-25T06:09:57Z",
        "author_association": "NONE",
        "body": "Ah, ok. \r\nThanks a lot. Missed those optimization passes when looking over all available ones.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/534869387/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "martin-91x",
            "id": 48622975,
            "node_id": "MDQ6VXNlcjQ4NjIyOTc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/48622975?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/martin-91x",
            "html_url": "https://github.com/martin-91x",
            "followers_url": "https://api.github.com/users/martin-91x/followers",
            "following_url": "https://api.github.com/users/martin-91x/following{/other_user}",
            "gists_url": "https://api.github.com/users/martin-91x/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/martin-91x/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/martin-91x/subscriptions",
            "organizations_url": "https://api.github.com/users/martin-91x/orgs",
            "repos_url": "https://api.github.com/users/martin-91x/repos",
            "events_url": "https://api.github.com/users/martin-91x/events{/privacy}",
            "received_events_url": "https://api.github.com/users/martin-91x/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "id": 2673970287,
        "node_id": "MDExOkNsb3NlZEV2ZW50MjY3Mzk3MDI4Nw==",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/2673970287",
        "actor": {
            "login": "faxu",
            "id": 20780999,
            "node_id": "MDQ6VXNlcjIwNzgwOTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/20780999?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/faxu",
            "html_url": "https://github.com/faxu",
            "followers_url": "https://api.github.com/users/faxu/followers",
            "following_url": "https://api.github.com/users/faxu/following{/other_user}",
            "gists_url": "https://api.github.com/users/faxu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/faxu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/faxu/subscriptions",
            "organizations_url": "https://api.github.com/users/faxu/orgs",
            "repos_url": "https://api.github.com/users/faxu/repos",
            "events_url": "https://api.github.com/users/faxu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/faxu/received_events",
            "type": "User",
            "site_admin": true
        },
        "event": "closed",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2019-09-30T16:37:38Z",
        "state_reason": null,
        "performed_via_github_app": null
    },
    {
        "actor": {
            "login": "bulatnv",
            "id": 42501371,
            "node_id": "MDQ6VXNlcjQyNTAxMzcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/42501371?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bulatnv",
            "html_url": "https://github.com/bulatnv",
            "followers_url": "https://api.github.com/users/bulatnv/followers",
            "following_url": "https://api.github.com/users/bulatnv/following{/other_user}",
            "gists_url": "https://api.github.com/users/bulatnv/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bulatnv/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bulatnv/subscriptions",
            "organizations_url": "https://api.github.com/users/bulatnv/orgs",
            "repos_url": "https://api.github.com/users/bulatnv/repos",
            "events_url": "https://api.github.com/users/bulatnv/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bulatnv/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-21T12:48:18Z",
        "updated_at": "2020-12-21T12:48:18Z",
        "source": {
            "type": "issue",
            "issue": {
                "url": "https://api.github.com/repos/pytorch/vision/issues/3044",
                "repository_url": "https://api.github.com/repos/pytorch/vision",
                "labels_url": "https://api.github.com/repos/pytorch/vision/issues/3044/labels{/name}",
                "comments_url": "https://api.github.com/repos/pytorch/vision/issues/3044/comments",
                "events_url": "https://api.github.com/repos/pytorch/vision/issues/3044/events",
                "html_url": "https://github.com/pytorch/vision/issues/3044",
                "id": 749616213,
                "node_id": "MDU6SXNzdWU3NDk2MTYyMTM=",
                "number": 3044,
                "title": "Faster/Mask RCNN (fasterrcnn_mobilenet_v2_fpn) model export to ONNX. Warnings.",
                "user": {
                    "login": "bulatnv",
                    "id": 42501371,
                    "node_id": "MDQ6VXNlcjQyNTAxMzcx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/42501371?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bulatnv",
                    "html_url": "https://github.com/bulatnv",
                    "followers_url": "https://api.github.com/users/bulatnv/followers",
                    "following_url": "https://api.github.com/users/bulatnv/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bulatnv/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bulatnv/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bulatnv/subscriptions",
                    "organizations_url": "https://api.github.com/users/bulatnv/orgs",
                    "repos_url": "https://api.github.com/users/bulatnv/repos",
                    "events_url": "https://api.github.com/users/bulatnv/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bulatnv/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1388459342,
                        "node_id": "MDU6TGFiZWwxMzg4NDU5MzQy",
                        "url": "https://api.github.com/repos/pytorch/vision/labels/topic:%20object%20detection",
                        "name": "topic: object detection",
                        "color": "0e8a16",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 1706804376,
                        "node_id": "MDU6TGFiZWwxNzA2ODA0Mzc2",
                        "url": "https://api.github.com/repos/pytorch/vision/labels/module:%20onnx",
                        "name": "module: onnx",
                        "color": "edaea8",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 6,
                "created_at": "2020-11-24T11:18:19Z",
                "updated_at": "2021-10-19T22:38:43Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "repository": {
                    "id": 73328905,
                    "node_id": "MDEwOlJlcG9zaXRvcnk3MzMyODkwNQ==",
                    "name": "vision",
                    "full_name": "pytorch/vision",
                    "private": false,
                    "owner": {
                        "login": "pytorch",
                        "id": 21003710,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIxMDAzNzEw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/21003710?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/pytorch",
                        "html_url": "https://github.com/pytorch",
                        "followers_url": "https://api.github.com/users/pytorch/followers",
                        "following_url": "https://api.github.com/users/pytorch/following{/other_user}",
                        "gists_url": "https://api.github.com/users/pytorch/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/pytorch/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/pytorch/subscriptions",
                        "organizations_url": "https://api.github.com/users/pytorch/orgs",
                        "repos_url": "https://api.github.com/users/pytorch/repos",
                        "events_url": "https://api.github.com/users/pytorch/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/pytorch/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "html_url": "https://github.com/pytorch/vision",
                    "description": "Datasets, Transforms and Models specific to Computer Vision",
                    "fork": false,
                    "url": "https://api.github.com/repos/pytorch/vision",
                    "forks_url": "https://api.github.com/repos/pytorch/vision/forks",
                    "keys_url": "https://api.github.com/repos/pytorch/vision/keys{/key_id}",
                    "collaborators_url": "https://api.github.com/repos/pytorch/vision/collaborators{/collaborator}",
                    "teams_url": "https://api.github.com/repos/pytorch/vision/teams",
                    "hooks_url": "https://api.github.com/repos/pytorch/vision/hooks",
                    "issue_events_url": "https://api.github.com/repos/pytorch/vision/issues/events{/number}",
                    "events_url": "https://api.github.com/repos/pytorch/vision/events",
                    "assignees_url": "https://api.github.com/repos/pytorch/vision/assignees{/user}",
                    "branches_url": "https://api.github.com/repos/pytorch/vision/branches{/branch}",
                    "tags_url": "https://api.github.com/repos/pytorch/vision/tags",
                    "blobs_url": "https://api.github.com/repos/pytorch/vision/git/blobs{/sha}",
                    "git_tags_url": "https://api.github.com/repos/pytorch/vision/git/tags{/sha}",
                    "git_refs_url": "https://api.github.com/repos/pytorch/vision/git/refs{/sha}",
                    "trees_url": "https://api.github.com/repos/pytorch/vision/git/trees{/sha}",
                    "statuses_url": "https://api.github.com/repos/pytorch/vision/statuses/{sha}",
                    "languages_url": "https://api.github.com/repos/pytorch/vision/languages",
                    "stargazers_url": "https://api.github.com/repos/pytorch/vision/stargazers",
                    "contributors_url": "https://api.github.com/repos/pytorch/vision/contributors",
                    "subscribers_url": "https://api.github.com/repos/pytorch/vision/subscribers",
                    "subscription_url": "https://api.github.com/repos/pytorch/vision/subscription",
                    "commits_url": "https://api.github.com/repos/pytorch/vision/commits{/sha}",
                    "git_commits_url": "https://api.github.com/repos/pytorch/vision/git/commits{/sha}",
                    "comments_url": "https://api.github.com/repos/pytorch/vision/comments{/number}",
                    "issue_comment_url": "https://api.github.com/repos/pytorch/vision/issues/comments{/number}",
                    "contents_url": "https://api.github.com/repos/pytorch/vision/contents/{+path}",
                    "compare_url": "https://api.github.com/repos/pytorch/vision/compare/{base}...{head}",
                    "merges_url": "https://api.github.com/repos/pytorch/vision/merges",
                    "archive_url": "https://api.github.com/repos/pytorch/vision/{archive_format}{/ref}",
                    "downloads_url": "https://api.github.com/repos/pytorch/vision/downloads",
                    "issues_url": "https://api.github.com/repos/pytorch/vision/issues{/number}",
                    "pulls_url": "https://api.github.com/repos/pytorch/vision/pulls{/number}",
                    "milestones_url": "https://api.github.com/repos/pytorch/vision/milestones{/number}",
                    "notifications_url": "https://api.github.com/repos/pytorch/vision/notifications{?since,all,participating}",
                    "labels_url": "https://api.github.com/repos/pytorch/vision/labels{/name}",
                    "releases_url": "https://api.github.com/repos/pytorch/vision/releases{/id}",
                    "deployments_url": "https://api.github.com/repos/pytorch/vision/deployments",
                    "created_at": "2016-11-09T23:11:43Z",
                    "updated_at": "2022-12-20T18:34:32Z",
                    "pushed_at": "2022-12-20T15:32:54Z",
                    "git_url": "git://github.com/pytorch/vision.git",
                    "ssh_url": "git@github.com:pytorch/vision.git",
                    "clone_url": "https://github.com/pytorch/vision.git",
                    "svn_url": "https://github.com/pytorch/vision",
                    "homepage": "https://pytorch.org/vision",
                    "size": 554607,
                    "stargazers_count": 13004,
                    "watchers_count": 13004,
                    "language": "Python",
                    "has_issues": true,
                    "has_projects": true,
                    "has_downloads": true,
                    "has_wiki": true,
                    "has_pages": true,
                    "has_discussions": false,
                    "forks_count": 6415,
                    "mirror_url": null,
                    "archived": false,
                    "disabled": false,
                    "open_issues_count": 827,
                    "license": {
                        "key": "bsd-3-clause",
                        "name": "BSD 3-Clause \"New\" or \"Revised\" License",
                        "spdx_id": "BSD-3-Clause",
                        "url": "https://api.github.com/licenses/bsd-3-clause",
                        "node_id": "MDc6TGljZW5zZTU="
                    },
                    "allow_forking": true,
                    "is_template": false,
                    "web_commit_signoff_required": false,
                    "topics": [
                        "computer-vision",
                        "machine-learning"
                    ],
                    "visibility": "public",
                    "forks": 6415,
                    "open_issues": 827,
                    "watchers": 13004,
                    "default_branch": "main",
                    "permissions": {
                        "admin": false,
                        "maintain": false,
                        "push": false,
                        "triage": false,
                        "pull": true
                    }
                },
                "body": "Hello, \r\n\r\nI have a lot of 'UserWarnings' during exporting model to ONNX. Can someone clarify meanings of this warnings and help to eliminate then. I am creating model from [this finetuning tutorial](https://pytorch.org/tutorials/intermediate/torchvision_tutorial.html) and have no problem during training/torch evaluation. \r\nHowever encounter one 'RuntimeWarning' and about 7 'UserWarning' while exporting trained model to ONNX. There are also several warnings during evaluation ONNX model on onnxruntime.\r\n\r\n# To Reproduce\r\n\r\n``` python\r\nimport torch\r\nimport torchvision\r\nfrom torchvision.models.detection import FasterRCNN\r\nfrom torchvision.models.detection.rpn import AnchorGenerator\r\nfrom torchvision.models.detection.faster_rcnn import FastRCNNPredictor\r\n\r\ndef create_faster_mobilenet_v2():\r\n    backbone = torchvision.models.mobilenet_v2(pretrained=True).features\r\n    backbone.out_channels = 1280\r\n    anchor_generator = AnchorGenerator(sizes=((32, 64, 128, 256, 512),),\r\n                                       aspect_ratios=((0.5, 1.0, 2.0),))\r\n    num_classes = 47\r\n    roi_pooler = torchvision.ops.MultiScaleRoIAlign(featmap_names=['0'], output_size=7, sampling_ratio=2)\r\n    model = FasterRCNN(backbone,\r\n                       num_classes=num_classes,\r\n                       rpn_anchor_generator=anchor_generator,\r\n                       box_roi_pool=roi_pooler)\r\n    in_features = model.roi_heads.box_predictor.cls_score.in_features\r\n    model.roi_heads.box_predictor = FastRCNNPredictor(in_features, num_classes)\r\n    return model\r\n\r\n# export to ONNX\r\nbatch_size = 1\r\n# load model\r\nmodel = create_faster_mobilenet_v2()\r\n\r\n# Dummy input to the model\r\nx = torch.randn(batch_size, 3, 800, 800)\r\n\r\n# set the model to inference mode\r\nmodel.eval()\r\n\r\n# running dummy image\r\ntorch_out = model(x)\r\n\r\nprint('Model outputs: ', torch_out[0]['boxes'].shape, torch_out[0]['labels'].shape, torch_out[0]['scores'].shape)\r\nprint('Model output boxes: ', torch_out[0]['boxes'])\r\nprint('Model output labels: ', torch_out[0]['labels'])\r\nprint('Model output scores: ', torch_out[0]['scores'])\r\n\r\n# Export the model\r\ntorch.onnx.export(model,  # model being run\r\n                  x,  # model input (or a tuple for multiple inputs)\r\n                  \"fasterRCNN-231120-694-46C-batch1.onnx\",  # model path + name\r\n                  # export_params=True,  # store the trained parameter weights inside the model file\r\n                  opset_version=11,  # the ONNX version to export the model to\r\n                  # do_constant_folding=True,  # whether to execute constant folding for optimization\r\n                  input_names=['input'],  # the model's input names\r\n                  output_names=['output'],  # the model's output names\r\n                  dynamic_axes={'input': {0: 'batch_size'},  # variable length axes\r\n                                            'output': {0: 'batch_size'}\r\n                                }\r\n                  )\r\n```\r\n# Output during export:\r\n``` terminal\r\nModel outputs:  torch.Size([3, 4]) torch.Size([3]) torch.Size([3])\r\n\r\nModel output boxes:  tensor([[2.6542e+00, 2.4133e-01, 1.1089e+02, 8.9261e+01],\r\n        [2.1360e+00, 6.8483e+02, 1.0292e+02, 7.9821e+02],\r\n        [9.6579e-01, 7.3022e+02, 1.3740e+02, 7.9860e+02]],\r\n       grad_fn=<StackBackward>)\r\n\r\nModel output labels:  tensor([3, 1, 1])\r\n\r\nModel output scores:  tensor([0.0778, 0.0638, 0.0519], grad_fn=<IndexBackward>)\r\n\r\nD:\\Projects\\MachineLearning\\fasterRCNN\\train\\venv\\lib\\site-packages\\torch\\nn\\functional.py:3123: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requ\r\nires_grad_(True), rather than torch.tensor(sourceTensor).\r\n  dtype=torch.float32)).float())) for i in range(dim)]\r\n\r\nD:\\Projects\\MachineLearning\\fasterRCNN\\train\\venv\\lib\\site-packages\\torchvision\\models\\detection\\anchor_utils.py:147: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.\r\nclone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).\r\n  torch.tensor(image_size[1] // g[1], dtype=torch.int64, device=device)] for g in grid_sizes]\r\n\r\nD:\\Projects\\MachineLearning\\fasterRCNN\\train\\venv\\lib\\site-packages\\torch\\tensor.py:593: RuntimeWarning: Iterating over a tensor might cause the trace to be incorrect. Passing a tensor of different shape won't change the number of iter\r\nations executed (and might lead to errors or silently give incorrect results).\r\n  'incorrect results).', category=RuntimeWarning)\r\n\r\nD:\\Projects\\MachineLearning\\fasterRCNN\\train\\venv\\lib\\site-packages\\torchvision\\ops\\boxes.py:128: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().req\r\nuires_grad_(True), rather than torch.tensor(sourceTensor).\r\n  boxes_x = torch.min(boxes_x, torch.tensor(width, dtype=boxes.dtype, device=boxes.device))\r\n\r\nD:\\Projects\\MachineLearning\\fasterRCNN\\train\\venv\\lib\\site-packages\\torchvision\\ops\\boxes.py:130: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().req\r\nuires_grad_(True), rather than torch.tensor(sourceTensor).\r\n\r\n  boxes_y = torch.min(boxes_y, torch.tensor(height, dtype=boxes.dtype, device=boxes.device))\r\nD:\\Projects\\MachineLearning\\fasterRCNN\\train\\venv\\lib\\site-packages\\torchvision\\models\\detection\\transform.py:271: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clo\r\nne().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).\r\n  for s, s_orig in zip(new_size, original_size)\r\n\r\nD:\\Projects\\MachineLearning\\fasterRCNN\\train\\venv\\lib\\site-packages\\torch\\onnx\\symbolic_opset9.py:2378: UserWarning: Exporting aten::index operator of advanced indexing in opset 11 is achieved by combination of multiple ONNX operators,\r\n including Reshape, Transpose, Concat, and Gather. If indices include negative values, the exported graph will produce incorrect results.\r\n  \"If indices include negative values, the exported graph will produce incorrect results.\")\r\n\r\nD:\\Projects\\MachineLearning\\fasterRCNN\\train\\venv\\lib\\site-packages\\torch\\onnx\\symbolic_opset9.py:588: UserWarning: This model contains a squeeze operation on dimension 1 on an input with unknown shape. Note that if the size of dimensi\r\non 1 of the input is not 1, the ONNX model will return an error. Opset version 11 supports squeezing on non-singleton dimensions, it is recommended to export this model using opset version 11 or higher.\r\n  \"version 11 or higher.\")\r\n```\r\n\r\n# Environment\r\n\r\n1. PyTorch Version : 1.7.0\r\n2. Torchvision: 0.8.1\r\n2. OS : Wndows 10\r\n3. How you installed PyTorch (conda, pip, source): pip install torch===1.7.0 torchvision===0.8.1 torchaudio===0.7.0 -f https://download.pytorch.org/whl/torch_stable.html\r\n4. Python version: 3.6.5\r\n5. CUDA/cuDNN version: 10.2 / 11.0 (I have another machine - result is the same)\r\n6. onnx: 1.7.0\r\n7. onnxruntime: 1.5.2\r\n\r\nWith respect.\r\nBulat.\n\ncc @neginraoof",
                "reactions": {
                    "url": "https://api.github.com/repos/pytorch/vision/issues/3044/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/pytorch/vision/issues/3044/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "event": "cross-referenced"
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/840596510",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1899#issuecomment-840596510",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1899",
        "id": 840596510,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg0MDU5NjUxMA==",
        "user": {
            "login": "mijalapenos",
            "id": 7550379,
            "node_id": "MDQ6VXNlcjc1NTAzNzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7550379?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mijalapenos",
            "html_url": "https://github.com/mijalapenos",
            "followers_url": "https://api.github.com/users/mijalapenos/followers",
            "following_url": "https://api.github.com/users/mijalapenos/following{/other_user}",
            "gists_url": "https://api.github.com/users/mijalapenos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mijalapenos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mijalapenos/subscriptions",
            "organizations_url": "https://api.github.com/users/mijalapenos/orgs",
            "repos_url": "https://api.github.com/users/mijalapenos/repos",
            "events_url": "https://api.github.com/users/mijalapenos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mijalapenos/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-13T14:24:20Z",
        "updated_at": "2021-05-13T14:25:12Z",
        "author_association": "NONE",
        "body": "For anyone exploring this issue two or more years later: the optimizer part of onnx moved to a separate package, therefore you have to `$ pip install onnxoptimizer` and then update the code mentioned here accordingly.\r\n```python\r\nimport onnx\r\nimport onnxoptimizer\r\n\r\nonnx_model = onnx.load(onnxfile)\r\npasses = [\"extract_constant_to_initializer\", \"eliminate_unused_initializer\"]\r\noptimized_model = onnxoptimizer.optimize(onnx_model, passes)\r\n\r\nonnx.save(optimized_model, onnxfile)\r\n```\r\n\r\nOr at least that's what worked for me.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/840596510/reactions",
            "total_count": 13,
            "+1": 11,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "mijalapenos",
            "id": 7550379,
            "node_id": "MDQ6VXNlcjc1NTAzNzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7550379?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mijalapenos",
            "html_url": "https://github.com/mijalapenos",
            "followers_url": "https://api.github.com/users/mijalapenos/followers",
            "following_url": "https://api.github.com/users/mijalapenos/following{/other_user}",
            "gists_url": "https://api.github.com/users/mijalapenos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mijalapenos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mijalapenos/subscriptions",
            "organizations_url": "https://api.github.com/users/mijalapenos/orgs",
            "repos_url": "https://api.github.com/users/mijalapenos/repos",
            "events_url": "https://api.github.com/users/mijalapenos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mijalapenos/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/842243105",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1899#issuecomment-842243105",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1899",
        "id": 842243105,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg0MjI0MzEwNQ==",
        "user": {
            "login": "mibrahimy",
            "id": 7117319,
            "node_id": "MDQ6VXNlcjcxMTczMTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7117319?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mibrahimy",
            "html_url": "https://github.com/mibrahimy",
            "followers_url": "https://api.github.com/users/mibrahimy/followers",
            "following_url": "https://api.github.com/users/mibrahimy/following{/other_user}",
            "gists_url": "https://api.github.com/users/mibrahimy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mibrahimy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mibrahimy/subscriptions",
            "organizations_url": "https://api.github.com/users/mibrahimy/orgs",
            "repos_url": "https://api.github.com/users/mibrahimy/repos",
            "events_url": "https://api.github.com/users/mibrahimy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mibrahimy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-17T11:21:33Z",
        "updated_at": "2021-05-17T11:21:33Z",
        "author_association": "NONE",
        "body": "I was able to optimize the model using this [method](https://www.onnxruntime.ai/docs/resources/graph-optimizations.html#python-api-example)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/842243105/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "mibrahimy",
            "id": 7117319,
            "node_id": "MDQ6VXNlcjcxMTczMTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7117319?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mibrahimy",
            "html_url": "https://github.com/mibrahimy",
            "followers_url": "https://api.github.com/users/mibrahimy/followers",
            "following_url": "https://api.github.com/users/mibrahimy/following{/other_user}",
            "gists_url": "https://api.github.com/users/mibrahimy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mibrahimy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mibrahimy/subscriptions",
            "organizations_url": "https://api.github.com/users/mibrahimy/orgs",
            "repos_url": "https://api.github.com/users/mibrahimy/repos",
            "events_url": "https://api.github.com/users/mibrahimy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mibrahimy/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "actor": {
            "login": "CYFFF",
            "id": 19763483,
            "node_id": "MDQ6VXNlcjE5NzYzNDgz",
            "avatar_url": "https://avatars.githubusercontent.com/u/19763483?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/CYFFF",
            "html_url": "https://github.com/CYFFF",
            "followers_url": "https://api.github.com/users/CYFFF/followers",
            "following_url": "https://api.github.com/users/CYFFF/following{/other_user}",
            "gists_url": "https://api.github.com/users/CYFFF/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/CYFFF/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/CYFFF/subscriptions",
            "organizations_url": "https://api.github.com/users/CYFFF/orgs",
            "repos_url": "https://api.github.com/users/CYFFF/repos",
            "events_url": "https://api.github.com/users/CYFFF/events{/privacy}",
            "received_events_url": "https://api.github.com/users/CYFFF/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-19T06:46:44Z",
        "updated_at": "2021-08-19T06:46:44Z",
        "source": {
            "type": "issue",
            "issue": {
                "url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/issues/5",
                "repository_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC",
                "labels_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/issues/5/labels{/name}",
                "comments_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/issues/5/comments",
                "events_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/issues/5/events",
                "html_url": "https://github.com/MagicHub-io/MagicData-RAMC/issues/5",
                "id": 974289881,
                "node_id": "MDU6SXNzdWU5NzQyODk4ODE=",
                "number": 5,
                "title": "SD: something wrong while running step3----Do Speaker Embedding Extractor",
                "user": {
                    "login": "axuan731",
                    "id": 89143813,
                    "node_id": "MDQ6VXNlcjg5MTQzODEz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/89143813?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/axuan731",
                    "html_url": "https://github.com/axuan731",
                    "followers_url": "https://api.github.com/users/axuan731/followers",
                    "following_url": "https://api.github.com/users/axuan731/following{/other_user}",
                    "gists_url": "https://api.github.com/users/axuan731/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/axuan731/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/axuan731/subscriptions",
                    "organizations_url": "https://api.github.com/users/axuan731/orgs",
                    "repos_url": "https://api.github.com/users/axuan731/repos",
                    "events_url": "https://api.github.com/users/axuan731/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/axuan731/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 13,
                "created_at": "2021-08-19T05:34:57Z",
                "updated_at": "2021-09-02T02:50:32Z",
                "closed_at": "2021-09-02T02:50:32Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "repository": {
                    "id": 392899908,
                    "node_id": "MDEwOlJlcG9zaXRvcnkzOTI4OTk5MDg=",
                    "name": "MagicData-RAMC",
                    "full_name": "MagicHub-io/MagicData-RAMC",
                    "private": false,
                    "owner": {
                        "login": "MagicHub-io",
                        "id": 84372468,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjg0MzcyNDY4",
                        "avatar_url": "https://avatars.githubusercontent.com/u/84372468?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/MagicHub-io",
                        "html_url": "https://github.com/MagicHub-io",
                        "followers_url": "https://api.github.com/users/MagicHub-io/followers",
                        "following_url": "https://api.github.com/users/MagicHub-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/MagicHub-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/MagicHub-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/MagicHub-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/MagicHub-io/orgs",
                        "repos_url": "https://api.github.com/users/MagicHub-io/repos",
                        "events_url": "https://api.github.com/users/MagicHub-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/MagicHub-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "html_url": "https://github.com/MagicHub-io/MagicData-RAMC",
                    "description": "MagicData-RAMC Dataset and Baseline",
                    "fork": false,
                    "url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC",
                    "forks_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/forks",
                    "keys_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/keys{/key_id}",
                    "collaborators_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/collaborators{/collaborator}",
                    "teams_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/teams",
                    "hooks_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/hooks",
                    "issue_events_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/issues/events{/number}",
                    "events_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/events",
                    "assignees_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/assignees{/user}",
                    "branches_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/branches{/branch}",
                    "tags_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/tags",
                    "blobs_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/git/blobs{/sha}",
                    "git_tags_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/git/tags{/sha}",
                    "git_refs_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/git/refs{/sha}",
                    "trees_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/git/trees{/sha}",
                    "statuses_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/statuses/{sha}",
                    "languages_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/languages",
                    "stargazers_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/stargazers",
                    "contributors_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/contributors",
                    "subscribers_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/subscribers",
                    "subscription_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/subscription",
                    "commits_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/commits{/sha}",
                    "git_commits_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/git/commits{/sha}",
                    "comments_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/comments{/number}",
                    "issue_comment_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/issues/comments{/number}",
                    "contents_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/contents/{+path}",
                    "compare_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/compare/{base}...{head}",
                    "merges_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/merges",
                    "archive_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/{archive_format}{/ref}",
                    "downloads_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/downloads",
                    "issues_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/issues{/number}",
                    "pulls_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/pulls{/number}",
                    "milestones_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/milestones{/number}",
                    "notifications_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/notifications{?since,all,participating}",
                    "labels_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/labels{/name}",
                    "releases_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/releases{/id}",
                    "deployments_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/deployments",
                    "created_at": "2021-08-05T04:19:34Z",
                    "updated_at": "2022-12-11T15:56:36Z",
                    "pushed_at": "2022-09-13T08:02:23Z",
                    "git_url": "git://github.com/MagicHub-io/MagicData-RAMC.git",
                    "ssh_url": "git@github.com:MagicHub-io/MagicData-RAMC.git",
                    "clone_url": "https://github.com/MagicHub-io/MagicData-RAMC.git",
                    "svn_url": "https://github.com/MagicHub-io/MagicData-RAMC",
                    "homepage": "https://arxiv.org/pdf/2203.16844",
                    "size": 1481,
                    "stargazers_count": 31,
                    "watchers_count": 31,
                    "language": "Shell",
                    "has_issues": true,
                    "has_projects": true,
                    "has_downloads": true,
                    "has_wiki": true,
                    "has_pages": false,
                    "has_discussions": false,
                    "forks_count": 12,
                    "mirror_url": null,
                    "archived": false,
                    "disabled": false,
                    "open_issues_count": 2,
                    "license": null,
                    "allow_forking": true,
                    "is_template": false,
                    "web_commit_signoff_required": false,
                    "topics": [],
                    "visibility": "public",
                    "forks": 12,
                    "open_issues": 2,
                    "watchers": 31,
                    "default_branch": "main",
                    "permissions": {
                        "admin": false,
                        "maintain": false,
                        "push": false,
                        "triage": false,
                        "pull": true
                    }
                },
                "body": "When I started to run step3, the job began to cycle infinitely, and I had to stop it. The log shows that \"Removing initializer 'metric.weight'. It is not used by any node and should be removed from the model.\" Thanks for solving my problem!!!\r\n\r\npython VBx/predict.py --in-file-list ./data/magicdata160h_dev_test/dia_part/exp/CTS-CN-F2F-2019-11-15-160_wav_list.txt --in-lab-dir ./data/magicdata160h_dev_test/dia_part/vad --in-wav-dir /home/duyuxuan/dataset/WAV/ --out-ark-fn ./data/magicdata160h_dev_test/dia_part/embedding/CTS-CN-F2F-2019-11-15-160.ark --out-seg-fn ./data/magicdata160h_dev_test/dia_part/embedding/CTS-CN-F2F-2019-11-15-160.seg --weights VBx/models/ResNet101_16kHz/nnet/final.onnx --backend onnx \r\nStarted at Thu Aug 19 13:02:50 CST 2021\r\n\r\n2021-08-19 13:04:08.147775185 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'metric.weight'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.636777410 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer4.2.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.639711282 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer4.2.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641722807 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer4.2.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641747597 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer4.1.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641755698 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer4.1.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641762960 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer4.0.shortcut.1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641774343 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer4.0.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641783351 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.9.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641791103 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.9.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641799203 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.9.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641807164 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.8.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641817709 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.12.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641825949 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.12.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641837262 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer1.0.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641845363 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.21.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641854999 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.3.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641865474 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer1.1.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641886005 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.15.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641894595 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.19.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641901578 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.17.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641914357 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.1.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641922527 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.6.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641929581 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.11.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641938449 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.0.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641946550 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.10.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641955209 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.11.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641963310 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.0.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641971829 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer2.3.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641978463 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer2.3.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641985726 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer2.3.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.641993826 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer1.1.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.642003743 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.20.bn2.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.642013799 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer1.0.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n2021-08-19 13:04:10.642020083 [W:onnxruntime:, graph.cc:3211 CleanUnusedInitializers] Removing initializer 'layer3.20.bn3.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\n\r\n..........",
                "reactions": {
                    "url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/issues/5/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/MagicHub-io/MagicData-RAMC/issues/5/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "event": "cross-referenced"
    },
    {
        "actor": {
            "login": "ibaiGorordo",
            "id": 43162939,
            "node_id": "MDQ6VXNlcjQzMTYyOTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/43162939?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ibaiGorordo",
            "html_url": "https://github.com/ibaiGorordo",
            "followers_url": "https://api.github.com/users/ibaiGorordo/followers",
            "following_url": "https://api.github.com/users/ibaiGorordo/following{/other_user}",
            "gists_url": "https://api.github.com/users/ibaiGorordo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ibaiGorordo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ibaiGorordo/subscriptions",
            "organizations_url": "https://api.github.com/users/ibaiGorordo/orgs",
            "repos_url": "https://api.github.com/users/ibaiGorordo/repos",
            "events_url": "https://api.github.com/users/ibaiGorordo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ibaiGorordo/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-09-13T13:48:16Z",
        "updated_at": "2021-09-13T13:48:16Z",
        "source": {
            "type": "issue",
            "issue": {
                "url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/issues/137",
                "repository_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo",
                "labels_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/issues/137/labels{/name}",
                "comments_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/issues/137/comments",
                "events_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/issues/137/events",
                "html_url": "https://github.com/PINTO0309/PINTO_model_zoo/issues/137",
                "id": 994915489,
                "node_id": "MDU6SXNzdWU5OTQ5MTU0ODk=",
                "number": 137,
                "title": "ONNX PackNet-SfM Warning",
                "user": {
                    "login": "ibaiGorordo",
                    "id": 43162939,
                    "node_id": "MDQ6VXNlcjQzMTYyOTM5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/43162939?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ibaiGorordo",
                    "html_url": "https://github.com/ibaiGorordo",
                    "followers_url": "https://api.github.com/users/ibaiGorordo/followers",
                    "following_url": "https://api.github.com/users/ibaiGorordo/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ibaiGorordo/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ibaiGorordo/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ibaiGorordo/subscriptions",
                    "organizations_url": "https://api.github.com/users/ibaiGorordo/orgs",
                    "repos_url": "https://api.github.com/users/ibaiGorordo/repos",
                    "events_url": "https://api.github.com/users/ibaiGorordo/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ibaiGorordo/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1728070738,
                        "node_id": "MDU6TGFiZWwxNzI4MDcwNzM4",
                        "url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/labels/enhancement",
                        "name": "enhancement",
                        "color": "a2eeef",
                        "default": true,
                        "description": "New feature or request"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2021-09-13T13:48:16Z",
                "updated_at": "2021-11-16T15:13:23Z",
                "closed_at": "2021-11-16T15:13:22Z",
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "repository": {
                    "id": 227367327,
                    "node_id": "MDEwOlJlcG9zaXRvcnkyMjczNjczMjc=",
                    "name": "PINTO_model_zoo",
                    "full_name": "PINTO0309/PINTO_model_zoo",
                    "private": false,
                    "owner": {
                        "login": "PINTO0309",
                        "id": 33194443,
                        "node_id": "MDQ6VXNlcjMzMTk0NDQz",
                        "avatar_url": "https://avatars.githubusercontent.com/u/33194443?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/PINTO0309",
                        "html_url": "https://github.com/PINTO0309",
                        "followers_url": "https://api.github.com/users/PINTO0309/followers",
                        "following_url": "https://api.github.com/users/PINTO0309/following{/other_user}",
                        "gists_url": "https://api.github.com/users/PINTO0309/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/PINTO0309/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/PINTO0309/subscriptions",
                        "organizations_url": "https://api.github.com/users/PINTO0309/orgs",
                        "repos_url": "https://api.github.com/users/PINTO0309/repos",
                        "events_url": "https://api.github.com/users/PINTO0309/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/PINTO0309/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "html_url": "https://github.com/PINTO0309/PINTO_model_zoo",
                    "description": "A repository for storing models that have been inter-converted between various frameworks. Supported frameworks are TensorFlow, PyTorch, ONNX, OpenVINO, TFJS, TFTRT, TensorFlowLite (Float32/16/INT8), EdgeTPU, CoreML.",
                    "fork": false,
                    "url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo",
                    "forks_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/forks",
                    "keys_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/keys{/key_id}",
                    "collaborators_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/collaborators{/collaborator}",
                    "teams_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/teams",
                    "hooks_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/hooks",
                    "issue_events_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/issues/events{/number}",
                    "events_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/events",
                    "assignees_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/assignees{/user}",
                    "branches_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/branches{/branch}",
                    "tags_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/tags",
                    "blobs_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/git/blobs{/sha}",
                    "git_tags_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/git/tags{/sha}",
                    "git_refs_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/git/refs{/sha}",
                    "trees_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/git/trees{/sha}",
                    "statuses_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/statuses/{sha}",
                    "languages_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/languages",
                    "stargazers_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/stargazers",
                    "contributors_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/contributors",
                    "subscribers_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/subscribers",
                    "subscription_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/subscription",
                    "commits_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/commits{/sha}",
                    "git_commits_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/git/commits{/sha}",
                    "comments_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/comments{/number}",
                    "issue_comment_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/issues/comments{/number}",
                    "contents_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/contents/{+path}",
                    "compare_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/compare/{base}...{head}",
                    "merges_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/merges",
                    "archive_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/{archive_format}{/ref}",
                    "downloads_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/downloads",
                    "issues_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/issues{/number}",
                    "pulls_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/pulls{/number}",
                    "milestones_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/milestones{/number}",
                    "notifications_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/notifications{?since,all,participating}",
                    "labels_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/labels{/name}",
                    "releases_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/releases{/id}",
                    "deployments_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/deployments",
                    "created_at": "2019-12-11T13:02:40Z",
                    "updated_at": "2022-12-20T06:19:29Z",
                    "pushed_at": "2022-12-20T09:28:11Z",
                    "git_url": "git://github.com/PINTO0309/PINTO_model_zoo.git",
                    "ssh_url": "git@github.com:PINTO0309/PINTO_model_zoo.git",
                    "clone_url": "https://github.com/PINTO0309/PINTO_model_zoo.git",
                    "svn_url": "https://github.com/PINTO0309/PINTO_model_zoo",
                    "homepage": "https://qiita.com/PINTO",
                    "size": 181624,
                    "stargazers_count": 2340,
                    "watchers_count": 2340,
                    "language": "Python",
                    "has_issues": true,
                    "has_projects": false,
                    "has_downloads": true,
                    "has_wiki": true,
                    "has_pages": true,
                    "has_discussions": true,
                    "forks_count": 417,
                    "mirror_url": null,
                    "archived": false,
                    "disabled": false,
                    "open_issues_count": 5,
                    "license": {
                        "key": "mit",
                        "name": "MIT License",
                        "spdx_id": "MIT",
                        "url": "https://api.github.com/licenses/mit",
                        "node_id": "MDc6TGljZW5zZTEz"
                    },
                    "allow_forking": true,
                    "is_template": false,
                    "web_commit_signoff_required": false,
                    "topics": [
                        "caffe",
                        "computer-vision",
                        "coreml",
                        "edgetpu",
                        "keras",
                        "mediapipe",
                        "model",
                        "model-zoo",
                        "models",
                        "onnx",
                        "openvino",
                        "pretrained-models",
                        "pytorch",
                        "tensorflow",
                        "tensorflow-lite",
                        "tensorflowjs",
                        "tf-trt",
                        "tfjs",
                        "tflite",
                        "tflite-models"
                    ],
                    "visibility": "public",
                    "forks": 417,
                    "open_issues": 5,
                    "watchers": 2340,
                    "default_branch": "main",
                    "permissions": {
                        "admin": false,
                        "maintain": false,
                        "push": false,
                        "triage": false,
                        "pull": true
                    }
                },
                "body": "#### 1. OS you are using e.g. Ubuntu 20.04, WIndows10, etc: Windows 10\r\n#### 2. OS Architecture e.g. x86_64, armv7l, aarch64, etc: x86_64\r\n#### 3. Version of ONNX e.g. v1.8.0: 1.10.1\r\n#### 4. URL of the repository from which the transformed model was taken: \r\nhttps://github.com/PINTO0309/PINTO_model_zoo/tree/main/147_PackNet-SfM\r\n#### 5. URL or source code for simple inference testing code\r\n```\r\nimport onnxruntime\r\n\r\nmodel_path = \"models/packnet01_mr_selfsup_k_192x640.onnx\"\r\nsession = onnxruntime.InferenceSession(model_path)\r\n```\r\n#### 6. Issue Details\r\n\r\nIt is not really an issue, the model works well, but these warning appear when loading the model:\r\n\r\n>...\r\n2021-09-13 22:42:59.9265450 [W:onnxruntime:, graph.cc:3211 onnxruntime::Graph::CleanUnusedInitializers] Removing initializer '1452'. It is not used by any node and should be removed from the model.\r\n2021-09-13 22:42:59.9268221 [W:onnxruntime:, graph.cc:3211 onnxruntime::Graph::CleanUnusedInitializers] Removing initializer '1540'. It is not used by any node and should be removed from the model.\r\n2021-09-13 22:42:59.9271185 [W:onnxruntime:, graph.cc:3211 onnxruntime::Graph::CleanUnusedInitializers] Removing initializer '1791'. It is not used by any node and should be removed from the model.\r\n2021-09-13 22:42:59.9274412 [W:onnxruntime:, graph.cc:3211 onnxruntime::Graph::CleanUnusedInitializers] Removing initializer '2024'. It is not used by any node and should be removed from the model.\r\n2021-09-13 22:42:59.9277331 [W:onnxruntime:, graph.cc:3211 onnxruntime::Graph::CleanUnusedInitializers] Removing initializer '2290'. It is not used by any node and should be removed from the model.\r\n\r\nThe warnings are removed by using the script in this issue to update the onnx model: https://github.com/microsoft/onnxruntime/issues/1899#issuecomment-840596510\r\n\r\n```\r\nimport onnx\r\nimport onnxoptimizer\r\n\r\nonnx_model = onnx.load(onnxfile)\r\npasses = [\"extract_constant_to_initializer\", \"eliminate_unused_initializer\"]\r\noptimized_model = onnxoptimizer.optimize(onnx_model, passes)\r\n\r\nonnx.save(optimized_model, onnxfile)\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/issues/137/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/PINTO0309/PINTO_model_zoo/issues/137/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "event": "cross-referenced"
    },
    {
        "actor": {
            "login": "michaelnguyen11",
            "id": 32232707,
            "node_id": "MDQ6VXNlcjMyMjMyNzA3",
            "avatar_url": "https://avatars.githubusercontent.com/u/32232707?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelnguyen11",
            "html_url": "https://github.com/michaelnguyen11",
            "followers_url": "https://api.github.com/users/michaelnguyen11/followers",
            "following_url": "https://api.github.com/users/michaelnguyen11/following{/other_user}",
            "gists_url": "https://api.github.com/users/michaelnguyen11/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/michaelnguyen11/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/michaelnguyen11/subscriptions",
            "organizations_url": "https://api.github.com/users/michaelnguyen11/orgs",
            "repos_url": "https://api.github.com/users/michaelnguyen11/repos",
            "events_url": "https://api.github.com/users/michaelnguyen11/events{/privacy}",
            "received_events_url": "https://api.github.com/users/michaelnguyen11/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-11-02T04:49:41Z",
        "updated_at": "2021-11-02T04:49:41Z",
        "source": {
            "type": "issue",
            "issue": {
                "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9635",
                "repository_url": "https://api.github.com/repos/microsoft/onnxruntime",
                "labels_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9635/labels{/name}",
                "comments_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9635/comments",
                "events_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9635/events",
                "html_url": "https://github.com/microsoft/onnxruntime/issues/9635",
                "id": 1040873774,
                "node_id": "I_kwDOCVq1mM4-Cnku",
                "number": 9635,
                "title": "Weight's raw_data is empty so it leads to quantize weight failure",
                "user": {
                    "login": "michaelnguyen11",
                    "id": 32232707,
                    "node_id": "MDQ6VXNlcjMyMjMyNzA3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/32232707?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelnguyen11",
                    "html_url": "https://github.com/michaelnguyen11",
                    "followers_url": "https://api.github.com/users/michaelnguyen11/followers",
                    "following_url": "https://api.github.com/users/michaelnguyen11/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelnguyen11/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelnguyen11/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelnguyen11/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelnguyen11/orgs",
                    "repos_url": "https://api.github.com/users/michaelnguyen11/repos",
                    "events_url": "https://api.github.com/users/michaelnguyen11/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelnguyen11/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1607058914,
                        "node_id": "MDU6TGFiZWwxNjA3MDU4OTE0",
                        "url": "https://api.github.com/repos/microsoft/onnxruntime/labels/quantization",
                        "name": "quantization",
                        "color": "C2E0C6",
                        "default": false,
                        "description": "issues related to quantization"
                    },
                    {
                        "id": 2286118846,
                        "node_id": "MDU6TGFiZWwyMjg2MTE4ODQ2",
                        "url": "https://api.github.com/repos/microsoft/onnxruntime/labels/stale",
                        "name": "stale",
                        "color": "C5DEF5",
                        "default": false,
                        "description": "issues that have not been addressed in a while; categorized by a bot"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "yufenglee",
                    "id": 30486710,
                    "node_id": "MDQ6VXNlcjMwNDg2NzEw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yufenglee",
                    "html_url": "https://github.com/yufenglee",
                    "followers_url": "https://api.github.com/users/yufenglee/followers",
                    "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
                    "organizations_url": "https://api.github.com/users/yufenglee/orgs",
                    "repos_url": "https://api.github.com/users/yufenglee/repos",
                    "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yufenglee/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "yufenglee",
                        "id": 30486710,
                        "node_id": "MDQ6VXNlcjMwNDg2NzEw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/yufenglee",
                        "html_url": "https://github.com/yufenglee",
                        "followers_url": "https://api.github.com/users/yufenglee/followers",
                        "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
                        "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
                        "organizations_url": "https://api.github.com/users/yufenglee/orgs",
                        "repos_url": "https://api.github.com/users/yufenglee/repos",
                        "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/yufenglee/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 4,
                "created_at": "2021-11-01T07:54:05Z",
                "updated_at": "2022-04-18T19:54:32Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "repository": {
                    "id": 156939672,
                    "node_id": "MDEwOlJlcG9zaXRvcnkxNTY5Mzk2NzI=",
                    "name": "onnxruntime",
                    "full_name": "microsoft/onnxruntime",
                    "private": false,
                    "owner": {
                        "login": "microsoft",
                        "id": 6154722,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjYxNTQ3MjI=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/6154722?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/microsoft",
                        "html_url": "https://github.com/microsoft",
                        "followers_url": "https://api.github.com/users/microsoft/followers",
                        "following_url": "https://api.github.com/users/microsoft/following{/other_user}",
                        "gists_url": "https://api.github.com/users/microsoft/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/microsoft/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/microsoft/subscriptions",
                        "organizations_url": "https://api.github.com/users/microsoft/orgs",
                        "repos_url": "https://api.github.com/users/microsoft/repos",
                        "events_url": "https://api.github.com/users/microsoft/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/microsoft/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "html_url": "https://github.com/microsoft/onnxruntime",
                    "description": "ONNX Runtime: cross-platform, high performance ML inferencing and training accelerator",
                    "fork": false,
                    "url": "https://api.github.com/repos/microsoft/onnxruntime",
                    "forks_url": "https://api.github.com/repos/microsoft/onnxruntime/forks",
                    "keys_url": "https://api.github.com/repos/microsoft/onnxruntime/keys{/key_id}",
                    "collaborators_url": "https://api.github.com/repos/microsoft/onnxruntime/collaborators{/collaborator}",
                    "teams_url": "https://api.github.com/repos/microsoft/onnxruntime/teams",
                    "hooks_url": "https://api.github.com/repos/microsoft/onnxruntime/hooks",
                    "issue_events_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events{/number}",
                    "events_url": "https://api.github.com/repos/microsoft/onnxruntime/events",
                    "assignees_url": "https://api.github.com/repos/microsoft/onnxruntime/assignees{/user}",
                    "branches_url": "https://api.github.com/repos/microsoft/onnxruntime/branches{/branch}",
                    "tags_url": "https://api.github.com/repos/microsoft/onnxruntime/tags",
                    "blobs_url": "https://api.github.com/repos/microsoft/onnxruntime/git/blobs{/sha}",
                    "git_tags_url": "https://api.github.com/repos/microsoft/onnxruntime/git/tags{/sha}",
                    "git_refs_url": "https://api.github.com/repos/microsoft/onnxruntime/git/refs{/sha}",
                    "trees_url": "https://api.github.com/repos/microsoft/onnxruntime/git/trees{/sha}",
                    "statuses_url": "https://api.github.com/repos/microsoft/onnxruntime/statuses/{sha}",
                    "languages_url": "https://api.github.com/repos/microsoft/onnxruntime/languages",
                    "stargazers_url": "https://api.github.com/repos/microsoft/onnxruntime/stargazers",
                    "contributors_url": "https://api.github.com/repos/microsoft/onnxruntime/contributors",
                    "subscribers_url": "https://api.github.com/repos/microsoft/onnxruntime/subscribers",
                    "subscription_url": "https://api.github.com/repos/microsoft/onnxruntime/subscription",
                    "commits_url": "https://api.github.com/repos/microsoft/onnxruntime/commits{/sha}",
                    "git_commits_url": "https://api.github.com/repos/microsoft/onnxruntime/git/commits{/sha}",
                    "comments_url": "https://api.github.com/repos/microsoft/onnxruntime/comments{/number}",
                    "issue_comment_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments{/number}",
                    "contents_url": "https://api.github.com/repos/microsoft/onnxruntime/contents/{+path}",
                    "compare_url": "https://api.github.com/repos/microsoft/onnxruntime/compare/{base}...{head}",
                    "merges_url": "https://api.github.com/repos/microsoft/onnxruntime/merges",
                    "archive_url": "https://api.github.com/repos/microsoft/onnxruntime/{archive_format}{/ref}",
                    "downloads_url": "https://api.github.com/repos/microsoft/onnxruntime/downloads",
                    "issues_url": "https://api.github.com/repos/microsoft/onnxruntime/issues{/number}",
                    "pulls_url": "https://api.github.com/repos/microsoft/onnxruntime/pulls{/number}",
                    "milestones_url": "https://api.github.com/repos/microsoft/onnxruntime/milestones{/number}",
                    "notifications_url": "https://api.github.com/repos/microsoft/onnxruntime/notifications{?since,all,participating}",
                    "labels_url": "https://api.github.com/repos/microsoft/onnxruntime/labels{/name}",
                    "releases_url": "https://api.github.com/repos/microsoft/onnxruntime/releases{/id}",
                    "deployments_url": "https://api.github.com/repos/microsoft/onnxruntime/deployments",
                    "created_at": "2018-11-10T02:22:53Z",
                    "updated_at": "2022-12-20T19:02:34Z",
                    "pushed_at": "2022-12-20T19:11:59Z",
                    "git_url": "git://github.com/microsoft/onnxruntime.git",
                    "ssh_url": "git@github.com:microsoft/onnxruntime.git",
                    "clone_url": "https://github.com/microsoft/onnxruntime.git",
                    "svn_url": "https://github.com/microsoft/onnxruntime",
                    "homepage": "https://www.onnxruntime.ai",
                    "size": 1018648,
                    "stargazers_count": 7949,
                    "watchers_count": 7949,
                    "language": "C++",
                    "has_issues": true,
                    "has_projects": true,
                    "has_downloads": true,
                    "has_wiki": true,
                    "has_pages": true,
                    "has_discussions": true,
                    "forks_count": 1862,
                    "mirror_url": null,
                    "archived": false,
                    "disabled": false,
                    "open_issues_count": 1453,
                    "license": {
                        "key": "mit",
                        "name": "MIT License",
                        "spdx_id": "MIT",
                        "url": "https://api.github.com/licenses/mit",
                        "node_id": "MDc6TGljZW5zZTEz"
                    },
                    "allow_forking": true,
                    "is_template": false,
                    "web_commit_signoff_required": false,
                    "topics": [
                        "ai-framework",
                        "deep-learning",
                        "hacktoberfest",
                        "hardware-acceleration",
                        "machine-learning",
                        "neural-networks",
                        "onnx",
                        "pytorch",
                        "scikit-learn",
                        "tensorflow"
                    ],
                    "visibility": "public",
                    "forks": 1862,
                    "open_issues": 1453,
                    "watchers": 7949,
                    "default_branch": "main",
                    "permissions": {
                        "admin": false,
                        "maintain": true,
                        "push": true,
                        "triage": true,
                        "pull": true
                    }
                },
                "body": "**Describe the bug**\r\nWe converted a Pytorch model to ONNX model. The ONNX model can inference with OnnxRuntime.\r\nNow We want to quantize that model to run on mobile device, so I used static quantization method to quantize that model. However the quantization process is failed with error code : \r\n```\r\n  File \"quantize_cpu.py\", line 155, in main\r\n    quantize_static(input_model_path,\r\n  File \"/home/test/anaconda3/envs/test/lib/python3.8/site-packages/onnxruntime/quantization/quantize.py\", line 234, in quantize_static\r\n    quantizer.quantize_model()\r\n  File \"/home/test/anaconda3/envs/test/lib/python3.8/site-packages/onnxruntime/quantization/onnx_quantizer.py\", line 284, in quantize_model\r\n    op_quantizer.quantize()\r\n  File \"/home/test/anaconda3/envs/test/lib/python3.8/site-packages/onnxruntime/quantization/operators/concat.py\", line 15, in quantize\r\n    (q_input_names, zero_point_names, scale_names, nodes) = self.quantizer.quantize_inputs(node, [*range(0, len(node.input))])\r\n  File \"/home/test/anaconda3/envs/test/lib/python3.8/site-packages/onnxruntime/quantization/onnx_quantizer.py\", line 643, in quantize_inputs\r\n    q_weight_name, zp_name, scale_name = self.quantize_weight(\r\n  File \"/home/test/anaconda3/envs/test/lib/python3.8/site-packages/onnxruntime/quantization/onnx_quantizer.py\", line 709, in quantize_weight\r\n    _, _, zero_point, scale, q_weight_data = quantize_data(weight_data.flatten().tolist(),\r\n  File \"/home/test/anaconda3/envs/test/lib/python3.8/site-packages/onnxruntime/quantization/quant_utils.py\", line 166, in quantize_data\r\n    rmin = min(data)\r\nValueError: min() arg is an empty sequence\r\n```\r\n\r\nDived into debug this, I found that : because raw_data of that weight name is empty, therefore the data passed to quantize_data function is empty, hence min() function error.\r\n\r\nPrint all nodes of ONNX model, raw data of this weight name is empty.\r\n```\r\n  initializer {\r\n    dims: 1\r\n    dims: 1\r\n    dims: 1\r\n    dims: 30\r\n    dims: 0\r\n    data_type: 1\r\n    name: \"482\"\r\n    raw_data: \"\"\r\n  }\r\n```\r\n\r\n**Urgency**\r\nYes, this model is our release in Q4/2021. So we need to fix it as soon as possible.\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): 16.04\r\n- ONNX Runtime installed from (source or binary):\r\n- ONNX Runtime version: 1.9.0\r\n- Python version: 3.8.12\r\n- Visual Studio version (if applicable):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 10.2\r\n- GPU model and memory: GeForce GTX 1050 Ti\r\n\r\n**To Reproduce**\r\nMy quantization code:\r\n```\r\nimport os\r\nimport numpy as np\r\nimport argparse\r\nimport time\r\nfrom PIL import Image\r\nfrom numpy.lib.function_base import bartlett\r\nimport cv2\r\n\r\nimport onnx\r\nimport onnxruntime\r\nfrom onnxruntime.quantization import quantize_static, CalibrationDataReader, QuantFormat, QuantType\r\n\r\n\r\nclass RealtimeStereoDataReader(CalibrationDataReader):\r\n    def __init__(self, calibration_image_folder, augmented_model_path):\r\n        self.image_folder = calibration_image_folder\r\n        self.augmented_model_path = augmented_model_path\r\n        self.preprocess_flag = True\r\n        self.enum_data_dicts = None\r\n\r\n        self.session = onnxruntime.InferenceSession(self.augmented_model_path, None)\r\n\r\n        self.inname = [input.name for input in self.session.get_inputs()]\r\n        self.outname = [output.name for output in self.session.get_outputs()]\r\n\r\n        print(\"inname {}, outname {}\".format(self.inname, self.outname))\r\n\r\n        # get model input info\r\n        self.input_shape = self.session.get_inputs()[0].shape\r\n        self.channels = self.input_shape[2]\r\n        self.input_height = self.input_shape[2]\r\n        self.input_width = self.input_shape[3]\r\n        print(\"input_shape {}\".format(self.input_shape))\r\n\r\n        # get model output info\r\n        self.output_shape = self.session.get_outputs()[0].shape\r\n        print(\"output_shape {}\".format(self.output_shape))\r\n\r\n    def get_next(self):\r\n        if self.preprocess_flag:\r\n            self.preprocess_flag = False\r\n            data = self.loadKittiDataset(self.image_folder)\r\n            self.enum_data_dicts = iter(data)\r\n\r\n        return next(self.enum_data_dicts, None)\r\n\r\n\r\n    def loadKittiDataset(self, images_folder):\r\n        left_fold  = 'image_2/'\r\n        right_fold = 'image_3/'\r\n\r\n        image = [img for img in os.listdir(images_folder + left_fold) if img.find('_10') > -1]\r\n\r\n        left_path_list  = [images_folder + left_fold + img for img in image]\r\n        right_path_list = [images_folder + right_fold + img for img in image]\r\n\r\n        data = []\r\n\r\n        for idx in range(len(left_path_list)):\r\n            left_input = self.preprocess(left_path_list[idx])\r\n            right_input = self.preprocess(right_path_list[idx])\r\n            data.append({self.inname[0] : left_input, self.inname[1] : right_input})\r\n\r\n        return data\r\n\r\n    def preprocess(self, image_path):\r\n        image = cv2.imread(image_path)\r\n        img = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)\r\n        img_input = cv2.resize(img, (self.input_width,self.input_height)).astype(np.float32)\r\n\r\n        # Scale input pixel values to -1 to 1\r\n        mean=[0.485, 0.456, 0.406]\r\n        std=[0.229, 0.224, 0.225]\r\n\r\n        img_input = ((img_input/ 255.0 - mean) / std)\r\n        img_input = img_input.transpose(2, 0, 1)\r\n        img_input = img_input[np.newaxis,:,:,:]\r\n\r\n        return img_input.astype(np.float32)\r\n\r\ndef main():\r\n    parser = argparse.ArgumentParser()\r\n    parser.add_argument(\"--input_model\", required=True, help=\"input model\")\r\n    parser.add_argument(\"--output_model\", required=True, help=\"output model\")\r\n    parser.add_argument(\"--calibrate_dataset\", default=\"./test_images\", help=\"calibration data set\")\r\n    parser.add_argument(\"--quant_format\",\r\n                        default=QuantFormat.QOperator,\r\n                        type=QuantFormat.from_string,\r\n                        choices=list(QuantFormat))\r\n    parser.add_argument(\"--per_channel\", default=True, type=bool)\r\n    args = parser.parse_args()\r\n\r\n    input_model_path = args.input_model\r\n    output_model_path = args.output_model\r\n    calibration_dataset_path = args.calibrate_dataset\r\n\r\n    # onnx_model = onnx.load(input_model_path)\r\n    # print('all layers of onnx model :')\r\n    # print(onnx_model)\r\n    # print('=======================')\r\n\r\n    # print('calibration_dataset_path : {}'.format(calibration_dataset_path))\r\n    dr = RealtimeStereoDataReader(calibration_dataset_path, input_model_path)\r\n\r\n    quantize_static(input_model_path,\r\n                    output_model_path,\r\n                    dr,\r\n                    quant_format=args.quant_format,\r\n                    per_channel=args.per_channel,\r\n                    weight_type=QuantType.QUInt8)\r\n\r\n    print('Calibrated and quantized model saved.')\r\n\r\nif __name__ == '__main__':\r\n    main()\r\n```\r\n\r\nRun : python3 quantize_cpu.py --input_model realtimeStereo.onnx --output_model realtimeStereo_quant.onnx --calibrate_dataset ./test_images\r\n\r\nAttached test_images and onnx model : \r\n[test_images.zip](https://github.com/microsoft/onnxruntime/files/7451452/test_images.zip)\r\n\r\n\r\n**Expected behavior**\r\nConversion should complete as normal.\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9635/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9635/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "event": "cross-referenced"
    }
]