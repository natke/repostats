[
    {
        "id": 6889604121,
        "node_id": "LE_lADOCVq1mM5MlFkozwAAAAGapwQZ",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/6889604121",
        "actor": {
            "login": "edgchen1",
            "id": 18449977,
            "node_id": "MDQ6VXNlcjE4NDQ5OTc3",
            "avatar_url": "https://avatars.githubusercontent.com/u/18449977?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edgchen1",
            "html_url": "https://github.com/edgchen1",
            "followers_url": "https://api.github.com/users/edgchen1/followers",
            "following_url": "https://api.github.com/users/edgchen1/following{/other_user}",
            "gists_url": "https://api.github.com/users/edgchen1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/edgchen1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/edgchen1/subscriptions",
            "organizations_url": "https://api.github.com/users/edgchen1/orgs",
            "repos_url": "https://api.github.com/users/edgchen1/repos",
            "events_url": "https://api.github.com/users/edgchen1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/edgchen1/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "labeled",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2022-06-28T00:27:47Z",
        "label": {
            "name": "component:operator",
            "color": "303a93"
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1170909479",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11994#issuecomment-1170909479",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11994",
        "id": 1170909479,
        "node_id": "IC_kwDOCVq1mM5Fyqkn",
        "user": {
            "login": "fefe982",
            "id": 3244578,
            "node_id": "MDQ6VXNlcjMyNDQ1Nzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3244578?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fefe982",
            "html_url": "https://github.com/fefe982",
            "followers_url": "https://api.github.com/users/fefe982/followers",
            "following_url": "https://api.github.com/users/fefe982/following{/other_user}",
            "gists_url": "https://api.github.com/users/fefe982/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fefe982/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fefe982/subscriptions",
            "organizations_url": "https://api.github.com/users/fefe982/orgs",
            "repos_url": "https://api.github.com/users/fefe982/repos",
            "events_url": "https://api.github.com/users/fefe982/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fefe982/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-06-30T08:14:29Z",
        "updated_at": "2022-06-30T08:14:29Z",
        "author_association": "NONE",
        "body": "May be caused by the `RemoveDuplicateCastTransformer` called at the end of `InsertCastTransformer::ApplyImpl`, which is called by  `InferenceSession::TransformGraph`.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1170909479/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "fefe982",
            "id": 3244578,
            "node_id": "MDQ6VXNlcjMyNDQ1Nzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3244578?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fefe982",
            "html_url": "https://github.com/fefe982",
            "followers_url": "https://api.github.com/users/fefe982/followers",
            "following_url": "https://api.github.com/users/fefe982/following{/other_user}",
            "gists_url": "https://api.github.com/users/fefe982/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fefe982/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fefe982/subscriptions",
            "organizations_url": "https://api.github.com/users/fefe982/orgs",
            "repos_url": "https://api.github.com/users/fefe982/repos",
            "events_url": "https://api.github.com/users/fefe982/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fefe982/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1172928280",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11994#issuecomment-1172928280",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11994",
        "id": 1172928280,
        "node_id": "IC_kwDOCVq1mM5F6XcY",
        "user": {
            "login": "lazycal",
            "id": 7333325,
            "node_id": "MDQ6VXNlcjczMzMzMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7333325?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lazycal",
            "html_url": "https://github.com/lazycal",
            "followers_url": "https://api.github.com/users/lazycal/followers",
            "following_url": "https://api.github.com/users/lazycal/following{/other_user}",
            "gists_url": "https://api.github.com/users/lazycal/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lazycal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lazycal/subscriptions",
            "organizations_url": "https://api.github.com/users/lazycal/orgs",
            "repos_url": "https://api.github.com/users/lazycal/repos",
            "events_url": "https://api.github.com/users/lazycal/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lazycal/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-07-02T16:59:54Z",
        "updated_at": "2022-07-02T16:59:54Z",
        "author_association": "NONE",
        "body": "Thanks @fefe982 for the datapoint. That does sound probable. I read the code and I guess ORT considers my case as high->low->lower precision so it removes the first cast?\r\nhttps://github.com/microsoft/onnxruntime/blob/df712d80ca33b56ce7d63ca3acdb6a4888638c58/onnxruntime/core/optimizer/insert_cast_transformer.cc#L223-L226\r\nSo maybe having a better function to determine if this is a loss of precision can solve this problem? The current way does not make sense to me:\r\nhttps://github.com/microsoft/onnxruntime/blob/df712d80ca33b56ce7d63ca3acdb6a4888638c58/onnxruntime/core/optimizer/insert_cast_transformer.cc#L241-L243\r\nAnd these are the type group:\r\nhttps://github.com/microsoft/onnxruntime/blob/df712d80ca33b56ce7d63ca3acdb6a4888638c58/onnxruntime/core/optimizer/insert_cast_transformer.cc#L171-L176\r\nIt does not account for float64->float32 kind of things, and it loses precision when casting int32 to float32 but is considered not here.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1172928280/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "lazycal",
            "id": 7333325,
            "node_id": "MDQ6VXNlcjczMzMzMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7333325?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lazycal",
            "html_url": "https://github.com/lazycal",
            "followers_url": "https://api.github.com/users/lazycal/followers",
            "following_url": "https://api.github.com/users/lazycal/following{/other_user}",
            "gists_url": "https://api.github.com/users/lazycal/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lazycal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lazycal/subscriptions",
            "organizations_url": "https://api.github.com/users/lazycal/orgs",
            "repos_url": "https://api.github.com/users/lazycal/repos",
            "events_url": "https://api.github.com/users/lazycal/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lazycal/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "id": 6922356632,
        "node_id": "MEE_lADOCVq1mM5MlFkozwAAAAGcmseY",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/6922356632",
        "actor": {
            "login": "fefe982",
            "id": 3244578,
            "node_id": "MDQ6VXNlcjMyNDQ1Nzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3244578?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fefe982",
            "html_url": "https://github.com/fefe982",
            "followers_url": "https://api.github.com/users/fefe982/followers",
            "following_url": "https://api.github.com/users/fefe982/following{/other_user}",
            "gists_url": "https://api.github.com/users/fefe982/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fefe982/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fefe982/subscriptions",
            "organizations_url": "https://api.github.com/users/fefe982/orgs",
            "repos_url": "https://api.github.com/users/fefe982/repos",
            "events_url": "https://api.github.com/users/fefe982/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fefe982/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "mentioned",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2022-07-02T16:59:54Z",
        "performed_via_github_app": null
    },
    {
        "id": 6922356636,
        "node_id": "SE_lADOCVq1mM5MlFkozwAAAAGcmsec",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/6922356636",
        "actor": {
            "login": "fefe982",
            "id": 3244578,
            "node_id": "MDQ6VXNlcjMyNDQ1Nzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3244578?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fefe982",
            "html_url": "https://github.com/fefe982",
            "followers_url": "https://api.github.com/users/fefe982/followers",
            "following_url": "https://api.github.com/users/fefe982/following{/other_user}",
            "gists_url": "https://api.github.com/users/fefe982/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fefe982/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fefe982/subscriptions",
            "organizations_url": "https://api.github.com/users/fefe982/orgs",
            "repos_url": "https://api.github.com/users/fefe982/repos",
            "events_url": "https://api.github.com/users/fefe982/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fefe982/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "subscribed",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2022-07-02T16:59:55Z",
        "performed_via_github_app": null
    },
    {
        "id": 7177449364,
        "node_id": "LE_lADOCVq1mM5MlFkozwAAAAGrzy-U",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/7177449364",
        "actor": {
            "login": "sophies927",
            "id": 107952697,
            "node_id": "U_kgDOBm86OQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/107952697?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sophies927",
            "html_url": "https://github.com/sophies927",
            "followers_url": "https://api.github.com/users/sophies927/followers",
            "following_url": "https://api.github.com/users/sophies927/following{/other_user}",
            "gists_url": "https://api.github.com/users/sophies927/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sophies927/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sophies927/subscriptions",
            "organizations_url": "https://api.github.com/users/sophies927/orgs",
            "repos_url": "https://api.github.com/users/sophies927/repos",
            "events_url": "https://api.github.com/users/sophies927/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sophies927/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "labeled",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2022-08-12T08:36:52Z",
        "label": {
            "name": "core runtime",
            "color": "303a93"
        },
        "performed_via_github_app": null
    },
    {
        "id": 7177451063,
        "node_id": "UNLE_lADOCVq1mM5MlFkozwAAAAGrzzY3",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/7177451063",
        "actor": {
            "login": "sophies927",
            "id": 107952697,
            "node_id": "U_kgDOBm86OQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/107952697?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sophies927",
            "html_url": "https://github.com/sophies927",
            "followers_url": "https://api.github.com/users/sophies927/followers",
            "following_url": "https://api.github.com/users/sophies927/following{/other_user}",
            "gists_url": "https://api.github.com/users/sophies927/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sophies927/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sophies927/subscriptions",
            "organizations_url": "https://api.github.com/users/sophies927/orgs",
            "repos_url": "https://api.github.com/users/sophies927/repos",
            "events_url": "https://api.github.com/users/sophies927/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sophies927/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "unlabeled",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2022-08-12T08:37:05Z",
        "label": {
            "name": "component:operator",
            "color": "303a93"
        },
        "performed_via_github_app": null
    }
]