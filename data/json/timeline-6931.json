[
    {
        "id": 4422524714,
        "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MjI1MjQ3MTQ=",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4422524714",
        "actor": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "labeled",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-03-08T17:26:35Z",
        "label": {
            "name": "type:support",
            "color": "a2eeef"
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/792978042",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6931#issuecomment-792978042",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6931",
        "id": 792978042,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5Mjk3ODA0Mg==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-08T18:34:19Z",
        "updated_at": "2021-03-08T18:34:19Z",
        "author_association": "MEMBER",
        "body": "you should be able to run it with the single input which is primary input. Checkout same example here for GPT-2:\r\nhttps://github.com/onnx/models/tree/master/text/machine_comprehension/gpt-2",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/792978042/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "id": 4424190677,
        "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MjQxOTA2Nzc=",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4424190677",
        "actor": {
            "login": "faxu",
            "id": 20780999,
            "node_id": "MDQ6VXNlcjIwNzgwOTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/20780999?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/faxu",
            "html_url": "https://github.com/faxu",
            "followers_url": "https://api.github.com/users/faxu/followers",
            "following_url": "https://api.github.com/users/faxu/following{/other_user}",
            "gists_url": "https://api.github.com/users/faxu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/faxu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/faxu/subscriptions",
            "organizations_url": "https://api.github.com/users/faxu/orgs",
            "repos_url": "https://api.github.com/users/faxu/repos",
            "events_url": "https://api.github.com/users/faxu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/faxu/received_events",
            "type": "User",
            "site_admin": true
        },
        "event": "labeled",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-03-08T23:41:08Z",
        "label": {
            "name": "model:GPT2",
            "color": "aee888"
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/793403178",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6931#issuecomment-793403178",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6931",
        "id": 793403178,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzQwMzE3OA==",
        "user": {
            "login": "vishnu-hue",
            "id": 66674757,
            "node_id": "MDQ6VXNlcjY2Njc0NzU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/66674757?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vishnu-hue",
            "html_url": "https://github.com/vishnu-hue",
            "followers_url": "https://api.github.com/users/vishnu-hue/followers",
            "following_url": "https://api.github.com/users/vishnu-hue/following{/other_user}",
            "gists_url": "https://api.github.com/users/vishnu-hue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vishnu-hue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vishnu-hue/subscriptions",
            "organizations_url": "https://api.github.com/users/vishnu-hue/orgs",
            "repos_url": "https://api.github.com/users/vishnu-hue/repos",
            "events_url": "https://api.github.com/users/vishnu-hue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vishnu-hue/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-09T05:06:54Z",
        "updated_at": "2021-03-09T05:06:54Z",
        "author_association": "NONE",
        "body": "@HectorSVC  in this example the model exported with single input and it is run with single input but in my case the model is exported with two inputs \"input_ids\" and \"past_key_values\" and i want to run it with \"input_ids\" alone.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/793403178/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "vishnu-hue",
            "id": 66674757,
            "node_id": "MDQ6VXNlcjY2Njc0NzU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/66674757?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vishnu-hue",
            "html_url": "https://github.com/vishnu-hue",
            "followers_url": "https://api.github.com/users/vishnu-hue/followers",
            "following_url": "https://api.github.com/users/vishnu-hue/following{/other_user}",
            "gists_url": "https://api.github.com/users/vishnu-hue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vishnu-hue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vishnu-hue/subscriptions",
            "organizations_url": "https://api.github.com/users/vishnu-hue/orgs",
            "repos_url": "https://api.github.com/users/vishnu-hue/repos",
            "events_url": "https://api.github.com/users/vishnu-hue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vishnu-hue/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "id": 4425375686,
        "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDQyNTM3NTY4Ng==",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4425375686",
        "actor": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "mentioned",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-03-09T05:06:54Z",
        "performed_via_github_app": null
    },
    {
        "id": 4425375689,
        "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ0MjUzNzU2ODk=",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4425375689",
        "actor": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "subscribed",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-03-09T05:06:54Z",
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/793431855",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6931#issuecomment-793431855",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6931",
        "id": 793431855,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzQzMTg1NQ==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-09T05:44:43Z",
        "updated_at": "2021-03-09T05:44:43Z",
        "author_association": "MEMBER",
        "body": "I suppose it should be find. You can give it a try and let us know if any issues. or share the model to us.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/793431855/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/793495118",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6931#issuecomment-793495118",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6931",
        "id": 793495118,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzQ5NTExOA==",
        "user": {
            "login": "vishnu-hue",
            "id": 66674757,
            "node_id": "MDQ6VXNlcjY2Njc0NzU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/66674757?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vishnu-hue",
            "html_url": "https://github.com/vishnu-hue",
            "followers_url": "https://api.github.com/users/vishnu-hue/followers",
            "following_url": "https://api.github.com/users/vishnu-hue/following{/other_user}",
            "gists_url": "https://api.github.com/users/vishnu-hue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vishnu-hue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vishnu-hue/subscriptions",
            "organizations_url": "https://api.github.com/users/vishnu-hue/orgs",
            "repos_url": "https://api.github.com/users/vishnu-hue/repos",
            "events_url": "https://api.github.com/users/vishnu-hue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vishnu-hue/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-09T07:45:23Z",
        "updated_at": "2021-03-09T07:45:23Z",
        "author_association": "NONE",
        "body": "```\r\nimport os\r\nimport torch\r\nimport onnx\r\nimport onnxruntime\r\nimport logging\r\nfrom onnxruntime.quantization import quantize_dynamic, QuantType\r\nimport numpy as np\r\nfrom transformers import GPT2Tokenizer, GPT2LMHeadModel, AutoConfig\r\nlogger = logging.getLogger('')\r\n\r\n\r\ndef export_onnx(model, config, tokenizer, device):\r\n    model.to(device)\r\n\r\n    inputs = tokenizer.encode_plus(\"Here is an example input for GPT2 model\",\r\n                                   add_special_tokens=True,\r\n                                   return_tensors='pt')\r\n    input_ids = inputs['input_ids'].to(device)\r\n    logger.debug(f\"input_ids={input_ids}\")\r\n    outputs = model(input_ids=input_ids, past_key_values=None)\r\n    assert len(outputs) == 2\r\n    logger.debug(f\"output 0 shape={outputs[0].shape}\")\r\n    #logger.debug(f\"outputs[1][0] shape={outputs[1][0].shape}\")\r\n\r\n    num_layer = model.config.n_layer\r\n    present_names = [f'present_{i}' for i in range(num_layer)]\r\n    output_names = [\"last_state\"] + present_names\r\n\r\n    input_names = ['input_ids']\r\n\r\n    # input_ids has only one word for model with past state.\r\n    # Shape of input tensors:\r\n    #    input_ids: (batch_size, 1)\r\n    #    past_{i}:  (2, batch_size, num_heads, seq_len, hidden_size/num_heads)\r\n    # Shape of output tensors:\r\n    #    last_state: (batch_size, seq_len + 1, hidden_size)\r\n    #    present_{i}:  (2, batch_size, num_heads, seq_len + 1, hidden_size/num_heads)\r\n    dynamic_axes = {'input_ids': {0: 'batch_size'}, 'last_state': {0: 'batch_size', 1: 'seq_len_plus_1'}}\r\n\r\n    for name in present_names:\r\n        dynamic_axes[name] = {1: 'batch_size', 3: 'seq_len_plus_1'}\r\n\r\n    past_names = [f'past_{i}' for i in range(num_layer)]\r\n    input_names = ['input_ids'] + past_names\r\n    dummy_past = [torch.zeros([2]+list(outputs[1][0][0].shape), dtype=torch.float32, device=device) for _ in range(num_layer)]\r\n    for name in past_names:\r\n        dynamic_axes[name] = {1: 'batch_size', 3: 'seq_len'}\r\n    logger.debug(f\"vocab_size:{model.config.vocab_size}\")\r\n\r\n    dummy_input_ids = torch.randint(low=0,\r\n                                    high=model.config.vocab_size - 1,\r\n                                    size=(1, 1),\r\n                                    dtype=torch.int64,\r\n                                    device=device)\r\n    logger.debug(f\"dummy_input_ids={dummy_input_ids}\")\r\n    export_inputs = (dummy_input_ids, tuple(dummy_past))\r\n\r\n    # Let's run performance test on PyTorch before updating environment variable.\r\n    with torch.no_grad():\r\n        outputs = model(input_ids=dummy_input_ids, past_key_values=dummy_past)\r\n\r\n    torch.onnx.export(model,\r\n                      args=export_inputs,\r\n                      f='gpt2_past.onnx',\r\n                      input_names=input_names,\r\n                      output_names=output_names,\r\n                      example_outputs=outputs,\r\n                      dynamic_axes=dynamic_axes,\r\n                      opset_version=11,\r\n                      do_constant_folding=True,\r\n                      verbose=False)\r\n    return outputs\r\n\r\n\r\ndef session_run_with_past():\r\n    tokenizer = GPT2Tokenizer.from_pretrained('distilgpt2')\r\n    model = GPT2LMHeadModel.from_pretrained('distilgpt2')\r\n    device = torch.device(\"cpu\")\r\n    model.to(device)\r\n    inputs = tokenizer.encode_plus(\"Here is an example input for GPT2 \",\r\n                                   add_special_tokens=True,\r\n                                   return_tensors='pt')\r\n    input_ids = inputs['input_ids'].to(device)\r\n    logger.debug(f\"input_ids={input_ids}\")\r\n    outputs = model(input_ids=input_ids, past_key_values=None)\r\n    cpu_model = onnxruntime.InferenceSession(\"gpt2_past.onnx\")\r\n    model_inputs = tokenizer.encode_plus(\"model\")\r\n    input = dict()\r\n    input[\"input_ids\"] = model_inputs[\"input_ids\"]\r\n    inputs_onnx = {k: np.atleast_2d(v) for k, v in input.items()}\r\n    past_key_value = [torch.zeros([len(outputs[1][0])]+list(outputs[1][0][0].shape), dtype=torch.float32, device=device) for _ in range(6)]\r\n    sequence= cpu_model.run(None, {\"input_ids\":inputs_onnx[\"input_ids\"],\"past_0\":past_key_value[0].detach().cpu().numpy(),\"past_1\":past_key_value[1].detach().cpu().numpy(),\"past_2\":past_key_value[2].detach().cpu().numpy(),\"past_3\":past_key_value[3].detach().cpu().numpy(),\"past_4\":past_key_value[4].detach().cpu().numpy(),\"past_5\":past_key_value[5].detach().cpu().numpy()})\r\n\r\n\r\ndef session_run():\r\n    tokenizer = GPT2Tokenizer.from_pretrained('distilgpt2')\r\n    cpu_model = onnxruntime.InferenceSession(\"gpt2_past.onnx\")\r\n    model_inputs = tokenizer.encode_plus(\"Here is an example input for GPT2 model\")\r\n    input = dict()\r\n    input[\"input_ids\"] = model_inputs[\"input_ids\"]\r\n    inputs_onnx = {k: np.atleast_2d(v) for k, v in input.items()}\r\n    sequence= cpu_model.run(None, {\"input_ids\":inputs_onnx[\"input_ids\"]})\r\n\r\n\r\ndef main():\r\n    tokenizer = GPT2Tokenizer.from_pretrained('distilgpt2')\r\n    model = GPT2LMHeadModel.from_pretrained('distilgpt2')\r\n    config = AutoConfig.from_pretrained('distilgpt2')\r\n    device = torch.device(\"cpu\")\r\n    export_onnx(model, config, tokenizer, device)\r\n\r\n\r\nmain()\r\nsession_run_with_past()\r\nsession_run()\r\n```\r\n\r\n\r\nIn session_run_with_past() all the inputs are given and the model runs fine but in session_run() only one input is given and i get the following error:\r\n\r\n\r\n```Traceback (most recent call last):\r\n  File \"gpt2_past_export.py\", line 115, in <module>\r\n    session_run()\r\n  File \"gpt2_past_export.py\", line 102, in session_run\r\n    sequence= cpu_model.run(None, {\"input_ids\":inputs_onnx[\"input_ids\"]})\r\n  File \"/home/vishnu/anaconda3/envs/speech-recognition/lib/python3.7/site-packages/onnxruntime/capi/session.py\", line 119, in run\r\n    raise ValueError(\"Model requires {} inputs. Input Feed contains {}\".format(num_required_inputs, num_inputs))\r\nValueError: Model requires 7 inputs. Input Feed contains 1\r\n```\r\nIs there a way to avoid this error when giving less number of inputs than the number of inputs given during export.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/793495118/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "vishnu-hue",
            "id": 66674757,
            "node_id": "MDQ6VXNlcjY2Njc0NzU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/66674757?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vishnu-hue",
            "html_url": "https://github.com/vishnu-hue",
            "followers_url": "https://api.github.com/users/vishnu-hue/followers",
            "following_url": "https://api.github.com/users/vishnu-hue/following{/other_user}",
            "gists_url": "https://api.github.com/users/vishnu-hue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vishnu-hue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vishnu-hue/subscriptions",
            "organizations_url": "https://api.github.com/users/vishnu-hue/orgs",
            "repos_url": "https://api.github.com/users/vishnu-hue/repos",
            "events_url": "https://api.github.com/users/vishnu-hue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vishnu-hue/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794237506",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6931#issuecomment-794237506",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6931",
        "id": 794237506,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDIzNzUwNg==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-09T17:58:43Z",
        "updated_at": "2021-03-09T17:58:43Z",
        "author_association": "MEMBER",
        "body": "How did you make the input as optional input?\r\nThe error message is from the code here:\r\nhttps://github.com/microsoft/onnxruntime/blob/ba51774a1f73f77948505816d8a57d405d40bd80/onnxruntime/python/onnxruntime_inference_collection.py#L182-L184\r\nThe code also confirms that we do support optional inputs.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794237506/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794865212",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6931#issuecomment-794865212",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6931",
        "id": 794865212,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDg2NTIxMg==",
        "user": {
            "login": "vishnu-hue",
            "id": 66674757,
            "node_id": "MDQ6VXNlcjY2Njc0NzU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/66674757?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vishnu-hue",
            "html_url": "https://github.com/vishnu-hue",
            "followers_url": "https://api.github.com/users/vishnu-hue/followers",
            "following_url": "https://api.github.com/users/vishnu-hue/following{/other_user}",
            "gists_url": "https://api.github.com/users/vishnu-hue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vishnu-hue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vishnu-hue/subscriptions",
            "organizations_url": "https://api.github.com/users/vishnu-hue/orgs",
            "repos_url": "https://api.github.com/users/vishnu-hue/repos",
            "events_url": "https://api.github.com/users/vishnu-hue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vishnu-hue/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-10T04:38:52Z",
        "updated_at": "2021-03-10T04:38:52Z",
        "author_association": "NONE",
        "body": "How to make the input as optional input?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794865212/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "vishnu-hue",
            "id": 66674757,
            "node_id": "MDQ6VXNlcjY2Njc0NzU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/66674757?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vishnu-hue",
            "html_url": "https://github.com/vishnu-hue",
            "followers_url": "https://api.github.com/users/vishnu-hue/followers",
            "following_url": "https://api.github.com/users/vishnu-hue/following{/other_user}",
            "gists_url": "https://api.github.com/users/vishnu-hue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vishnu-hue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vishnu-hue/subscriptions",
            "organizations_url": "https://api.github.com/users/vishnu-hue/orgs",
            "repos_url": "https://api.github.com/users/vishnu-hue/repos",
            "events_url": "https://api.github.com/users/vishnu-hue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vishnu-hue/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/796360153",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6931#issuecomment-796360153",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6931",
        "id": 796360153,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5NjM2MDE1Mw==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-11T01:41:59Z",
        "updated_at": "2021-03-11T01:41:59Z",
        "author_association": "MEMBER",
        "body": "Optional input usually initialized by Initializer. Check out the test code and example model below:\r\nhttps://github.com/pranav-prakash/onnxruntime-riscv/blob/8cc2a12407cef7fedb6b07f71e6e1c707cfcf1a7/onnxruntime/test/framework/inference_session_test.cc#L998\r\nhttps://github.com/pranav-prakash/onnxruntime-riscv/blob/2021-02-18/onnxruntime/test/testdata/optional_inputs_ir4.onnx\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/796360153/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "id": 4446545784,
        "node_id": "MDExOkNsb3NlZEV2ZW50NDQ0NjU0NTc4NA==",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4446545784",
        "actor": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "closed",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-03-11T17:42:35Z",
        "state_reason": null,
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/797405009",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6931#issuecomment-797405009",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6931",
        "id": 797405009,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5NzQwNTAwOQ==",
        "user": {
            "login": "vishnu-hue",
            "id": 66674757,
            "node_id": "MDQ6VXNlcjY2Njc0NzU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/66674757?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vishnu-hue",
            "html_url": "https://github.com/vishnu-hue",
            "followers_url": "https://api.github.com/users/vishnu-hue/followers",
            "following_url": "https://api.github.com/users/vishnu-hue/following{/other_user}",
            "gists_url": "https://api.github.com/users/vishnu-hue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vishnu-hue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vishnu-hue/subscriptions",
            "organizations_url": "https://api.github.com/users/vishnu-hue/orgs",
            "repos_url": "https://api.github.com/users/vishnu-hue/repos",
            "events_url": "https://api.github.com/users/vishnu-hue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vishnu-hue/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-12T10:45:10Z",
        "updated_at": "2021-03-12T10:45:10Z",
        "author_association": "NONE",
        "body": "Thanks for the help.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/797405009/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "vishnu-hue",
            "id": 66674757,
            "node_id": "MDQ6VXNlcjY2Njc0NzU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/66674757?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vishnu-hue",
            "html_url": "https://github.com/vishnu-hue",
            "followers_url": "https://api.github.com/users/vishnu-hue/followers",
            "following_url": "https://api.github.com/users/vishnu-hue/following{/other_user}",
            "gists_url": "https://api.github.com/users/vishnu-hue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vishnu-hue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vishnu-hue/subscriptions",
            "organizations_url": "https://api.github.com/users/vishnu-hue/orgs",
            "repos_url": "https://api.github.com/users/vishnu-hue/repos",
            "events_url": "https://api.github.com/users/vishnu-hue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vishnu-hue/received_events",
            "type": "User",
            "site_admin": false
        }
    }
]