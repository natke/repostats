[
    {
        "id": 4493260714,
        "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0OTMyNjA3MTQ=",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4493260714",
        "actor": {
            "login": "RandySheriffH",
            "id": 48490400,
            "node_id": "MDQ6VXNlcjQ4NDkwNDAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/48490400?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RandySheriffH",
            "html_url": "https://github.com/RandySheriffH",
            "followers_url": "https://api.github.com/users/RandySheriffH/followers",
            "following_url": "https://api.github.com/users/RandySheriffH/following{/other_user}",
            "gists_url": "https://api.github.com/users/RandySheriffH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RandySheriffH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RandySheriffH/subscriptions",
            "organizations_url": "https://api.github.com/users/RandySheriffH/orgs",
            "repos_url": "https://api.github.com/users/RandySheriffH/repos",
            "events_url": "https://api.github.com/users/RandySheriffH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RandySheriffH/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "labeled",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-03-23T01:11:22Z",
        "label": {
            "name": "component:coreruntime",
            "color": "303a93"
        },
        "performed_via_github_app": null
    },
    {
        "id": 4493262473,
        "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDQ5MzI2MjQ3Mw==",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4493262473",
        "actor": {
            "login": "RandySheriffH",
            "id": 48490400,
            "node_id": "MDQ6VXNlcjQ4NDkwNDAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/48490400?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RandySheriffH",
            "html_url": "https://github.com/RandySheriffH",
            "followers_url": "https://api.github.com/users/RandySheriffH/followers",
            "following_url": "https://api.github.com/users/RandySheriffH/following{/other_user}",
            "gists_url": "https://api.github.com/users/RandySheriffH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RandySheriffH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RandySheriffH/subscriptions",
            "organizations_url": "https://api.github.com/users/RandySheriffH/orgs",
            "repos_url": "https://api.github.com/users/RandySheriffH/repos",
            "events_url": "https://api.github.com/users/RandySheriffH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RandySheriffH/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "unlabeled",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-03-23T01:12:10Z",
        "label": {
            "name": "component:coreruntime",
            "color": "303a93"
        },
        "performed_via_github_app": null
    },
    {
        "id": 4493262476,
        "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0OTMyNjI0NzY=",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4493262476",
        "actor": {
            "login": "RandySheriffH",
            "id": 48490400,
            "node_id": "MDQ6VXNlcjQ4NDkwNDAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/48490400?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RandySheriffH",
            "html_url": "https://github.com/RandySheriffH",
            "followers_url": "https://api.github.com/users/RandySheriffH/followers",
            "following_url": "https://api.github.com/users/RandySheriffH/following{/other_user}",
            "gists_url": "https://api.github.com/users/RandySheriffH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RandySheriffH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RandySheriffH/subscriptions",
            "organizations_url": "https://api.github.com/users/RandySheriffH/orgs",
            "repos_url": "https://api.github.com/users/RandySheriffH/repos",
            "events_url": "https://api.github.com/users/RandySheriffH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RandySheriffH/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "labeled",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-03-23T01:12:10Z",
        "label": {
            "name": "component:converter",
            "color": "303a93"
        },
        "performed_via_github_app": null
    },
    {
        "actor": {
            "login": "II245",
            "id": 9077278,
            "node_id": "MDQ6VXNlcjkwNzcyNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9077278?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/II245",
            "html_url": "https://github.com/II245",
            "followers_url": "https://api.github.com/users/II245/followers",
            "following_url": "https://api.github.com/users/II245/following{/other_user}",
            "gists_url": "https://api.github.com/users/II245/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/II245/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/II245/subscriptions",
            "organizations_url": "https://api.github.com/users/II245/orgs",
            "repos_url": "https://api.github.com/users/II245/repos",
            "events_url": "https://api.github.com/users/II245/events{/privacy}",
            "received_events_url": "https://api.github.com/users/II245/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-23T18:58:53Z",
        "updated_at": "2021-03-23T18:58:53Z",
        "source": {
            "type": "issue",
            "issue": {
                "url": "https://api.github.com/repos/pytorch/pytorch/issues/54529",
                "repository_url": "https://api.github.com/repos/pytorch/pytorch",
                "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/54529/labels{/name}",
                "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/54529/comments",
                "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/54529/events",
                "html_url": "https://github.com/pytorch/pytorch/issues/54529",
                "id": 839027097,
                "node_id": "MDU6SXNzdWU4MzkwMjcwOTc=",
                "number": 54529,
                "title": "Segfault at onnx export of fp16 model.",
                "user": {
                    "login": "II245",
                    "id": 9077278,
                    "node_id": "MDQ6VXNlcjkwNzcyNzg=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/9077278?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/II245",
                    "html_url": "https://github.com/II245",
                    "followers_url": "https://api.github.com/users/II245/followers",
                    "following_url": "https://api.github.com/users/II245/following{/other_user}",
                    "gists_url": "https://api.github.com/users/II245/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/II245/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/II245/subscriptions",
                    "organizations_url": "https://api.github.com/users/II245/orgs",
                    "repos_url": "https://api.github.com/users/II245/repos",
                    "events_url": "https://api.github.com/users/II245/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/II245/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 693805995,
                        "node_id": "MDU6TGFiZWw2OTM4MDU5OTU=",
                        "url": "https://api.github.com/repos/pytorch/pytorch/labels/module:%20onnx",
                        "name": "module: onnx",
                        "color": "f7e101",
                        "default": false,
                        "description": "Related to torch.onnx"
                    },
                    {
                        "id": 1301347167,
                        "node_id": "MDU6TGFiZWwxMzAxMzQ3MTY3",
                        "url": "https://api.github.com/repos/pytorch/pytorch/labels/triaged",
                        "name": "triaged",
                        "color": "006b75",
                        "default": false,
                        "description": "This issue has been looked at a team member, and triaged and prioritized into an appropriate module"
                    },
                    {
                        "id": 3202390887,
                        "node_id": "MDU6TGFiZWwzMjAyMzkwODg3",
                        "url": "https://api.github.com/repos/pytorch/pytorch/labels/onnx-triaged",
                        "name": "onnx-triaged",
                        "color": "006b75",
                        "default": false,
                        "description": "triaged by ONNX team"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "BowenBao",
                    "id": 9376104,
                    "node_id": "MDQ6VXNlcjkzNzYxMDQ=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/9376104?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/BowenBao",
                    "html_url": "https://github.com/BowenBao",
                    "followers_url": "https://api.github.com/users/BowenBao/followers",
                    "following_url": "https://api.github.com/users/BowenBao/following{/other_user}",
                    "gists_url": "https://api.github.com/users/BowenBao/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/BowenBao/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/BowenBao/subscriptions",
                    "organizations_url": "https://api.github.com/users/BowenBao/orgs",
                    "repos_url": "https://api.github.com/users/BowenBao/repos",
                    "events_url": "https://api.github.com/users/BowenBao/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/BowenBao/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "BowenBao",
                        "id": 9376104,
                        "node_id": "MDQ6VXNlcjkzNzYxMDQ=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/9376104?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/BowenBao",
                        "html_url": "https://github.com/BowenBao",
                        "followers_url": "https://api.github.com/users/BowenBao/followers",
                        "following_url": "https://api.github.com/users/BowenBao/following{/other_user}",
                        "gists_url": "https://api.github.com/users/BowenBao/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/BowenBao/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/BowenBao/subscriptions",
                        "organizations_url": "https://api.github.com/users/BowenBao/orgs",
                        "repos_url": "https://api.github.com/users/BowenBao/repos",
                        "events_url": "https://api.github.com/users/BowenBao/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/BowenBao/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 1,
                "created_at": "2021-03-23T18:58:53Z",
                "updated_at": "2021-10-13T00:57:06Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "repository": {
                    "id": 65600975,
                    "node_id": "MDEwOlJlcG9zaXRvcnk2NTYwMDk3NQ==",
                    "name": "pytorch",
                    "full_name": "pytorch/pytorch",
                    "private": false,
                    "owner": {
                        "login": "pytorch",
                        "id": 21003710,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIxMDAzNzEw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/21003710?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/pytorch",
                        "html_url": "https://github.com/pytorch",
                        "followers_url": "https://api.github.com/users/pytorch/followers",
                        "following_url": "https://api.github.com/users/pytorch/following{/other_user}",
                        "gists_url": "https://api.github.com/users/pytorch/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/pytorch/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/pytorch/subscriptions",
                        "organizations_url": "https://api.github.com/users/pytorch/orgs",
                        "repos_url": "https://api.github.com/users/pytorch/repos",
                        "events_url": "https://api.github.com/users/pytorch/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/pytorch/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "html_url": "https://github.com/pytorch/pytorch",
                    "description": "Tensors and Dynamic neural networks in Python with strong GPU acceleration",
                    "fork": false,
                    "url": "https://api.github.com/repos/pytorch/pytorch",
                    "forks_url": "https://api.github.com/repos/pytorch/pytorch/forks",
                    "keys_url": "https://api.github.com/repos/pytorch/pytorch/keys{/key_id}",
                    "collaborators_url": "https://api.github.com/repos/pytorch/pytorch/collaborators{/collaborator}",
                    "teams_url": "https://api.github.com/repos/pytorch/pytorch/teams",
                    "hooks_url": "https://api.github.com/repos/pytorch/pytorch/hooks",
                    "issue_events_url": "https://api.github.com/repos/pytorch/pytorch/issues/events{/number}",
                    "events_url": "https://api.github.com/repos/pytorch/pytorch/events",
                    "assignees_url": "https://api.github.com/repos/pytorch/pytorch/assignees{/user}",
                    "branches_url": "https://api.github.com/repos/pytorch/pytorch/branches{/branch}",
                    "tags_url": "https://api.github.com/repos/pytorch/pytorch/tags",
                    "blobs_url": "https://api.github.com/repos/pytorch/pytorch/git/blobs{/sha}",
                    "git_tags_url": "https://api.github.com/repos/pytorch/pytorch/git/tags{/sha}",
                    "git_refs_url": "https://api.github.com/repos/pytorch/pytorch/git/refs{/sha}",
                    "trees_url": "https://api.github.com/repos/pytorch/pytorch/git/trees{/sha}",
                    "statuses_url": "https://api.github.com/repos/pytorch/pytorch/statuses/{sha}",
                    "languages_url": "https://api.github.com/repos/pytorch/pytorch/languages",
                    "stargazers_url": "https://api.github.com/repos/pytorch/pytorch/stargazers",
                    "contributors_url": "https://api.github.com/repos/pytorch/pytorch/contributors",
                    "subscribers_url": "https://api.github.com/repos/pytorch/pytorch/subscribers",
                    "subscription_url": "https://api.github.com/repos/pytorch/pytorch/subscription",
                    "commits_url": "https://api.github.com/repos/pytorch/pytorch/commits{/sha}",
                    "git_commits_url": "https://api.github.com/repos/pytorch/pytorch/git/commits{/sha}",
                    "comments_url": "https://api.github.com/repos/pytorch/pytorch/comments{/number}",
                    "issue_comment_url": "https://api.github.com/repos/pytorch/pytorch/issues/comments{/number}",
                    "contents_url": "https://api.github.com/repos/pytorch/pytorch/contents/{+path}",
                    "compare_url": "https://api.github.com/repos/pytorch/pytorch/compare/{base}...{head}",
                    "merges_url": "https://api.github.com/repos/pytorch/pytorch/merges",
                    "archive_url": "https://api.github.com/repos/pytorch/pytorch/{archive_format}{/ref}",
                    "downloads_url": "https://api.github.com/repos/pytorch/pytorch/downloads",
                    "issues_url": "https://api.github.com/repos/pytorch/pytorch/issues{/number}",
                    "pulls_url": "https://api.github.com/repos/pytorch/pytorch/pulls{/number}",
                    "milestones_url": "https://api.github.com/repos/pytorch/pytorch/milestones{/number}",
                    "notifications_url": "https://api.github.com/repos/pytorch/pytorch/notifications{?since,all,participating}",
                    "labels_url": "https://api.github.com/repos/pytorch/pytorch/labels{/name}",
                    "releases_url": "https://api.github.com/repos/pytorch/pytorch/releases{/id}",
                    "deployments_url": "https://api.github.com/repos/pytorch/pytorch/deployments",
                    "created_at": "2016-08-13T05:26:41Z",
                    "updated_at": "2022-12-20T19:01:41Z",
                    "pushed_at": "2022-12-20T19:30:44Z",
                    "git_url": "git://github.com/pytorch/pytorch.git",
                    "ssh_url": "git@github.com:pytorch/pytorch.git",
                    "clone_url": "https://github.com/pytorch/pytorch.git",
                    "svn_url": "https://github.com/pytorch/pytorch",
                    "homepage": "https://pytorch.org",
                    "size": 1039086,
                    "stargazers_count": 61103,
                    "watchers_count": 61103,
                    "language": "C++",
                    "has_issues": true,
                    "has_projects": true,
                    "has_downloads": true,
                    "has_wiki": true,
                    "has_pages": false,
                    "has_discussions": false,
                    "forks_count": 17020,
                    "mirror_url": null,
                    "archived": false,
                    "disabled": false,
                    "open_issues_count": 10670,
                    "license": {
                        "key": "other",
                        "name": "Other",
                        "spdx_id": "NOASSERTION",
                        "url": null,
                        "node_id": "MDc6TGljZW5zZTA="
                    },
                    "allow_forking": true,
                    "is_template": false,
                    "web_commit_signoff_required": false,
                    "topics": [
                        "autograd",
                        "deep-learning",
                        "gpu",
                        "machine-learning",
                        "neural-network",
                        "numpy",
                        "python",
                        "tensor"
                    ],
                    "visibility": "public",
                    "forks": 17020,
                    "open_issues": 10670,
                    "watchers": 61103,
                    "default_branch": "master",
                    "permissions": {
                        "admin": false,
                        "maintain": false,
                        "push": false,
                        "triage": false,
                        "pull": true
                    }
                },
                "body": "## üêõ Bug\r\nWhen I export an fp16 model from Pytorch (1.7.1) to onnx with jit decorator I get segfault. Please, see the output below.\r\n\r\n```\r\n1.7.1\r\n{'o': tensor([[0.3491, 0.9634, 0.3867, 0.0742, 0.5737, 0.4253, 0.9653, 0.7935, 0.5679,\r\n         0.4507],\r\n        [0.4006, 0.1095, 0.9175, 0.6177, 0.2668, 0.5767, 0.0000, 0.0000, 0.0000,\r\n         0.0000]], device='cuda:0', dtype=torch.float16)}\r\nWarning: ONNX Scalar Type Analysis - Scalar types mismatch for tensor inputs of operator onnx::Mul. Please report a bug to PyTorch. The scalar type Half of the first tensor is chosen.\r\nSegmentation fault (core dumped)\r\n```\r\n\r\n## To Reproduce\r\n\r\nRun script below\r\n\r\n```python\r\nimport onnxruntime\r\nfrom torch import nn\r\nimport torch\r\n\r\nprint(torch.__version__)\r\n\r\n@torch.jit.script\r\ndef compute_output_lengths(x, lengths_fraction):\r\n\tif lengths_fraction is None:\r\n\t\treturn torch.full(x.shape[:1], x.shape[-1], device = x.device, dtype = torch.long)\r\n\treturn (lengths_fraction * x.shape[-1]).ceil().long()\r\n\r\n@torch.jit.script\r\ndef temporal_mask(x, lengths):\r\n\treturn (torch.arange(x.shape[-1], device = x.device, dtype = torch.long).unsqueeze(0) <\r\n\t\t\tlengths.unsqueeze(1)).view(x.shape[:1] + (1, ) * (len(x.shape) - 2) + x.shape[-1:])\r\n\r\nclass Model(nn.Module):\r\n\tdef forward(self, x, xlen):\r\n\t\tl = compute_output_lengths(x, xlen)\r\n\t\ttm = temporal_mask(x, l)\r\n\t\tx = x * tm\r\n\t\treturn dict(o=x)\r\n\r\nmodel = Model()\r\nmodel.to(dtype=torch.float16, device='cuda')\r\n\r\nx = torch.rand(2, 10).to(dtype=torch.float16, device='cuda')\r\nxlen = torch.rand(2).to(dtype=torch.float16, device='cuda')\r\n\r\nprint(model(x, xlen))\r\n\r\ntorch.onnx.export(\r\n\t\tmodel, (x, xlen),\r\n\t\t'fp16_jit_repro.onnx',\r\n\t\tverbose=False,\r\n\t\topset_version=12,\r\n\t\texport_params=None,\r\n\t\tdo_constant_folding=True,\r\n\t\tinput_names=['x', 'xlen']\r\n)\r\n\r\nprint('runtime...')\r\nruntime = onnxruntime.InferenceSession('fp16_jit_repro.onnx')\r\nprint(runtime.run(None, dict(x=x.cpu().numpy(), xlen=xlen.cpy().numpy())))\r\n```\r\n\r\nFor additional information, I run gdb, see output below.\r\n\r\n```\r\n*@b175cd407c0d:~/work/repro$ gdb -ex run --args python fp16_jit_repro.py \r\nGNU gdb (Ubuntu 8.1.1-0ubuntu1) 8.1.1\r\nCopyright (C) 2018 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>.\r\nFind the GDB manual and other documentation resources online at:\r\n<http://www.gnu.org/software/gdb/documentation/>.\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\"...\r\nReading symbols from python...done.\r\nStarting program: /opt/conda/bin/python fp16_jit_repro.py\r\nwarning: Error disabling address space randomization: Operation not permitted\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n1.7.1\r\n[New Thread 0x7f93247d2700 (LWP 5083)]\r\n[New Thread 0x7f9323fd1700 (LWP 5084)]\r\n{'o': tensor([[0.6211, 0.9976, 0.1487, 0.6392, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,\r\n         0.0000],\r\n        [0.3657, 0.1152, 0.1771, 0.4727, 0.3413, 0.2419, 0.3040, 0.0609, 0.9688,\r\n         0.0984]], device='cuda:0', dtype=torch.float16)}\r\nWarning: ONNX Scalar Type Analysis - Scalar types mismatch for tensor inputs of operator onnx::Mul. Please report a bug to PyTorch. The scalar type Half of the first tensor is chosen.\r\n\r\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\r\n0x00007f9381d3d80e in torch::jit::(anonymous namespace)::ImplicitCastForONNX(torch::jit::Block*) () from /opt/conda/lib/python3.8/site-packages/torch/lib/libtorch_python.so\r\n(gdb) bt\r\n#0  0x00007f9381d3d80e in torch::jit::(anonymous namespace)::ImplicitCastForONNX(torch::jit::Block*) () from /opt/conda/lib/python3.8/site-packages/torch/lib/libtorch_python.so\r\n#1  0x00007f9381d07067 in void pybind11::cpp_function::initialize<void (*&)(std::shared_ptr<torch::jit::Graph> const&), void, std::shared_ptr<torch::jit::Graph> const&, pybind11::name, pybind11::scope, pybind11::sibling>(void (*&)(std::shared_ptr<torch::jit::Graph> const&), void (*)(std::shared_ptr<torch::jit::Graph> const&), pybind11::name const&, pybind11::scope const&, pybind11::sibling const&)::{lambda(pybind11::detail::function_call&)#3}::_FUN(pybind11::detail::function_call&) () from /opt/conda/lib/python3.8/site-packages/torch/lib/libtorch_python.so\r\n#2  0x00007f93819598c6 in pybind11::cpp_function::dispatcher(_object*, _object*, _object*) () from /opt/conda/lib/python3.8/site-packages/torch/lib/libtorch_python.so\r\n#3  0x000055ee49b47706 in cfunction_call_varargs (kwargs=<optimized out>, args=<optimized out>, func=0x7f932c890950) at /tmp/build/80754af9/python_1593706424329/work/Objects/call.c:742\r\n#4  PyCFunction_Call () at /tmp/build/80754af9/python_1593706424329/work/Objects/call.c:772\r\n#5  0x000055ee49b0525f in _PyObject_MakeTpCall () at /tmp/build/80754af9/python_1593706424329/work/Objects/call.c:159\r\n#6  0x000055ee49b8d719 in _PyObject_Vectorcall (kwnames=0x0, nargsf=<optimized out>, args=0x7f9323696a08, callable=0x7f932c890950) at /tmp/build/80754af9/python_1593706424329/work/Include/cpython/abstract.h:125\r\n#7  call_function (kwnames=0x0, oparg=<optimized out>, pp_stack=<synthetic pointer>, tstate=0x55ee4b8cbe90) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4963\r\n#8  _PyEval_EvalFrameDefault () at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:3469\r\n#9  0x000055ee49b522a2 in _PyEval_EvalCodeWithName () at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4298\r\n#10 0x000055ee49b53243 in _PyFunction_Vectorcall.localalias.353 () at /tmp/build/80754af9/python_1593706424329/work/Objects/call.c:435\r\n#11 0x000055ee49ac850b in _PyObject_Vectorcall (kwnames=0x7f93236830a0, nargsf=<optimized out>, args=<optimized out>, callable=0x7f9323686670) at /tmp/build/80754af9/python_1593706424329/work/Include/cpython/abstract.h:127\r\n#12 call_function (kwnames=0x7f93236830a0, oparg=<optimized out>, pp_stack=<synthetic pointer>, tstate=<optimized out>) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4963\r\n#13 _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:3515\r\n#14 0x000055ee49b522a2 in _PyEval_EvalCodeWithName () at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4298\r\n#15 0x000055ee49b53243 in _PyFunction_Vectorcall.localalias.353 () at /tmp/build/80754af9/python_1593706424329/work/Objects/call.c:435\r\n#16 0x000055ee49ac850b in _PyObject_Vectorcall (kwnames=0x7f9390cdb180, nargsf=<optimized out>, args=<optimized out>, callable=0x7f9323686ca0) at /tmp/build/80754af9/python_1593706424329/work/Include/cpython/abstract.h:127\r\n#17 call_function (kwnames=0x7f9390cdb180, oparg=<optimized out>, pp_stack=<synthetic pointer>, tstate=<optimized out>) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4963\r\n#18 _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:3515\r\n#19 0x000055ee49b522a2 in _PyEval_EvalCodeWithName () at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4298\r\n#20 0x000055ee49b53243 in _PyFunction_Vectorcall.localalias.353 () at /tmp/build/80754af9/python_1593706424329/work/Objects/call.c:435\r\n#21 0x000055ee49ac850b in _PyObject_Vectorcall (kwnames=0x7f932bd15240, nargsf=<optimized out>, args=<optimized out>, callable=0x7f9323686ee0) at /tmp/build/80754af9/python_1593706424329/work/Include/cpython/abstract.h:127\r\n#22 call_function (kwnames=0x7f932bd15240, oparg=<optimized out>, pp_stack=<synthetic pointer>, tstate=<optimized out>) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4963\r\n#23 _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:3515\r\n#24 0x000055ee49b522a2 in _PyEval_EvalCodeWithName () at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4298\r\n#25 0x000055ee49b53243 in _PyFunction_Vectorcall.localalias.353 () at /tmp/build/80754af9/python_1593706424329/work/Objects/call.c:435\r\n#26 0x000055ee49ac758e in _PyObject_Vectorcall (kwnames=0x0, nargsf=<optimized out>, args=0x55eeb2fd4d48, callable=0x7f93236864c0) at /tmp/build/80754af9/python_1593706424329/work/Include/cpython/abstract.h:127\r\n#27 call_function (kwnames=0x0, oparg=<optimized out>, pp_stack=<synthetic pointer>, tstate=0x55ee4b8cbe90) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4963\r\n#28 _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:3469\r\n#29 0x000055ee49b522a2 in _PyEval_EvalCodeWithName () at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4298\r\n#30 0x000055ee49b53243 in _PyFunction_Vectorcall.localalias.353 () at /tmp/build/80754af9/python_1593706424329/work/Objects/call.c:435\r\n#31 0x000055ee49ac850b in _PyObject_Vectorcall (kwnames=0x7f93aec4a0e0, nargsf=<optimized out>, args=<optimized out>, callable=0x7f932c329ee0) at /tmp/build/80754af9/python_1593706424329/work/Include/cpython/abstract.h:127\r\n#32 call_function (kwnames=0x7f93aec4a0e0, oparg=<optimized out>, pp_stack=<synthetic pointer>, tstate=<optimized out>) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4963\r\n#33 _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:3515\r\n#34 0x000055ee49b522a2 in _PyEval_EvalCodeWithName () at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4298\r\n#35 0x000055ee49b53054 in PyEval_EvalCodeEx () at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:4327\r\n#36 0x000055ee49be15bc in PyEval_EvalCode (co=<optimized out>, globals=<optimized out>, locals=<optimized out>) at /tmp/build/80754af9/python_1593706424329/work/Python/ceval.c:718\r\n#37 0x000055ee49be1664 in run_eval_code_obj () at /tmp/build/80754af9/python_1593706424329/work/Python/pythonrun.c:1125\r\n#38 0x000055ee49c13874 in run_mod () at /tmp/build/80754af9/python_1593706424329/work/Python/pythonrun.c:1147\r\n#39 0x000055ee49adc316 in PyRun_FileExFlags (fp=0x55ee4b931d30, filename_str=<optimized out>, start=<optimized out>, globals=0x7f93aed37c40, locals=0x7f93aed37c40, closeit=1, flags=0x7ffe7547f648) at /tmp/build/80754af9/python_1593706424329/work/Python/pythonrun.c:1063\r\n#40 0x000055ee49adc6fb in PyRun_SimpleFileExFlags (fp=0x55ee4b931d30, filename=<optimized out>, closeit=1, flags=0x7ffe7547f648) at /tmp/build/80754af9/python_1593706424329/work/Python/pythonrun.c:428\r\n#41 0x000055ee49add5c0 in pymain_run_file (cf=0x7ffe7547f648, config=0x55ee4b8cb230) at /tmp/build/80754af9/python_1593706424329/work/Modules/main.c:387\r\n#42 pymain_run_python (exitcode=0x7ffe7547f640) at /tmp/build/80754af9/python_1593706424329/work/Modules/main.c:571\r\n#43 Py_RunMain () at /tmp/build/80754af9/python_1593706424329/work/Modules/main.c:650\r\n#44 0x000055ee49c16389 in Py_BytesMain () at /tmp/build/80754af9/python_1593706424329/work/Modules/main.c:1096\r\n#45 0x00007f93ae5fbbf7 in __libc_start_main (main=0x55ee49ade040 <main>, argc=2, argv=0x7ffe7547f838, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7ffe7547f828) at ../csu/libc-start.c:310\r\n#46 0x000055ee49ba6553 in _start () at ../sysdeps/x86_64/elf/start.S:103\r\n```\r\n\r\n## Expected behavior\r\nOnnx export without segfault\r\n\r\n## Environment\r\n\r\n - OS Platform and Distribution: Linux Ubuntu 18.04: Linux x86_64\r\n - ONNX Runtime version: onnxruntime-1.6.0\r\n - Python version: Python 3.8.5\r\n - Pytorch version: 1.7.1\r\n - How you installed PyTorch (`conda`, `pip`, source): conda\r\n - CUDA/cuDNN version: CUDA Version: 10.2\r\n - GPU model and memory: Tesla V100 (32G)\r\n\r\n## Additional context\r\n\r\nNote: Current problem is gone with the Pytorch version (1.8.0)\r\nBut then I got another fail and opened an issue at onnxruntime repo. See here https://github.com/microsoft/onnxruntime/issues/7098\r\n\r\nThanks for the reply!\n\ncc @houseroad @spandantiwari @lara-hdr @BowenBao @neginraoof @SplitInfinity",
                "reactions": {
                    "url": "https://api.github.com/repos/pytorch/pytorch/issues/54529/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/pytorch/pytorch/issues/54529/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "event": "cross-referenced"
    },
    {
        "actor": {
            "login": "II245",
            "id": 9077278,
            "node_id": "MDQ6VXNlcjkwNzcyNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9077278?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/II245",
            "html_url": "https://github.com/II245",
            "followers_url": "https://api.github.com/users/II245/followers",
            "following_url": "https://api.github.com/users/II245/following{/other_user}",
            "gists_url": "https://api.github.com/users/II245/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/II245/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/II245/subscriptions",
            "organizations_url": "https://api.github.com/users/II245/orgs",
            "repos_url": "https://api.github.com/users/II245/repos",
            "events_url": "https://api.github.com/users/II245/events{/privacy}",
            "received_events_url": "https://api.github.com/users/II245/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-23T19:36:00Z",
        "updated_at": "2021-03-23T19:36:00Z",
        "source": {
            "type": "issue",
            "issue": {
                "url": "https://api.github.com/repos/pytorch/pytorch/issues/54532",
                "repository_url": "https://api.github.com/repos/pytorch/pytorch",
                "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/54532/labels{/name}",
                "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/54532/comments",
                "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/54532/events",
                "html_url": "https://github.com/pytorch/pytorch/issues/54532",
                "id": 839053985,
                "node_id": "MDU6SXNzdWU4MzkwNTM5ODU=",
                "number": 54532,
                "title": "Exporting the operator prim_dtype to ONNX opset version 12 is not supported",
                "user": {
                    "login": "II245",
                    "id": 9077278,
                    "node_id": "MDQ6VXNlcjkwNzcyNzg=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/9077278?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/II245",
                    "html_url": "https://github.com/II245",
                    "followers_url": "https://api.github.com/users/II245/followers",
                    "following_url": "https://api.github.com/users/II245/following{/other_user}",
                    "gists_url": "https://api.github.com/users/II245/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/II245/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/II245/subscriptions",
                    "organizations_url": "https://api.github.com/users/II245/orgs",
                    "repos_url": "https://api.github.com/users/II245/repos",
                    "events_url": "https://api.github.com/users/II245/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/II245/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 693805995,
                        "node_id": "MDU6TGFiZWw2OTM4MDU5OTU=",
                        "url": "https://api.github.com/repos/pytorch/pytorch/labels/module:%20onnx",
                        "name": "module: onnx",
                        "color": "f7e101",
                        "default": false,
                        "description": "Related to torch.onnx"
                    },
                    {
                        "id": 1301347167,
                        "node_id": "MDU6TGFiZWwxMzAxMzQ3MTY3",
                        "url": "https://api.github.com/repos/pytorch/pytorch/labels/triaged",
                        "name": "triaged",
                        "color": "006b75",
                        "default": false,
                        "description": "This issue has been looked at a team member, and triaged and prioritized into an appropriate module"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2021-03-23T19:36:00Z",
                "updated_at": "2022-02-17T02:17:15Z",
                "closed_at": "2022-02-17T02:17:15Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "repository": {
                    "id": 65600975,
                    "node_id": "MDEwOlJlcG9zaXRvcnk2NTYwMDk3NQ==",
                    "name": "pytorch",
                    "full_name": "pytorch/pytorch",
                    "private": false,
                    "owner": {
                        "login": "pytorch",
                        "id": 21003710,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIxMDAzNzEw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/21003710?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/pytorch",
                        "html_url": "https://github.com/pytorch",
                        "followers_url": "https://api.github.com/users/pytorch/followers",
                        "following_url": "https://api.github.com/users/pytorch/following{/other_user}",
                        "gists_url": "https://api.github.com/users/pytorch/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/pytorch/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/pytorch/subscriptions",
                        "organizations_url": "https://api.github.com/users/pytorch/orgs",
                        "repos_url": "https://api.github.com/users/pytorch/repos",
                        "events_url": "https://api.github.com/users/pytorch/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/pytorch/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "html_url": "https://github.com/pytorch/pytorch",
                    "description": "Tensors and Dynamic neural networks in Python with strong GPU acceleration",
                    "fork": false,
                    "url": "https://api.github.com/repos/pytorch/pytorch",
                    "forks_url": "https://api.github.com/repos/pytorch/pytorch/forks",
                    "keys_url": "https://api.github.com/repos/pytorch/pytorch/keys{/key_id}",
                    "collaborators_url": "https://api.github.com/repos/pytorch/pytorch/collaborators{/collaborator}",
                    "teams_url": "https://api.github.com/repos/pytorch/pytorch/teams",
                    "hooks_url": "https://api.github.com/repos/pytorch/pytorch/hooks",
                    "issue_events_url": "https://api.github.com/repos/pytorch/pytorch/issues/events{/number}",
                    "events_url": "https://api.github.com/repos/pytorch/pytorch/events",
                    "assignees_url": "https://api.github.com/repos/pytorch/pytorch/assignees{/user}",
                    "branches_url": "https://api.github.com/repos/pytorch/pytorch/branches{/branch}",
                    "tags_url": "https://api.github.com/repos/pytorch/pytorch/tags",
                    "blobs_url": "https://api.github.com/repos/pytorch/pytorch/git/blobs{/sha}",
                    "git_tags_url": "https://api.github.com/repos/pytorch/pytorch/git/tags{/sha}",
                    "git_refs_url": "https://api.github.com/repos/pytorch/pytorch/git/refs{/sha}",
                    "trees_url": "https://api.github.com/repos/pytorch/pytorch/git/trees{/sha}",
                    "statuses_url": "https://api.github.com/repos/pytorch/pytorch/statuses/{sha}",
                    "languages_url": "https://api.github.com/repos/pytorch/pytorch/languages",
                    "stargazers_url": "https://api.github.com/repos/pytorch/pytorch/stargazers",
                    "contributors_url": "https://api.github.com/repos/pytorch/pytorch/contributors",
                    "subscribers_url": "https://api.github.com/repos/pytorch/pytorch/subscribers",
                    "subscription_url": "https://api.github.com/repos/pytorch/pytorch/subscription",
                    "commits_url": "https://api.github.com/repos/pytorch/pytorch/commits{/sha}",
                    "git_commits_url": "https://api.github.com/repos/pytorch/pytorch/git/commits{/sha}",
                    "comments_url": "https://api.github.com/repos/pytorch/pytorch/comments{/number}",
                    "issue_comment_url": "https://api.github.com/repos/pytorch/pytorch/issues/comments{/number}",
                    "contents_url": "https://api.github.com/repos/pytorch/pytorch/contents/{+path}",
                    "compare_url": "https://api.github.com/repos/pytorch/pytorch/compare/{base}...{head}",
                    "merges_url": "https://api.github.com/repos/pytorch/pytorch/merges",
                    "archive_url": "https://api.github.com/repos/pytorch/pytorch/{archive_format}{/ref}",
                    "downloads_url": "https://api.github.com/repos/pytorch/pytorch/downloads",
                    "issues_url": "https://api.github.com/repos/pytorch/pytorch/issues{/number}",
                    "pulls_url": "https://api.github.com/repos/pytorch/pytorch/pulls{/number}",
                    "milestones_url": "https://api.github.com/repos/pytorch/pytorch/milestones{/number}",
                    "notifications_url": "https://api.github.com/repos/pytorch/pytorch/notifications{?since,all,participating}",
                    "labels_url": "https://api.github.com/repos/pytorch/pytorch/labels{/name}",
                    "releases_url": "https://api.github.com/repos/pytorch/pytorch/releases{/id}",
                    "deployments_url": "https://api.github.com/repos/pytorch/pytorch/deployments",
                    "created_at": "2016-08-13T05:26:41Z",
                    "updated_at": "2022-12-20T19:01:41Z",
                    "pushed_at": "2022-12-20T19:30:44Z",
                    "git_url": "git://github.com/pytorch/pytorch.git",
                    "ssh_url": "git@github.com:pytorch/pytorch.git",
                    "clone_url": "https://github.com/pytorch/pytorch.git",
                    "svn_url": "https://github.com/pytorch/pytorch",
                    "homepage": "https://pytorch.org",
                    "size": 1039086,
                    "stargazers_count": 61103,
                    "watchers_count": 61103,
                    "language": "C++",
                    "has_issues": true,
                    "has_projects": true,
                    "has_downloads": true,
                    "has_wiki": true,
                    "has_pages": false,
                    "has_discussions": false,
                    "forks_count": 17020,
                    "mirror_url": null,
                    "archived": false,
                    "disabled": false,
                    "open_issues_count": 10670,
                    "license": {
                        "key": "other",
                        "name": "Other",
                        "spdx_id": "NOASSERTION",
                        "url": null,
                        "node_id": "MDc6TGljZW5zZTA="
                    },
                    "allow_forking": true,
                    "is_template": false,
                    "web_commit_signoff_required": false,
                    "topics": [
                        "autograd",
                        "deep-learning",
                        "gpu",
                        "machine-learning",
                        "neural-network",
                        "numpy",
                        "python",
                        "tensor"
                    ],
                    "visibility": "public",
                    "forks": 17020,
                    "open_issues": 10670,
                    "watchers": 61103,
                    "default_branch": "master",
                    "permissions": {
                        "admin": false,
                        "maintain": false,
                        "push": false,
                        "triage": false,
                        "pull": true
                    }
                },
                "body": "## üêõ Bug\r\nWhen I export model from Pytorch (1.7.1) to onnx with jit decorator I get RuntimeError. Please, see output below.\r\n\r\n```\r\n1.7.1\r\n{'o': tensor([[0.9552, 0.6199, 0.5749, 0.0528, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,\r\n         0.0000],\r\n        [0.2690, 0.3177, 0.9293, 0.6636, 0.9397, 0.9952, 0.6596, 0.2583, 0.0496,\r\n         0.8314]], device='cuda:0')}\r\nTraceback (most recent call last):\r\n  File \"fp32_jit_prim_dtype_repro.py\", line 31, in <module>\r\n    torch.onnx.export(\r\n  File \"/opt/conda/lib/python3.8/site-packages/torch/onnx/__init__.py\", line 225, in export\r\n    return utils.export(model, args, f, export_params, verbose, training,\r\n  File \"/opt/conda/lib/python3.8/site-packages/torch/onnx/utils.py\", line 85, in export\r\n    _export(model, args, f, export_params, verbose, training, input_names, output_names,\r\n  File \"/opt/conda/lib/python3.8/site-packages/torch/onnx/utils.py\", line 632, in _export\r\n    _model_to_graph(model, args, verbose, input_names,\r\n  File \"/opt/conda/lib/python3.8/site-packages/torch/onnx/utils.py\", line 417, in _model_to_graph\r\n    graph = _optimize_graph(graph, operator_export_type,\r\n  File \"/opt/conda/lib/python3.8/site-packages/torch/onnx/utils.py\", line 203, in _optimize_graph\r\n    graph = torch._C._jit_pass_onnx(graph, operator_export_type)\r\n  File \"/opt/conda/lib/python3.8/site-packages/torch/onnx/__init__.py\", line 263, in _run_symbolic_function\r\n    return utils._run_symbolic_function(*args, **kwargs)\r\n  File \"/opt/conda/lib/python3.8/site-packages/torch/onnx/utils.py\", line 978, in _run_symbolic_function\r\n    symbolic_fn = _find_symbolic_in_registry(domain, symbolic_name, opset_version,\r\n  File \"/opt/conda/lib/python3.8/site-packages/torch/onnx/utils.py\", line 888, in _find_symbolic_in_registry\r\n    return sym_registry.get_registered_op(op_name, domain, opset_version)\r\n  File \"/opt/conda/lib/python3.8/site-packages/torch/onnx/symbolic_registry.py\", line 111, in get_registered_op\r\n    raise RuntimeError(msg)\r\nRuntimeError: Exporting the operator prim_dtype to ONNX opset version 12 is not supported. Please open a bug to request ONNX export support for the missing operator.\r\n\r\n```\r\n\r\n## To Reproduce\r\n\r\nRun script below\r\n\r\n```python\r\nimport onnxruntime\r\nfrom torch import nn\r\nimport torch\r\n\r\nprint(torch.__version__)\r\n\r\n@torch.jit.script\r\ndef compute_output_lengths(x, lengths_fraction):\r\n\treturn (lengths_fraction * x.shape[-1]).ceil().long()\r\n\r\n@torch.jit.script\r\ndef temporal_mask(x, lengths):\r\n\treturn (torch.arange(x.shape[-1], device = x.device, dtype = lengths.dtype).unsqueeze(0) <\r\n\t\t\tlengths.unsqueeze(1)).view(x.shape[:1] + (1, ) * (len(x.shape) - 2) + x.shape[-1:])\r\n\r\nclass Model(nn.Module):\r\n\tdef forward(self, x, xlen):\r\n\t\tl = compute_output_lengths(x, xlen)\r\n\t\ttm = temporal_mask(x, l)\r\n\t\tx = x * tm\r\n\t\treturn dict(o=x)\r\n\r\nmodel = Model()\r\nmodel.to(device='cuda')\r\n\r\nx = torch.rand(2, 10).to( device='cuda')\r\nxlen = torch.rand(2).to( device='cuda')\r\n\r\nprint(model(x, xlen))\r\n\r\ntorch.onnx.export(\r\n\t\tmodel, (x, xlen),\r\n\t\t'fp32_jit_prim_dtype_repro.onnx',\r\n\t\tverbose=False,\r\n\t\topset_version=12,\r\n\t\texport_params=None,\r\n\t\tdo_constant_folding=True,\r\n\t\tinput_names=['x', 'xlen']\r\n)\r\n\r\nruntime = onnxruntime.InferenceSession('fp32_jit_prim_dtype_repro.onnx')\r\nprint(runtime.run(None, dict(x=x.cpu().numpy(), xlen=xlen.cpu().numpy())))\r\n```\r\n\r\n## Environment\r\n\r\n - OS Platform and Distribution: Linux Ubuntu 18.04: Linux x86_64\r\n - ONNX Runtime version: onnxruntime-1.6.0\r\n - Python version: Python 3.8\r\n - Pytorch version: 1.7.1\r\n - How you installed PyTorch (`conda`, `pip`, source): conda\r\n - CUDA/cuDNN version: CUDA Version: 10.2\r\n - GPU model and memory: Tesla V100 (32G)\r\n\r\n## Additional context\r\n \r\n[fp32_jit_prim_dtype_repro_onnx.zip](https://github.com/pytorch/pytorch/files/6192255/fp32_jit_prim_dtype_repro_onnx.zip)\r\n\r\nNote: Current problem is gone with Pytorch version (1.8.0)\r\nBut then I got another fail and opened an issue at onnxruntime repo. See here https://github.com/microsoft/onnxruntime/issues/7098\r\n\r\nThanks for reply!\n\ncc @houseroad @spandantiwari @lara-hdr @BowenBao @neginraoof @SplitInfinity",
                "reactions": {
                    "url": "https://api.github.com/repos/pytorch/pytorch/issues/54532/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/pytorch/pytorch/issues/54532/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "event": "cross-referenced"
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813857375",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7098#issuecomment-813857375",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7098",
        "id": 813857375,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzg1NzM3NQ==",
        "user": {
            "login": "ke1337",
            "id": 22626095,
            "node_id": "MDQ6VXNlcjIyNjI2MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22626095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ke1337",
            "html_url": "https://github.com/ke1337",
            "followers_url": "https://api.github.com/users/ke1337/followers",
            "following_url": "https://api.github.com/users/ke1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/ke1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ke1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ke1337/subscriptions",
            "organizations_url": "https://api.github.com/users/ke1337/orgs",
            "repos_url": "https://api.github.com/users/ke1337/repos",
            "events_url": "https://api.github.com/users/ke1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ke1337/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-06T06:23:11Z",
        "updated_at": "2021-04-06T06:23:11Z",
        "author_association": "CONTRIBUTOR",
        "body": "Seems like an exporter problem where ```(1, ) * (len(x.shape) - 2)``` was handled incorrectly as Mul op. In PyTorch, the output is an empty tuple since len(x.shape) -2 = 0, while in the exported model it becomes a scalar 0. @spandantiwari\r\n\r\nBelow are the logs from symbolic shape inference:\r\n```\r\nGather: Gather_32\r\n  Input 0: 33 \r\n  Input 1: 32 \r\n  34: [1] 7\r\n  Sympy Data: [2]\r\nSqueeze: Squeeze_33\r\n  Input 0: 34 \r\n  35: [] 7\r\n  Sympy Data: [2]\r\nConstant: Constant_34\r\n  36: [] 7\r\n  Sympy Data: 2\r\nSub: Sub_35\r\n  Input 0: 35 \r\n  Input 1: 36 \r\n  37: [] 7\r\n  Sympy Data: [0]\r\nConstant: Constant_36\r\n  38: [1] 7\r\n  Sympy Data: [1]\r\nMul: Mul_37\r\n  Input 0: 38 \r\n  Input 1: 37 \r\n  39: [1] 7\r\n  Sympy Data: [0] *** this is incorrect ***\r\nConcat: Concat_38\r\n  Input 0: 30 \r\n  Input 1: 39 \r\n  40: [2] 7\r\n  Sympy Data: [2, 0]\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813857375/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "ke1337",
            "id": 22626095,
            "node_id": "MDQ6VXNlcjIyNjI2MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22626095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ke1337",
            "html_url": "https://github.com/ke1337",
            "followers_url": "https://api.github.com/users/ke1337/followers",
            "following_url": "https://api.github.com/users/ke1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/ke1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ke1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ke1337/subscriptions",
            "organizations_url": "https://api.github.com/users/ke1337/orgs",
            "repos_url": "https://api.github.com/users/ke1337/repos",
            "events_url": "https://api.github.com/users/ke1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ke1337/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "id": 4554755416,
        "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDU1NDc1NTQxNg==",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4554755416",
        "actor": {
            "login": "spandantiwari",
            "id": 23646532,
            "node_id": "MDQ6VXNlcjIzNjQ2NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/23646532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spandantiwari",
            "html_url": "https://github.com/spandantiwari",
            "followers_url": "https://api.github.com/users/spandantiwari/followers",
            "following_url": "https://api.github.com/users/spandantiwari/following{/other_user}",
            "gists_url": "https://api.github.com/users/spandantiwari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spandantiwari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spandantiwari/subscriptions",
            "organizations_url": "https://api.github.com/users/spandantiwari/orgs",
            "repos_url": "https://api.github.com/users/spandantiwari/repos",
            "events_url": "https://api.github.com/users/spandantiwari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spandantiwari/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "mentioned",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-04-06T06:23:11Z",
        "performed_via_github_app": null
    },
    {
        "id": 4554755418,
        "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ1NTQ3NTU0MTg=",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4554755418",
        "actor": {
            "login": "spandantiwari",
            "id": 23646532,
            "node_id": "MDQ6VXNlcjIzNjQ2NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/23646532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spandantiwari",
            "html_url": "https://github.com/spandantiwari",
            "followers_url": "https://api.github.com/users/spandantiwari/followers",
            "following_url": "https://api.github.com/users/spandantiwari/following{/other_user}",
            "gists_url": "https://api.github.com/users/spandantiwari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spandantiwari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spandantiwari/subscriptions",
            "organizations_url": "https://api.github.com/users/spandantiwari/orgs",
            "repos_url": "https://api.github.com/users/spandantiwari/repos",
            "events_url": "https://api.github.com/users/spandantiwari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spandantiwari/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "subscribed",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-04-06T06:23:11Z",
        "performed_via_github_app": null
    },
    {
        "actor": {
            "login": "shubhambhokare1",
            "id": 32080845,
            "node_id": "MDQ6VXNlcjMyMDgwODQ1",
            "avatar_url": "https://avatars.githubusercontent.com/u/32080845?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shubhambhokare1",
            "html_url": "https://github.com/shubhambhokare1",
            "followers_url": "https://api.github.com/users/shubhambhokare1/followers",
            "following_url": "https://api.github.com/users/shubhambhokare1/following{/other_user}",
            "gists_url": "https://api.github.com/users/shubhambhokare1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shubhambhokare1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shubhambhokare1/subscriptions",
            "organizations_url": "https://api.github.com/users/shubhambhokare1/orgs",
            "repos_url": "https://api.github.com/users/shubhambhokare1/repos",
            "events_url": "https://api.github.com/users/shubhambhokare1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shubhambhokare1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-08T06:16:02Z",
        "updated_at": "2021-04-08T06:16:02Z",
        "source": {
            "type": "issue",
            "issue": {
                "url": "https://api.github.com/repos/pytorch/pytorch/issues/55597",
                "repository_url": "https://api.github.com/repos/pytorch/pytorch",
                "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/55597/labels{/name}",
                "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/55597/comments",
                "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/55597/events",
                "html_url": "https://github.com/pytorch/pytorch/issues/55597",
                "id": 853104537,
                "node_id": "MDU6SXNzdWU4NTMxMDQ1Mzc=",
                "number": 55597,
                "title": "[ONNX] Incorrect handling of tuple multiplication with zero",
                "user": {
                    "login": "shubhambhokare1",
                    "id": 32080845,
                    "node_id": "MDQ6VXNlcjMyMDgwODQ1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/32080845?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/shubhambhokare1",
                    "html_url": "https://github.com/shubhambhokare1",
                    "followers_url": "https://api.github.com/users/shubhambhokare1/followers",
                    "following_url": "https://api.github.com/users/shubhambhokare1/following{/other_user}",
                    "gists_url": "https://api.github.com/users/shubhambhokare1/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/shubhambhokare1/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/shubhambhokare1/subscriptions",
                    "organizations_url": "https://api.github.com/users/shubhambhokare1/orgs",
                    "repos_url": "https://api.github.com/users/shubhambhokare1/repos",
                    "events_url": "https://api.github.com/users/shubhambhokare1/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/shubhambhokare1/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 693805995,
                        "node_id": "MDU6TGFiZWw2OTM4MDU5OTU=",
                        "url": "https://api.github.com/repos/pytorch/pytorch/labels/module:%20onnx",
                        "name": "module: onnx",
                        "color": "f7e101",
                        "default": false,
                        "description": "Related to torch.onnx"
                    },
                    {
                        "id": 1301347167,
                        "node_id": "MDU6TGFiZWwxMzAxMzQ3MTY3",
                        "url": "https://api.github.com/repos/pytorch/pytorch/labels/triaged",
                        "name": "triaged",
                        "color": "006b75",
                        "default": false,
                        "description": "This issue has been looked at a team member, and triaged and prioritized into an appropriate module"
                    },
                    {
                        "id": 3202390887,
                        "node_id": "MDU6TGFiZWwzMjAyMzkwODg3",
                        "url": "https://api.github.com/repos/pytorch/pytorch/labels/onnx-triaged",
                        "name": "onnx-triaged",
                        "color": "006b75",
                        "default": false,
                        "description": "triaged by ONNX team"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2021-04-08T06:16:02Z",
                "updated_at": "2022-11-15T21:28:38Z",
                "closed_at": null,
                "author_association": "COLLABORATOR",
                "active_lock_reason": null,
                "repository": {
                    "id": 65600975,
                    "node_id": "MDEwOlJlcG9zaXRvcnk2NTYwMDk3NQ==",
                    "name": "pytorch",
                    "full_name": "pytorch/pytorch",
                    "private": false,
                    "owner": {
                        "login": "pytorch",
                        "id": 21003710,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIxMDAzNzEw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/21003710?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/pytorch",
                        "html_url": "https://github.com/pytorch",
                        "followers_url": "https://api.github.com/users/pytorch/followers",
                        "following_url": "https://api.github.com/users/pytorch/following{/other_user}",
                        "gists_url": "https://api.github.com/users/pytorch/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/pytorch/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/pytorch/subscriptions",
                        "organizations_url": "https://api.github.com/users/pytorch/orgs",
                        "repos_url": "https://api.github.com/users/pytorch/repos",
                        "events_url": "https://api.github.com/users/pytorch/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/pytorch/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "html_url": "https://github.com/pytorch/pytorch",
                    "description": "Tensors and Dynamic neural networks in Python with strong GPU acceleration",
                    "fork": false,
                    "url": "https://api.github.com/repos/pytorch/pytorch",
                    "forks_url": "https://api.github.com/repos/pytorch/pytorch/forks",
                    "keys_url": "https://api.github.com/repos/pytorch/pytorch/keys{/key_id}",
                    "collaborators_url": "https://api.github.com/repos/pytorch/pytorch/collaborators{/collaborator}",
                    "teams_url": "https://api.github.com/repos/pytorch/pytorch/teams",
                    "hooks_url": "https://api.github.com/repos/pytorch/pytorch/hooks",
                    "issue_events_url": "https://api.github.com/repos/pytorch/pytorch/issues/events{/number}",
                    "events_url": "https://api.github.com/repos/pytorch/pytorch/events",
                    "assignees_url": "https://api.github.com/repos/pytorch/pytorch/assignees{/user}",
                    "branches_url": "https://api.github.com/repos/pytorch/pytorch/branches{/branch}",
                    "tags_url": "https://api.github.com/repos/pytorch/pytorch/tags",
                    "blobs_url": "https://api.github.com/repos/pytorch/pytorch/git/blobs{/sha}",
                    "git_tags_url": "https://api.github.com/repos/pytorch/pytorch/git/tags{/sha}",
                    "git_refs_url": "https://api.github.com/repos/pytorch/pytorch/git/refs{/sha}",
                    "trees_url": "https://api.github.com/repos/pytorch/pytorch/git/trees{/sha}",
                    "statuses_url": "https://api.github.com/repos/pytorch/pytorch/statuses/{sha}",
                    "languages_url": "https://api.github.com/repos/pytorch/pytorch/languages",
                    "stargazers_url": "https://api.github.com/repos/pytorch/pytorch/stargazers",
                    "contributors_url": "https://api.github.com/repos/pytorch/pytorch/contributors",
                    "subscribers_url": "https://api.github.com/repos/pytorch/pytorch/subscribers",
                    "subscription_url": "https://api.github.com/repos/pytorch/pytorch/subscription",
                    "commits_url": "https://api.github.com/repos/pytorch/pytorch/commits{/sha}",
                    "git_commits_url": "https://api.github.com/repos/pytorch/pytorch/git/commits{/sha}",
                    "comments_url": "https://api.github.com/repos/pytorch/pytorch/comments{/number}",
                    "issue_comment_url": "https://api.github.com/repos/pytorch/pytorch/issues/comments{/number}",
                    "contents_url": "https://api.github.com/repos/pytorch/pytorch/contents/{+path}",
                    "compare_url": "https://api.github.com/repos/pytorch/pytorch/compare/{base}...{head}",
                    "merges_url": "https://api.github.com/repos/pytorch/pytorch/merges",
                    "archive_url": "https://api.github.com/repos/pytorch/pytorch/{archive_format}{/ref}",
                    "downloads_url": "https://api.github.com/repos/pytorch/pytorch/downloads",
                    "issues_url": "https://api.github.com/repos/pytorch/pytorch/issues{/number}",
                    "pulls_url": "https://api.github.com/repos/pytorch/pytorch/pulls{/number}",
                    "milestones_url": "https://api.github.com/repos/pytorch/pytorch/milestones{/number}",
                    "notifications_url": "https://api.github.com/repos/pytorch/pytorch/notifications{?since,all,participating}",
                    "labels_url": "https://api.github.com/repos/pytorch/pytorch/labels{/name}",
                    "releases_url": "https://api.github.com/repos/pytorch/pytorch/releases{/id}",
                    "deployments_url": "https://api.github.com/repos/pytorch/pytorch/deployments",
                    "created_at": "2016-08-13T05:26:41Z",
                    "updated_at": "2022-12-20T19:01:41Z",
                    "pushed_at": "2022-12-20T19:30:44Z",
                    "git_url": "git://github.com/pytorch/pytorch.git",
                    "ssh_url": "git@github.com:pytorch/pytorch.git",
                    "clone_url": "https://github.com/pytorch/pytorch.git",
                    "svn_url": "https://github.com/pytorch/pytorch",
                    "homepage": "https://pytorch.org",
                    "size": 1039086,
                    "stargazers_count": 61103,
                    "watchers_count": 61103,
                    "language": "C++",
                    "has_issues": true,
                    "has_projects": true,
                    "has_downloads": true,
                    "has_wiki": true,
                    "has_pages": false,
                    "has_discussions": false,
                    "forks_count": 17020,
                    "mirror_url": null,
                    "archived": false,
                    "disabled": false,
                    "open_issues_count": 10670,
                    "license": {
                        "key": "other",
                        "name": "Other",
                        "spdx_id": "NOASSERTION",
                        "url": null,
                        "node_id": "MDc6TGljZW5zZTA="
                    },
                    "allow_forking": true,
                    "is_template": false,
                    "web_commit_signoff_required": false,
                    "topics": [
                        "autograd",
                        "deep-learning",
                        "gpu",
                        "machine-learning",
                        "neural-network",
                        "numpy",
                        "python",
                        "tensor"
                    ],
                    "visibility": "public",
                    "forks": 17020,
                    "open_issues": 10670,
                    "watchers": 61103,
                    "default_branch": "master",
                    "permissions": {
                        "admin": false,
                        "maintain": false,
                        "push": false,
                        "triage": false,
                        "pull": true
                    }
                },
                "body": "## üêõ Bug\r\n\r\nOpening this issue based on ONNXRuntime issue https://github.com/microsoft/onnxruntime/issues/7098 as issue is relevant to exporter and not ONNXRuntime\r\n\r\nCurrently, cases in which two tuples are mutliplied is handled incorrectly in ONNX export\r\nFor example in ```x.shape[:1] + (1, ) * (len(x.shape) - 2) + x.shape[-1:])``` and ```len(x.shape) = 2``` we get a scenario where\r\n ```(1,)*0=()```, but exporter treats it as [0], causing shape mismatch in the Mul operator\r\n\r\n## To Reproduce\r\n\r\nModel code to reproduce error\r\n```\r\nimport onnxruntime\r\nfrom torch import nn\r\nimport torch\r\n\r\nprint(torch.__version__)\r\n\r\n@torch.jit.script\r\ndef compute_output_lengths(x, lengths_fraction):\r\n    return (lengths_fraction * x.shape[-1]).ceil().long()\r\n\r\n@torch.jit.script\r\ndef temporal_mask(x, lengths):\r\n    tup_prod = (1,) * (len(x.shape) - 2)\r\n    return (torch.arange(x.shape[-1], dtype=lengths.dtype).unsqueeze(0) <\r\n            lengths.unsqueeze(1)).view(x.shape[:1] + tup_prod + x.shape[-1:])\r\n\r\nclass Model(nn.Module):\r\n    def forward(self, x, xlen):\r\n        l = compute_output_lengths(x, xlen)\r\n        tm = temporal_mask(x, l)\r\n        return x * tm\r\n\r\nmodel = Model()\r\n\r\nx = torch.rand(2, 10)\r\nxlen = torch.rand(2)\r\n\r\nprint(model(x, xlen))\r\n\r\ntorch.onnx.export(\r\n        model, (x, xlen),\r\n        'fp32_jit_prim_dtype_repro.onnx',\r\n        verbose=True,\r\n        opset_version=14,\r\n        input_names=['x', 'xlen']\r\n)\r\n\r\nruntime = onnxruntime.InferenceSession('fp32_jit_prim_dtype_repro.onnx')\r\nprint(runtime.run(None, dict(x=x.cpu().numpy(), xlen=xlen.cpu().numpy())))\r\n```\r\n\r\n## Expected behavior\r\n\r\nInference without ONNXRuntimeError",
                "reactions": {
                    "url": "https://api.github.com/repos/pytorch/pytorch/issues/55597/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/pytorch/pytorch/issues/55597/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "event": "cross-referenced"
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/815481116",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7098#issuecomment-815481116",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7098",
        "id": 815481116,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxNTQ4MTExNg==",
        "user": {
            "login": "shubhambhokare1",
            "id": 32080845,
            "node_id": "MDQ6VXNlcjMyMDgwODQ1",
            "avatar_url": "https://avatars.githubusercontent.com/u/32080845?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shubhambhokare1",
            "html_url": "https://github.com/shubhambhokare1",
            "followers_url": "https://api.github.com/users/shubhambhokare1/followers",
            "following_url": "https://api.github.com/users/shubhambhokare1/following{/other_user}",
            "gists_url": "https://api.github.com/users/shubhambhokare1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shubhambhokare1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shubhambhokare1/subscriptions",
            "organizations_url": "https://api.github.com/users/shubhambhokare1/orgs",
            "repos_url": "https://api.github.com/users/shubhambhokare1/repos",
            "events_url": "https://api.github.com/users/shubhambhokare1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shubhambhokare1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-08T06:17:40Z",
        "updated_at": "2021-04-08T06:17:40Z",
        "author_association": "MEMBER",
        "body": "Opened similar issue in PyTorch, maybe we can close the issue here",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/815481116/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "shubhambhokare1",
            "id": 32080845,
            "node_id": "MDQ6VXNlcjMyMDgwODQ1",
            "avatar_url": "https://avatars.githubusercontent.com/u/32080845?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shubhambhokare1",
            "html_url": "https://github.com/shubhambhokare1",
            "followers_url": "https://api.github.com/users/shubhambhokare1/followers",
            "following_url": "https://api.github.com/users/shubhambhokare1/following{/other_user}",
            "gists_url": "https://api.github.com/users/shubhambhokare1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shubhambhokare1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shubhambhokare1/subscriptions",
            "organizations_url": "https://api.github.com/users/shubhambhokare1/orgs",
            "repos_url": "https://api.github.com/users/shubhambhokare1/repos",
            "events_url": "https://api.github.com/users/shubhambhokare1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shubhambhokare1/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/816030794",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7098#issuecomment-816030794",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7098",
        "id": 816030794,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxNjAzMDc5NA==",
        "user": {
            "login": "spandantiwari",
            "id": 23646532,
            "node_id": "MDQ6VXNlcjIzNjQ2NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/23646532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spandantiwari",
            "html_url": "https://github.com/spandantiwari",
            "followers_url": "https://api.github.com/users/spandantiwari/followers",
            "following_url": "https://api.github.com/users/spandantiwari/following{/other_user}",
            "gists_url": "https://api.github.com/users/spandantiwari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spandantiwari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spandantiwari/subscriptions",
            "organizations_url": "https://api.github.com/users/spandantiwari/orgs",
            "repos_url": "https://api.github.com/users/spandantiwari/repos",
            "events_url": "https://api.github.com/users/spandantiwari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spandantiwari/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-08T18:08:40Z",
        "updated_at": "2021-04-08T18:08:40Z",
        "author_association": "NONE",
        "body": "This seems like a export issue. We have opened an item under PyTorch for this: https://github.com/pytorch/pytorch/issues/55597, and will investigate this.\r\n\r\n@II245 Please stay tuned to that thread. We will close this one here.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/816030794/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "spandantiwari",
            "id": 23646532,
            "node_id": "MDQ6VXNlcjIzNjQ2NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/23646532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spandantiwari",
            "html_url": "https://github.com/spandantiwari",
            "followers_url": "https://api.github.com/users/spandantiwari/followers",
            "following_url": "https://api.github.com/users/spandantiwari/following{/other_user}",
            "gists_url": "https://api.github.com/users/spandantiwari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spandantiwari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spandantiwari/subscriptions",
            "organizations_url": "https://api.github.com/users/spandantiwari/orgs",
            "repos_url": "https://api.github.com/users/spandantiwari/repos",
            "events_url": "https://api.github.com/users/spandantiwari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spandantiwari/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "id": 4570202507,
        "node_id": "MDExOkNsb3NlZEV2ZW50NDU3MDIwMjUwNw==",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4570202507",
        "actor": {
            "login": "spandantiwari",
            "id": 23646532,
            "node_id": "MDQ6VXNlcjIzNjQ2NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/23646532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spandantiwari",
            "html_url": "https://github.com/spandantiwari",
            "followers_url": "https://api.github.com/users/spandantiwari/followers",
            "following_url": "https://api.github.com/users/spandantiwari/following{/other_user}",
            "gists_url": "https://api.github.com/users/spandantiwari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spandantiwari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spandantiwari/subscriptions",
            "organizations_url": "https://api.github.com/users/spandantiwari/orgs",
            "repos_url": "https://api.github.com/users/spandantiwari/repos",
            "events_url": "https://api.github.com/users/spandantiwari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spandantiwari/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "closed",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-04-08T18:08:40Z",
        "state_reason": null,
        "performed_via_github_app": null
    },
    {
        "id": 4570202520,
        "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDU3MDIwMjUyMA==",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4570202520",
        "actor": {
            "login": "II245",
            "id": 9077278,
            "node_id": "MDQ6VXNlcjkwNzcyNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9077278?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/II245",
            "html_url": "https://github.com/II245",
            "followers_url": "https://api.github.com/users/II245/followers",
            "following_url": "https://api.github.com/users/II245/following{/other_user}",
            "gists_url": "https://api.github.com/users/II245/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/II245/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/II245/subscriptions",
            "organizations_url": "https://api.github.com/users/II245/orgs",
            "repos_url": "https://api.github.com/users/II245/repos",
            "events_url": "https://api.github.com/users/II245/events{/privacy}",
            "received_events_url": "https://api.github.com/users/II245/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "mentioned",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-04-08T18:08:40Z",
        "performed_via_github_app": null
    },
    {
        "id": 4570202526,
        "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ1NzAyMDI1MjY=",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/4570202526",
        "actor": {
            "login": "II245",
            "id": 9077278,
            "node_id": "MDQ6VXNlcjkwNzcyNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9077278?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/II245",
            "html_url": "https://github.com/II245",
            "followers_url": "https://api.github.com/users/II245/followers",
            "following_url": "https://api.github.com/users/II245/following{/other_user}",
            "gists_url": "https://api.github.com/users/II245/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/II245/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/II245/subscriptions",
            "organizations_url": "https://api.github.com/users/II245/orgs",
            "repos_url": "https://api.github.com/users/II245/repos",
            "events_url": "https://api.github.com/users/II245/events{/privacy}",
            "received_events_url": "https://api.github.com/users/II245/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "subscribed",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2021-04-08T18:08:41Z",
        "performed_via_github_app": null
    }
]