[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/628213684",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3922#issuecomment-628213684",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3922",
        "id": 628213684,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyODIxMzY4NA==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-13T19:58:50Z",
        "updated_at": "2020-05-13T19:58:50Z",
        "author_association": "MEMBER",
        "body": "Hi,\r\n\r\nI read through your description and investigated both the provided models. Actually, the statement - \"Squeeze of dimension 1 is a no-op, since it's not squeezable\" is not true per ONNX spec. Please see https://github.com/onnx/onnx/blob/master/docs/Operators.md#Squeeze, where it says \"If an axis is selected with shape entry not equal to one, an error is raised\". This means that for the input of shape [16, 8000], if the axes contains [1] for the Squeeze node, then an error will have been raised in ORT - https://github.com/microsoft/onnxruntime/blob/e86214e5c00ffbb95b85478c111c8eb21de94fe9/onnxruntime/core/providers/cpu/tensor/squeeze.h#L46. \r\n\r\nThis specific model fails at loading stage - to be precise when it runs shape inference. This is because, in the shape inference logic for Squeeze - https://github.com/onnx/onnx/blob/6801d7e46f4768ae2a304615edb69ff1a388c624/onnx/defs/tensor/old.cc#L1196, since the dimensions are symbolic in the graph [\"B\", \"T\"], it can't check if the dim value is 1 and raise an error there, hence it proceeds to \"squeeze\" out the dim which then fails in the Slice node because the Slice node now has an input data rank of 1 and the axes seems to have a value {1} which is outside the range of accepted values and hence shape inference throws here - https://github.com/onnx/onnx/blob/6801d7e46f4768ae2a304615edb69ff1a388c624/onnx/defs/tensor/old.cc#L865.\r\n\r\nTechnically, this is not an ORT issue and hence I am closing it out. Please re-open if you have more questions.  ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/628213684/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "id": 3333683583,
        "node_id": "MDExOkNsb3NlZEV2ZW50MzMzMzY4MzU4Mw==",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/3333683583",
        "actor": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "closed",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2020-05-13T19:58:51Z",
        "state_reason": null,
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/628221493",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3922#issuecomment-628221493",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3922",
        "id": 628221493,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyODIyMTQ5Mw==",
        "user": {
            "login": "vadimkantorov",
            "id": 1041752,
            "node_id": "MDQ6VXNlcjEwNDE3NTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1041752?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vadimkantorov",
            "html_url": "https://github.com/vadimkantorov",
            "followers_url": "https://api.github.com/users/vadimkantorov/followers",
            "following_url": "https://api.github.com/users/vadimkantorov/following{/other_user}",
            "gists_url": "https://api.github.com/users/vadimkantorov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vadimkantorov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vadimkantorov/subscriptions",
            "organizations_url": "https://api.github.com/users/vadimkantorov/orgs",
            "repos_url": "https://api.github.com/users/vadimkantorov/repos",
            "events_url": "https://api.github.com/users/vadimkantorov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vadimkantorov/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-13T20:14:48Z",
        "updated_at": "2020-05-13T20:14:48Z",
        "author_association": "NONE",
        "body": "@hariharans29 Thanks for explanation! I'll update the PyTorch issue accordingly!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/628221493/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "performed_via_github_app": null,
        "event": "commented",
        "actor": {
            "login": "vadimkantorov",
            "id": 1041752,
            "node_id": "MDQ6VXNlcjEwNDE3NTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1041752?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vadimkantorov",
            "html_url": "https://github.com/vadimkantorov",
            "followers_url": "https://api.github.com/users/vadimkantorov/followers",
            "following_url": "https://api.github.com/users/vadimkantorov/following{/other_user}",
            "gists_url": "https://api.github.com/users/vadimkantorov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vadimkantorov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vadimkantorov/subscriptions",
            "organizations_url": "https://api.github.com/users/vadimkantorov/orgs",
            "repos_url": "https://api.github.com/users/vadimkantorov/repos",
            "events_url": "https://api.github.com/users/vadimkantorov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vadimkantorov/received_events",
            "type": "User",
            "site_admin": false
        }
    },
    {
        "id": 3333737935,
        "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzMzMzczNzkzNQ==",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/3333737935",
        "actor": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "mentioned",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2020-05-13T20:14:48Z",
        "performed_via_github_app": null
    },
    {
        "id": 3333737942,
        "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDMzMzM3Mzc5NDI=",
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/events/3333737942",
        "actor": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "subscribed",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2020-05-13T20:14:48Z",
        "performed_via_github_app": null
    },
    {
        "actor": {
            "login": "vadimkantorov",
            "id": 1041752,
            "node_id": "MDQ6VXNlcjEwNDE3NTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1041752?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vadimkantorov",
            "html_url": "https://github.com/vadimkantorov",
            "followers_url": "https://api.github.com/users/vadimkantorov/followers",
            "following_url": "https://api.github.com/users/vadimkantorov/following{/other_user}",
            "gists_url": "https://api.github.com/users/vadimkantorov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vadimkantorov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vadimkantorov/subscriptions",
            "organizations_url": "https://api.github.com/users/vadimkantorov/orgs",
            "repos_url": "https://api.github.com/users/vadimkantorov/repos",
            "events_url": "https://api.github.com/users/vadimkantorov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vadimkantorov/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-13T20:18:37Z",
        "updated_at": "2020-05-13T20:18:37Z",
        "source": {
            "type": "issue",
            "issue": {
                "url": "https://api.github.com/repos/pytorch/pytorch/issues/36796",
                "repository_url": "https://api.github.com/repos/pytorch/pytorch",
                "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/36796/labels{/name}",
                "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/36796/comments",
                "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/36796/events",
                "html_url": "https://github.com/pytorch/pytorch/issues/36796",
                "id": 601904751,
                "node_id": "MDU6SXNzdWU2MDE5MDQ3NTE=",
                "number": 36796,
                "title": "Export to ONNX of nop-squeeze errors out in ONNXRT",
                "user": {
                    "login": "vadimkantorov",
                    "id": 1041752,
                    "node_id": "MDQ6VXNlcjEwNDE3NTI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1041752?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/vadimkantorov",
                    "html_url": "https://github.com/vadimkantorov",
                    "followers_url": "https://api.github.com/users/vadimkantorov/followers",
                    "following_url": "https://api.github.com/users/vadimkantorov/following{/other_user}",
                    "gists_url": "https://api.github.com/users/vadimkantorov/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/vadimkantorov/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/vadimkantorov/subscriptions",
                    "organizations_url": "https://api.github.com/users/vadimkantorov/orgs",
                    "repos_url": "https://api.github.com/users/vadimkantorov/repos",
                    "events_url": "https://api.github.com/users/vadimkantorov/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/vadimkantorov/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 693805995,
                        "node_id": "MDU6TGFiZWw2OTM4MDU5OTU=",
                        "url": "https://api.github.com/repos/pytorch/pytorch/labels/module:%20onnx",
                        "name": "module: onnx",
                        "color": "f7e101",
                        "default": false,
                        "description": "Related to torch.onnx"
                    },
                    {
                        "id": 1301347167,
                        "node_id": "MDU6TGFiZWwxMzAxMzQ3MTY3",
                        "url": "https://api.github.com/repos/pytorch/pytorch/labels/triaged",
                        "name": "triaged",
                        "color": "006b75",
                        "default": false,
                        "description": "This issue has been looked at a team member, and triaged and prioritized into an appropriate module"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2020-04-17T11:25:18Z",
                "updated_at": "2020-08-18T00:44:24Z",
                "closed_at": "2020-08-18T00:44:24Z",
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "repository": {
                    "id": 65600975,
                    "node_id": "MDEwOlJlcG9zaXRvcnk2NTYwMDk3NQ==",
                    "name": "pytorch",
                    "full_name": "pytorch/pytorch",
                    "private": false,
                    "owner": {
                        "login": "pytorch",
                        "id": 21003710,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIxMDAzNzEw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/21003710?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/pytorch",
                        "html_url": "https://github.com/pytorch",
                        "followers_url": "https://api.github.com/users/pytorch/followers",
                        "following_url": "https://api.github.com/users/pytorch/following{/other_user}",
                        "gists_url": "https://api.github.com/users/pytorch/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/pytorch/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/pytorch/subscriptions",
                        "organizations_url": "https://api.github.com/users/pytorch/orgs",
                        "repos_url": "https://api.github.com/users/pytorch/repos",
                        "events_url": "https://api.github.com/users/pytorch/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/pytorch/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "html_url": "https://github.com/pytorch/pytorch",
                    "description": "Tensors and Dynamic neural networks in Python with strong GPU acceleration",
                    "fork": false,
                    "url": "https://api.github.com/repos/pytorch/pytorch",
                    "forks_url": "https://api.github.com/repos/pytorch/pytorch/forks",
                    "keys_url": "https://api.github.com/repos/pytorch/pytorch/keys{/key_id}",
                    "collaborators_url": "https://api.github.com/repos/pytorch/pytorch/collaborators{/collaborator}",
                    "teams_url": "https://api.github.com/repos/pytorch/pytorch/teams",
                    "hooks_url": "https://api.github.com/repos/pytorch/pytorch/hooks",
                    "issue_events_url": "https://api.github.com/repos/pytorch/pytorch/issues/events{/number}",
                    "events_url": "https://api.github.com/repos/pytorch/pytorch/events",
                    "assignees_url": "https://api.github.com/repos/pytorch/pytorch/assignees{/user}",
                    "branches_url": "https://api.github.com/repos/pytorch/pytorch/branches{/branch}",
                    "tags_url": "https://api.github.com/repos/pytorch/pytorch/tags",
                    "blobs_url": "https://api.github.com/repos/pytorch/pytorch/git/blobs{/sha}",
                    "git_tags_url": "https://api.github.com/repos/pytorch/pytorch/git/tags{/sha}",
                    "git_refs_url": "https://api.github.com/repos/pytorch/pytorch/git/refs{/sha}",
                    "trees_url": "https://api.github.com/repos/pytorch/pytorch/git/trees{/sha}",
                    "statuses_url": "https://api.github.com/repos/pytorch/pytorch/statuses/{sha}",
                    "languages_url": "https://api.github.com/repos/pytorch/pytorch/languages",
                    "stargazers_url": "https://api.github.com/repos/pytorch/pytorch/stargazers",
                    "contributors_url": "https://api.github.com/repos/pytorch/pytorch/contributors",
                    "subscribers_url": "https://api.github.com/repos/pytorch/pytorch/subscribers",
                    "subscription_url": "https://api.github.com/repos/pytorch/pytorch/subscription",
                    "commits_url": "https://api.github.com/repos/pytorch/pytorch/commits{/sha}",
                    "git_commits_url": "https://api.github.com/repos/pytorch/pytorch/git/commits{/sha}",
                    "comments_url": "https://api.github.com/repos/pytorch/pytorch/comments{/number}",
                    "issue_comment_url": "https://api.github.com/repos/pytorch/pytorch/issues/comments{/number}",
                    "contents_url": "https://api.github.com/repos/pytorch/pytorch/contents/{+path}",
                    "compare_url": "https://api.github.com/repos/pytorch/pytorch/compare/{base}...{head}",
                    "merges_url": "https://api.github.com/repos/pytorch/pytorch/merges",
                    "archive_url": "https://api.github.com/repos/pytorch/pytorch/{archive_format}{/ref}",
                    "downloads_url": "https://api.github.com/repos/pytorch/pytorch/downloads",
                    "issues_url": "https://api.github.com/repos/pytorch/pytorch/issues{/number}",
                    "pulls_url": "https://api.github.com/repos/pytorch/pytorch/pulls{/number}",
                    "milestones_url": "https://api.github.com/repos/pytorch/pytorch/milestones{/number}",
                    "notifications_url": "https://api.github.com/repos/pytorch/pytorch/notifications{?since,all,participating}",
                    "labels_url": "https://api.github.com/repos/pytorch/pytorch/labels{/name}",
                    "releases_url": "https://api.github.com/repos/pytorch/pytorch/releases{/id}",
                    "deployments_url": "https://api.github.com/repos/pytorch/pytorch/deployments",
                    "created_at": "2016-08-13T05:26:41Z",
                    "updated_at": "2022-12-20T19:01:41Z",
                    "pushed_at": "2022-12-20T19:23:57Z",
                    "git_url": "git://github.com/pytorch/pytorch.git",
                    "ssh_url": "git@github.com:pytorch/pytorch.git",
                    "clone_url": "https://github.com/pytorch/pytorch.git",
                    "svn_url": "https://github.com/pytorch/pytorch",
                    "homepage": "https://pytorch.org",
                    "size": 1039086,
                    "stargazers_count": 61103,
                    "watchers_count": 61103,
                    "language": "C++",
                    "has_issues": true,
                    "has_projects": true,
                    "has_downloads": true,
                    "has_wiki": true,
                    "has_pages": false,
                    "has_discussions": false,
                    "forks_count": 17020,
                    "mirror_url": null,
                    "archived": false,
                    "disabled": false,
                    "open_issues_count": 10669,
                    "license": {
                        "key": "other",
                        "name": "Other",
                        "spdx_id": "NOASSERTION",
                        "url": null,
                        "node_id": "MDc6TGljZW5zZTA="
                    },
                    "allow_forking": true,
                    "is_template": false,
                    "web_commit_signoff_required": false,
                    "topics": [
                        "autograd",
                        "deep-learning",
                        "gpu",
                        "machine-learning",
                        "neural-network",
                        "numpy",
                        "python",
                        "tensor"
                    ],
                    "visibility": "public",
                    "forks": 17020,
                    "open_issues": 10669,
                    "watchers": 61103,
                    "default_branch": "master",
                    "permissions": {
                        "admin": false,
                        "maintain": false,
                        "push": false,
                        "triage": false,
                        "pull": true
                    }
                },
                "body": "Squeeze of dimension 1 is a no-op, since it's not squeezable. However when exported to ONNX it produces an ONNXRT error. Maybe it's a problem in nop `squeeze(1)` export, maybe in ONNXRT.\r\n\r\n```python\r\nimport torch\r\nimport onnxruntime\r\n\r\nbug = True\r\n\r\nclass Preemphasis(torch.nn.Module):\r\n    def forward(self, signal):\r\n        if bug:\r\n            signal = signal.squeeze(1)\r\n        signal = torch.cat([signal[..., :1], signal[..., 1:] - 0.97 * signal[..., :-1]], dim = -1)\r\n        return signal\r\n\r\nfrontend = Preemphasis()\r\ninput = torch.rand(16, 8000)\r\ntorch.onnx.export(frontend, (input,), 'model.onnx', opset_version = 10, export_params = True, do_constant_folding = True, input_names = ['signal'], output_names = ['output'], dynamic_axes = dict(signal = {0 : 'B', 1 : 'T'}, output = {0 : 'B', 1: 'T'}))\r\n(output_, ) = onnxrt_session.run(None, dict(signal = input.cpu().numpy()))\r\n\r\noutput = frontend(input)\r\nassert torch.allclose(output.cpu(), torch.from_numpy(output_), rtol = 1e-02, atol = 1e-03)\r\n```\r\n\r\nproduces\r\n```\r\nTraceback (most recent call last):\r\n  File \"bug.py\", line 16, in <module>\r\n    onnxrt_session = onnxruntime.InferenceSession('model.onnx')\r\n  File \"/miniconda/lib/python3.7/site-packages/onnxruntime/capi/session.py\", line 25, in __init__\r\n    self._load_model(providers)\r\n  File \"/miniconda/lib/python3.7/site-packages/onnxruntime/capi/session.py\", line 43, in _load_model\r\n    self._sess.load_model(providers)\r\nonnxruntime.capi.onnxruntime_pybind11_state.Fail: [ONNXRuntimeError] : 1 : FAIL : Node (Slice_15) Op (Slice) [ShapeInferenceError] Input axes has invalid data\r\n```\r\nFor [Netron](https://lutzroeder.github.io/netron/): [model_bug.onnx.gz](https://github.com/pytorch/pytorch/files/4492580/model_bug.onnx.gz)\r\n\r\nWith `bug = False`, it produces:\r\n```\r\n2020-04-17 11:20:09.740165610 [I:onnxruntime:Default, bfc_arena.cc:238 AllocateRawInternal] Extending BFCArena for Cpu. bin_num:10 rounded_bytes:512000\r\n2020-04-17 11:20:09.740276922 [I:onnxruntime:Default, bfc_arena.cc:122 Extend] Extended allocation by 2097152 bytes.\r\n2020-04-17 11:20:09.740352834 [I:onnxruntime:Default, bfc_arena.cc:126 Extend] Total allocated bytes: 3145728\r\n2020-04-17 11:20:09.740391982 [I:onnxruntime:Default, bfc_arena.cc:129 Extend] Allocated memory at 0x7eff98315040 to 0x7eff98515040\r\n2020-04-17 11:20:09.741222106 [W:onnxruntime:, execution_frame.cc:343 AllocateMLValueTensorPreAllocateBuffer] Shape mismatch attempting to re-use buffer. {16,7999} != {16,1}. Validate usage of dim_value (values should be > 0) and dim_param (all values with the same string should equate to the same size) in shapes in the model.\r\n```\r\n(last message is probably because of ONNXRT [bug](https://github.com/microsoft/onnxruntime/issues/2756))\r\n\r\nFor [Netron](https://lutzroeder.github.io/netron/): [model_nobug.onnx.gz](https://github.com/pytorch/pytorch/files/4492581/model_nobug.onnx.gz)\r\n\r\n```\r\n>>> import onnxruntime\r\n>>> onnxruntime.__version__\r\n'1.2.0'\r\n>>> import torch\r\n>>> torch.__version__\r\n'1.6.0.dev20200417'\r\n```\n\ncc @houseroad @spandantiwari @lara-hdr @BowenBao @neginraoof",
                "reactions": {
                    "url": "https://api.github.com/repos/pytorch/pytorch/issues/36796/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/pytorch/pytorch/issues/36796/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "event": "cross-referenced"
    }
]