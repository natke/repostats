[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1521441750",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15665#issuecomment-1521441750",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15665",
        "id": 1521441750,
        "node_id": "IC_kwDOCVq1mM5ar1vW",
        "user": {
            "login": "xadupre",
            "id": 22452781,
            "node_id": "MDQ6VXNlcjIyNDUyNzgx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22452781?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xadupre",
            "html_url": "https://github.com/xadupre",
            "followers_url": "https://api.github.com/users/xadupre/followers",
            "following_url": "https://api.github.com/users/xadupre/following{/other_user}",
            "gists_url": "https://api.github.com/users/xadupre/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xadupre/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xadupre/subscriptions",
            "organizations_url": "https://api.github.com/users/xadupre/orgs",
            "repos_url": "https://api.github.com/users/xadupre/repos",
            "events_url": "https://api.github.com/users/xadupre/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xadupre/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-25T09:08:56Z",
        "updated_at": "2023-04-25T09:08:56Z",
        "author_association": "MEMBER",
        "body": "What about the probabilities? It seems you trained a model for a multiclass classification. What is the model (tree, linear classifier) and how did you convert it? There are known issues when the model is trained with double and the conversion uses float. The label may be different after the probabilites are rounded if they were close to ties. The discrepancies may be even bigger for trees. You will find more at [Issues when switching to float](https://onnx.ai/sklearn-onnx/auto_tutorial/plot_ebegin_float_double.html).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1521441750/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1538516833",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15665#issuecomment-1538516833",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15665",
        "id": 1538516833,
        "node_id": "IC_kwDOCVq1mM5bs-dh",
        "user": {
            "login": "VPU-tech",
            "id": 127847792,
            "node_id": "U_kgDOB57NcA",
            "avatar_url": "https://avatars.githubusercontent.com/u/127847792?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/VPU-tech",
            "html_url": "https://github.com/VPU-tech",
            "followers_url": "https://api.github.com/users/VPU-tech/followers",
            "following_url": "https://api.github.com/users/VPU-tech/following{/other_user}",
            "gists_url": "https://api.github.com/users/VPU-tech/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/VPU-tech/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/VPU-tech/subscriptions",
            "organizations_url": "https://api.github.com/users/VPU-tech/orgs",
            "repos_url": "https://api.github.com/users/VPU-tech/repos",
            "events_url": "https://api.github.com/users/VPU-tech/events{/privacy}",
            "received_events_url": "https://api.github.com/users/VPU-tech/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-08T15:06:12Z",
        "updated_at": "2023-05-08T15:06:12Z",
        "author_association": "NONE",
        "body": "We have used RandomForest Classifier for predicting label for Iris Data\r\n`Code used to convert RF model into ONNX\r\n\r\nfrom skl2onnx import convert_sklearn\r\n\r\nfrom skl2onnx.common.data_types import FloatTensorType\r\n\r\ninitial_type = [('float_input', FloatTensorType([None, 4]))]\r\nclr = RandomForestClassifier()\r\nonx = convert_sklearn(clr, initial_types=initial_type)\r\n\r\nwith open(\"rf_iris.onnx\", \"wb\") as f:\r\n\r\n    f.write(onx.SerializeToString())\r\n`\r\n\r\n<html xmlns:o=\"urn:schemas-microsoft-com:office:office\"\r\nxmlns:x=\"urn:schemas-microsoft-com:office:excel\"\r\nxmlns=\"http://www.w3.org/TR/REC-html40\">\r\n\r\n<head>\r\n\r\n<meta name=ProgId content=Excel.Sheet>\r\n<meta name=Generator content=\"Microsoft Excel 15\">\r\n<link id=Main-File rel=Main-File\r\nhref=\"file:///C:/Users/VEENA~1.UND/AppData/Local/Temp/msohtmlclip1/01/clip.htm\">\r\n<link rel=File-List\r\nhref=\"file:///C:/Users/VEENA~1.UND/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml\">\r\n<style>\r\n<!--table\r\n\t{mso-displayed-decimal-separator:\"\\.\";\r\n\tmso-displayed-thousand-separator:\"\\,\";}\r\n@page\r\n\t{margin:.75in .7in .75in .7in;\r\n\tmso-header-margin:.3in;\r\n\tmso-footer-margin:.3in;}\r\ntr\r\n\t{mso-height-source:auto;}\r\ncol\r\n\t{mso-width-source:auto;}\r\nbr\r\n\t{mso-data-placement:same-cell;}\r\ntd\r\n\t{padding-top:1px;\r\n\tpadding-right:1px;\r\n\tpadding-left:1px;\r\n\tmso-ignore:padding;\r\n\tcolor:black;\r\n\tfont-size:11.0pt;\r\n\tfont-weight:400;\r\n\tfont-style:normal;\r\n\ttext-decoration:none;\r\n\tfont-family:Calibri, sans-serif;\r\n\tmso-font-charset:0;\r\n\tmso-number-format:General;\r\n\ttext-align:general;\r\n\tvertical-align:bottom;\r\n\tborder:none;\r\n\tmso-background-source:auto;\r\n\tmso-pattern:auto;\r\n\tmso-protection:locked visible;\r\n\twhite-space:nowrap;\r\n\tmso-rotate:0;}\r\n.xl63\r\n\t{white-space:normal;}\r\n.xl64\r\n\t{text-align:center;}\r\n-->\r\n</style>\r\n</head>\r\n\r\n<body link=\"#0563C1\" vlink=\"#954F72\">\r\n\r\n\r\n\r\npython_onnx_inference_results | python_onnx_inference_probab | c_onnx_inference_results | C_onnx_inference_probab\r\n-- | -- | -- | --\r\n2 | {0: 0.0, 1: 0.17000000178813934, 2: 0.8299995064735413} | 2 | [0: 0.0,  1: 0.000000000,  2: 0.829999506]\r\n2 | {0: 0.0, 1: 0.0, 2: 0.9999993443489075} | 2 | [0: 0.0,  1: 0.000000000,  2: 0.999999344]\r\n2 | {0: 0.0, 1: 0.06999999284744263, 2: 0.9299994111061096} | 2 | [0: 0.0,  1: 0.000000000,  2: 0.929999411]\r\n1 | {0: 0.0, 1: 0.9999993443489075, 2: 0.0} | 0 | [0: 0.0,  1: 0.000000000,  2: 0.000000000]\r\n0 | {0: 0.9999993443489075, 1: 0.0, 2: 0.0} | 0 | [0: 0.0,  1: 0.000000000,  2: 0.000000000]\r\n2 | {0: 0.0, 1: 0.0, 2: 0.9999993443489075} | 2 | [0: 0.0,  1: 0.000000000,  2: 0.999999344]\r\n2 | {0: 0.0, 1: 0.12999998033046722, 2: 0.8699994683265686} | 2 | [0: 0.0,  1: 0.000000000,  2: 0.869999468]\r\n0 | {0: 0.9999993443489075, 1: 0.0, 2: 0.0} | 0 | [0: 0.0,  1: 0.000000000,  2: 0.000000000]\r\n2 | {0: 0.0, 1: 0.0, 2: 0.9999993443489075} | 2 | [0: 0.0,  1: 0.000000000,  2: 0.999999344]\r\n2 | {0: 0.0, 1: 0.0, 2: 0.9999993443489075} | 2 | [0: 0.0,  1: 0.000000000,  2: 0.999999344]\r\n0 | {0: 0.9999993443489075, 1: 0.0, 2: 0.0} | 0 | [0: 0.0,  1: 0.000000000,  2: 0.000000000]\r\n1 | {0: 0.0, 1: 0.9799993634223938, 2: 0.019999999552965164} | 2 | [0: 0.0,  1: 0.000000000,  2: 0.020000000]\r\n2 | {0: 0.0, 1: 0.17000000178813934, 2: 0.8299995064735413} | 2 | [0: 0.0,  1: 0.000000000,  2: 0.829999506]\r\n0 | {0: 0.9999993443489075, 1: 0.0, 2: 0.0} | 0 | [0: 0.0,  1: 0.000000000,  2: 0.000000000]\r\n1 | {0: 0.0, 1: 0.9899993538856506, 2: 0.009999999776482582} | 2 | [0: 0.0,  1: 0.000000000,  2: 0.010000000]\r\n0 | {0: 0.9999993443489075, 1: 0.0, 2: 0.0} | 0 | [0: 0.0,  1: 0.000000000,  2: 0.000000000]\r\n0 | {0: 0.9999993443489075, 1: 0.0, 2: 0.0} | 0 | [0: 0.0,  1: 0.000000000,  2: 0.000000000]\r\n0 | {0: 0.9999993443489075, 1: 0.0, 2: 0.0} | 0 | [0: 0.0,  1: 0.000000000,  2: 0.000000000]\r\n\r\n\r\n\r\n</body>\r\n\r\n</html>\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1538516833/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1539623310",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15665#issuecomment-1539623310",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15665",
        "id": 1539623310,
        "node_id": "IC_kwDOCVq1mM5bxMmO",
        "user": {
            "login": "VPU-tech",
            "id": 127847792,
            "node_id": "U_kgDOB57NcA",
            "avatar_url": "https://avatars.githubusercontent.com/u/127847792?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/VPU-tech",
            "html_url": "https://github.com/VPU-tech",
            "followers_url": "https://api.github.com/users/VPU-tech/followers",
            "following_url": "https://api.github.com/users/VPU-tech/following{/other_user}",
            "gists_url": "https://api.github.com/users/VPU-tech/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/VPU-tech/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/VPU-tech/subscriptions",
            "organizations_url": "https://api.github.com/users/VPU-tech/orgs",
            "repos_url": "https://api.github.com/users/VPU-tech/repos",
            "events_url": "https://api.github.com/users/VPU-tech/events{/privacy}",
            "received_events_url": "https://api.github.com/users/VPU-tech/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-09T07:46:55Z",
        "updated_at": "2023-05-09T07:46:55Z",
        "author_association": "NONE",
        "body": "Iris Data and Reference Code available here: https://github.com/microsoft/onnxruntime/files/11275159/Iris_ONNX_Inference_Sample.zip\r\n\r\nIt contains:\r\n1. Code for ONNX inference in C++\r\n2. Code for ONNX inference in Python\r\n3. ONNX created for Iris data using Random Forest classifier.\r\n4. Pickle file for Random Forest classifier.\r\n5. Iris test data",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1539623310/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1540448125",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15665#issuecomment-1540448125",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15665",
        "id": 1540448125,
        "node_id": "IC_kwDOCVq1mM5b0V99",
        "user": {
            "login": "xadupre",
            "id": 22452781,
            "node_id": "MDQ6VXNlcjIyNDUyNzgx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22452781?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xadupre",
            "html_url": "https://github.com/xadupre",
            "followers_url": "https://api.github.com/users/xadupre/followers",
            "following_url": "https://api.github.com/users/xadupre/following{/other_user}",
            "gists_url": "https://api.github.com/users/xadupre/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xadupre/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xadupre/subscriptions",
            "organizations_url": "https://api.github.com/users/xadupre/orgs",
            "repos_url": "https://api.github.com/users/xadupre/repos",
            "events_url": "https://api.github.com/users/xadupre/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xadupre/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-09T15:53:36Z",
        "updated_at": "2023-05-09T15:53:36Z",
        "author_association": "MEMBER",
        "body": "I tried your script and it produces the following. It seems to work for me. Which version of skl2onnx, onnx, onnxruntime do you use?\r\n\r\n```\r\nActual_val,Model_predict_results,python_onnx_inference_results,python_pkl_results\r\n2,2,2,2\r\n0,0,0,0\r\n0,0,0,0\r\n1,1,1,1\r\n2,2,2,2\r\n1,1,1,1\r\n0,0,0,0\r\n2,2,2,2\r\n...\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1540448125/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1541436053",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15665#issuecomment-1541436053",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15665",
        "id": 1541436053,
        "node_id": "IC_kwDOCVq1mM5b4HKV",
        "user": {
            "login": "VPU-tech",
            "id": 127847792,
            "node_id": "U_kgDOB57NcA",
            "avatar_url": "https://avatars.githubusercontent.com/u/127847792?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/VPU-tech",
            "html_url": "https://github.com/VPU-tech",
            "followers_url": "https://api.github.com/users/VPU-tech/followers",
            "following_url": "https://api.github.com/users/VPU-tech/following{/other_user}",
            "gists_url": "https://api.github.com/users/VPU-tech/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/VPU-tech/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/VPU-tech/subscriptions",
            "organizations_url": "https://api.github.com/users/VPU-tech/orgs",
            "repos_url": "https://api.github.com/users/VPU-tech/repos",
            "events_url": "https://api.github.com/users/VPU-tech/events{/privacy}",
            "received_events_url": "https://api.github.com/users/VPU-tech/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-10T06:42:17Z",
        "updated_at": "2023-05-10T06:46:14Z",
        "author_association": "NONE",
        "body": "> I tried your script and it produces the following. It seems to work for me. Which version of skl2onnx, onnx, onnxruntime do you use?\r\n> \r\n> ```\r\n> Actual_val,Model_predict_results,python_onnx_inference_results,python_pkl_results\r\n> 2,2,2,2\r\n> 0,0,0,0\r\n> 0,0,0,0\r\n> 1,1,1,1\r\n> 2,2,2,2\r\n> 1,1,1,1\r\n> 0,0,0,0\r\n> 2,2,2,2\r\n> ...\r\n> ```\r\n\r\nWhile inferring in C++, we are using Microsoft.ML.OnnxRuntime.1.13.1 and in python skl2onnx 1.14.0 version is being used.\r\nWe are also getting same predictions for above categories, the problem is, it's not matching with 'C_onnx_inference_results'",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1541436053/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1545781594",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15665#issuecomment-1545781594",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15665",
        "id": 1545781594,
        "node_id": "IC_kwDOCVq1mM5cIsFa",
        "user": {
            "login": "VPU-tech",
            "id": 127847792,
            "node_id": "U_kgDOB57NcA",
            "avatar_url": "https://avatars.githubusercontent.com/u/127847792?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/VPU-tech",
            "html_url": "https://github.com/VPU-tech",
            "followers_url": "https://api.github.com/users/VPU-tech/followers",
            "following_url": "https://api.github.com/users/VPU-tech/following{/other_user}",
            "gists_url": "https://api.github.com/users/VPU-tech/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/VPU-tech/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/VPU-tech/subscriptions",
            "organizations_url": "https://api.github.com/users/VPU-tech/orgs",
            "repos_url": "https://api.github.com/users/VPU-tech/repos",
            "events_url": "https://api.github.com/users/VPU-tech/events{/privacy}",
            "received_events_url": "https://api.github.com/users/VPU-tech/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-12T13:49:52Z",
        "updated_at": "2023-05-12T13:49:52Z",
        "author_association": "NONE",
        "body": "Even after using same 1.14.0 version at both sides (skl2onnx and Microsoft.ML.OnnxRuntime), there is difference in prediction results and Prediction probabilities. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1545781594/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1556643888",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/15665#issuecomment-1556643888",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/15665",
        "id": 1556643888,
        "node_id": "IC_kwDOCVq1mM5cyIAw",
        "user": {
            "login": "VPU-tech",
            "id": 127847792,
            "node_id": "U_kgDOB57NcA",
            "avatar_url": "https://avatars.githubusercontent.com/u/127847792?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/VPU-tech",
            "html_url": "https://github.com/VPU-tech",
            "followers_url": "https://api.github.com/users/VPU-tech/followers",
            "following_url": "https://api.github.com/users/VPU-tech/following{/other_user}",
            "gists_url": "https://api.github.com/users/VPU-tech/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/VPU-tech/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/VPU-tech/subscriptions",
            "organizations_url": "https://api.github.com/users/VPU-tech/orgs",
            "repos_url": "https://api.github.com/users/VPU-tech/repos",
            "events_url": "https://api.github.com/users/VPU-tech/events{/privacy}",
            "received_events_url": "https://api.github.com/users/VPU-tech/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-22T06:58:09Z",
        "updated_at": "2023-05-22T06:58:09Z",
        "author_association": "NONE",
        "body": "@yf711, I have provided required information for the issue reproduction. Can we please change the issue state to something else?\r\n@xadupre, can you please help us to identify the root cause of the issue? As per the shared probability data, Probabilities are always zero for first 2 categories / labels. Is any correction required in C++ code?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1556643888/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]