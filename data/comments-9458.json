[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/947897937",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9458#issuecomment-947897937",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9458",
        "id": 947897937,
        "node_id": "IC_kwDOCVq1mM44f8ZR",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-20T17:47:19Z",
        "updated_at": "2021-10-20T17:47:19Z",
        "author_association": "MEMBER",
        "body": "updated title and tracked as feature request.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/947897937/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/955043814",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9458#issuecomment-955043814",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9458",
        "id": 955043814,
        "node_id": "IC_kwDOCVq1mM447M_m",
        "user": {
            "login": "dzhen19",
            "id": 55254786,
            "node_id": "MDQ6VXNlcjU1MjU0Nzg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/55254786?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dzhen19",
            "html_url": "https://github.com/dzhen19",
            "followers_url": "https://api.github.com/users/dzhen19/followers",
            "following_url": "https://api.github.com/users/dzhen19/following{/other_user}",
            "gists_url": "https://api.github.com/users/dzhen19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dzhen19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dzhen19/subscriptions",
            "organizations_url": "https://api.github.com/users/dzhen19/orgs",
            "repos_url": "https://api.github.com/users/dzhen19/repos",
            "events_url": "https://api.github.com/users/dzhen19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dzhen19/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-10-29T20:58:12Z",
        "updated_at": "2021-10-29T20:58:12Z",
        "author_association": "NONE",
        "body": "Any updates on this? Does anyone know if there's a way to run an inference session without causing the UI thread to hang? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/955043814/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/955846706",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9458#issuecomment-955846706",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9458",
        "id": 955846706,
        "node_id": "IC_kwDOCVq1mM44-RAy",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-11-01T01:24:11Z",
        "updated_at": "2021-11-01T01:25:42Z",
        "author_association": "MEMBER",
        "body": "> Any updates on this? Does anyone know if there's a way to run an inference session without causing the UI thread to hang?\r\n\r\nI tried to compile ort.min.js targeting web worker. However that causes multiple errors in webpack. It may take more efforts than expected to make the whole ort web to work in web worker.\r\n\r\nthere is a workaround for now. use [this](https://github.com/microsoft/onnxruntime/blob/master/js/common/lib/env.ts#L84) flag to make the texture download async. It is not an official flag yet as we need more testing and may make changes to it in future.\r\n\r\nBy the way, if you are using web assembly backend, you will want to use [this](https://github.com/microsoft/onnxruntime/blob/c315d1b3cdee1d5662e529d7fdce120eefa18193/js/common/lib/env.ts#L51) flag.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/955846706/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1166348474",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9458#issuecomment-1166348474",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9458",
        "id": 1166348474,
        "node_id": "IC_kwDOCVq1mM5FhRC6",
        "user": {
            "login": "101arrowz",
            "id": 29579245,
            "node_id": "MDQ6VXNlcjI5NTc5MjQ1",
            "avatar_url": "https://avatars.githubusercontent.com/u/29579245?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/101arrowz",
            "html_url": "https://github.com/101arrowz",
            "followers_url": "https://api.github.com/users/101arrowz/followers",
            "following_url": "https://api.github.com/users/101arrowz/following{/other_user}",
            "gists_url": "https://api.github.com/users/101arrowz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/101arrowz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/101arrowz/subscriptions",
            "organizations_url": "https://api.github.com/users/101arrowz/orgs",
            "repos_url": "https://api.github.com/users/101arrowz/repos",
            "events_url": "https://api.github.com/users/101arrowz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/101arrowz/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-06-25T19:27:14Z",
        "updated_at": "2022-06-25T19:33:33Z",
        "author_association": "CONTRIBUTOR",
        "body": "This is very, very easy to make work in modern Chrome (and Firefox after you turn on a flag). [These lines](https://github.com/microsoft/onnxruntime/blob/4ebc9c3b5e4cbdd4cdf3e08906fef7ea49fed508/js/web/lib/onnxjs/backends/webgl/webgl-context-factory.ts#L86-L91) that instantiate a canvas element with the DOM can simply be replaced with the following:\r\n```ts\r\ndeclare var OffscreenCanvas: {\r\n  new(width: number, height: number): HTMLCanvasElement;\r\n}\r\n\r\nfunction createCanvas(): HTMLCanvasElement {\r\n  if (typeof document == 'undefined') {\r\n    if (typeof OffscreenCanvas == 'undefined') {\r\n      throw new TypeError('failed to create canvas: OffscreenCanvas not supported');\r\n    }\r\n    return new OffscreenCanvas(1, 1);\r\n  }\r\n  const canvas: HTMLCanvasElement = document.createElement('canvas');\r\n  canvas.width = 1;\r\n  canvas.height = 1;\r\n  return canvas;\r\n}\r\n```\r\n\r\nThis actually works almost flawlessly, I'm able to run the entirety of ORT Web in a web worker. @fs-eire if you're able I would really appreciate if you could bring this functionality into ONNX Runtime Web with a `.proxy` flag to automatically use web workers with the WebGL backend - I think that would involve sending the full graph to the web worker and using a `env.webgl.workerPath` option of some kind to construct the worker (since it's probably going to be way too big to inline).\r\n\r\nIf you can't do that I can just submit a PR with this patch. Then the user must manually make a web worker to use the worker threads.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1166348474/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1186317346",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9458#issuecomment-1186317346",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9458",
        "id": 1186317346,
        "node_id": "IC_kwDOCVq1mM5GtcQi",
        "user": {
            "login": "Amadeuy",
            "id": 107383181,
            "node_id": "U_kgDOBmaJjQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/107383181?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Amadeuy",
            "html_url": "https://github.com/Amadeuy",
            "followers_url": "https://api.github.com/users/Amadeuy/followers",
            "following_url": "https://api.github.com/users/Amadeuy/following{/other_user}",
            "gists_url": "https://api.github.com/users/Amadeuy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Amadeuy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Amadeuy/subscriptions",
            "organizations_url": "https://api.github.com/users/Amadeuy/orgs",
            "repos_url": "https://api.github.com/users/Amadeuy/repos",
            "events_url": "https://api.github.com/users/Amadeuy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Amadeuy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-07-16T22:54:11Z",
        "updated_at": "2022-07-16T22:54:11Z",
        "author_association": "NONE",
        "body": "> `WebGLBackend 2021-10-19T19:05:16.905Z|Unable to initialize WebGLBackend. ReferenceError: document is not defined`\n> \n> \n> \n> Is there any other way we can initialize WebGL ? \n> \n> \n> \n> maybe by using `OffscreenCanvas` ?\n\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1186317346/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1186317496",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9458#issuecomment-1186317496",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9458",
        "id": 1186317496,
        "node_id": "IC_kwDOCVq1mM5GtcS4",
        "user": {
            "login": "Amadeuy",
            "id": 107383181,
            "node_id": "U_kgDOBmaJjQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/107383181?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Amadeuy",
            "html_url": "https://github.com/Amadeuy",
            "followers_url": "https://api.github.com/users/Amadeuy/followers",
            "following_url": "https://api.github.com/users/Amadeuy/following{/other_user}",
            "gists_url": "https://api.github.com/users/Amadeuy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Amadeuy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Amadeuy/subscriptions",
            "organizations_url": "https://api.github.com/users/Amadeuy/orgs",
            "repos_url": "https://api.github.com/users/Amadeuy/repos",
            "events_url": "https://api.github.com/users/Amadeuy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Amadeuy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-07-16T22:54:37Z",
        "updated_at": "2022-07-16T22:54:37Z",
        "author_association": "NONE",
        "body": "> `WebGLBackend 2021-10-19T19:05:16.905Z|Unable to initialize WebGLBackend. ReferenceError: document is not defined`\n> \n> \n> \n> Is there any other way we can initialize WebGL\n\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1186317496/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1186343009",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9458#issuecomment-1186343009",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9458",
        "id": 1186343009,
        "node_id": "IC_kwDOCVq1mM5Gtihh",
        "user": {
            "login": "Amadeuy",
            "id": 107383181,
            "node_id": "U_kgDOBmaJjQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/107383181?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Amadeuy",
            "html_url": "https://github.com/Amadeuy",
            "followers_url": "https://api.github.com/users/Amadeuy/followers",
            "following_url": "https://api.github.com/users/Amadeuy/following{/other_user}",
            "gists_url": "https://api.github.com/users/Amadeuy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Amadeuy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Amadeuy/subscriptions",
            "organizations_url": "https://api.github.com/users/Amadeuy/orgs",
            "repos_url": "https://api.github.com/users/Amadeuy/repos",
            "events_url": "https://api.github.com/users/Amadeuy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Amadeuy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-07-17T00:00:07Z",
        "updated_at": "2022-07-17T00:00:07Z",
        "author_association": "NONE",
        "body": "> > `WebGLBackend 2021-10-19T19:05:16.905Z|Unable to initialize WebGLBackend. ReferenceError: document is not defined`\n> > \n> > \n> > \n> > Is there any other way we can initialize WebGL\n> \n> \n\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1186343009/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1190758517",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9458#issuecomment-1190758517",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9458",
        "id": 1190758517,
        "node_id": "IC_kwDOCVq1mM5G-Yh1",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-07-20T21:07:10Z",
        "updated_at": "2022-07-20T21:07:10Z",
        "author_association": "MEMBER",
        "body": "the issue is closed automatically by merging the PR.\r\n\r\nI reopen this issue because we didn't validate whether it is working in web worker now",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1190758517/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1197095606",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9458#issuecomment-1197095606",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9458",
        "id": 1197095606,
        "node_id": "IC_kwDOCVq1mM5HWjq2",
        "user": {
            "login": "101arrowz",
            "id": 29579245,
            "node_id": "MDQ6VXNlcjI5NTc5MjQ1",
            "avatar_url": "https://avatars.githubusercontent.com/u/29579245?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/101arrowz",
            "html_url": "https://github.com/101arrowz",
            "followers_url": "https://api.github.com/users/101arrowz/followers",
            "following_url": "https://api.github.com/users/101arrowz/following{/other_user}",
            "gists_url": "https://api.github.com/users/101arrowz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/101arrowz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/101arrowz/subscriptions",
            "organizations_url": "https://api.github.com/users/101arrowz/orgs",
            "repos_url": "https://api.github.com/users/101arrowz/repos",
            "events_url": "https://api.github.com/users/101arrowz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/101arrowz/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-07-27T17:44:48Z",
        "updated_at": "2022-07-27T17:44:48Z",
        "author_association": "CONTRIBUTOR",
        "body": "I've been using the same patch in my own fork and it works well, but I also need #11990 to be merged before I can fully switch back to original ORT Web and test fully.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1197095606/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]