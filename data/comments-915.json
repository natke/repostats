[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/487215887",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/915#issuecomment-487215887",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/915",
        "id": 487215887,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzIxNTg4Nw==",
        "user": {
            "login": "faxu",
            "id": 20780999,
            "node_id": "MDQ6VXNlcjIwNzgwOTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/20780999?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/faxu",
            "html_url": "https://github.com/faxu",
            "followers_url": "https://api.github.com/users/faxu/followers",
            "following_url": "https://api.github.com/users/faxu/following{/other_user}",
            "gists_url": "https://api.github.com/users/faxu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/faxu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/faxu/subscriptions",
            "organizations_url": "https://api.github.com/users/faxu/orgs",
            "repos_url": "https://api.github.com/users/faxu/repos",
            "events_url": "https://api.github.com/users/faxu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/faxu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-04-26T22:06:33Z",
        "updated_at": "2019-04-26T22:06:33Z",
        "author_association": "MEMBER",
        "body": "@spandantiwari : can you follow up on this for the pytorch exporter?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/487215887/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/487235026",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/915#issuecomment-487235026",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/915",
        "id": 487235026,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzIzNTAyNg==",
        "user": {
            "login": "spandantiwari",
            "id": 23646532,
            "node_id": "MDQ6VXNlcjIzNjQ2NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/23646532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spandantiwari",
            "html_url": "https://github.com/spandantiwari",
            "followers_url": "https://api.github.com/users/spandantiwari/followers",
            "following_url": "https://api.github.com/users/spandantiwari/following{/other_user}",
            "gists_url": "https://api.github.com/users/spandantiwari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spandantiwari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spandantiwari/subscriptions",
            "organizations_url": "https://api.github.com/users/spandantiwari/orgs",
            "repos_url": "https://api.github.com/users/spandantiwari/repos",
            "events_url": "https://api.github.com/users/spandantiwari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spandantiwari/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-04-26T23:59:12Z",
        "updated_at": "2019-04-26T23:59:12Z",
        "author_association": "NONE",
        "body": "@dashesy - The unused initializers seems to be coming from the PyTorch model. There's a recent change that went in PyTorch master that may be relevant to this issue. Could you please try to export the model with `do_constant_folding=True` in the call to `torch.onn.export` API, and see if this issue is gone? Since the change went in PT master recently, you may have to get the latest nightly build for PT ( that you would need to install a latest nightly build (`conda install pytorch-nightly-cpu -c pytorch`). ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/487235026/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/491168583",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/915#issuecomment-491168583",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/915",
        "id": 491168583,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTE2ODU4Mw==",
        "user": {
            "login": "mkwml",
            "id": 34429706,
            "node_id": "MDQ6VXNlcjM0NDI5NzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/34429706?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mkwml",
            "html_url": "https://github.com/mkwml",
            "followers_url": "https://api.github.com/users/mkwml/followers",
            "following_url": "https://api.github.com/users/mkwml/following{/other_user}",
            "gists_url": "https://api.github.com/users/mkwml/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mkwml/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mkwml/subscriptions",
            "organizations_url": "https://api.github.com/users/mkwml/orgs",
            "repos_url": "https://api.github.com/users/mkwml/repos",
            "events_url": "https://api.github.com/users/mkwml/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mkwml/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-10T06:08:58Z",
        "updated_at": "2019-05-10T06:08:58Z",
        "author_association": "NONE",
        "body": "@spandantiwari   hi, thanks for your advice. i have tried it, it cleaned the unused initializers,  but the function OrtSetSessionGraphOptimizationLevel can not work. i install the pytorch version is 1.1.0 nightly\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/491168583/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/492100443",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/915#issuecomment-492100443",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/915",
        "id": 492100443,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjEwMDQ0Mw==",
        "user": {
            "login": "mkwml",
            "id": 34429706,
            "node_id": "MDQ6VXNlcjM0NDI5NzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/34429706?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mkwml",
            "html_url": "https://github.com/mkwml",
            "followers_url": "https://api.github.com/users/mkwml/followers",
            "following_url": "https://api.github.com/users/mkwml/following{/other_user}",
            "gists_url": "https://api.github.com/users/mkwml/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mkwml/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mkwml/subscriptions",
            "organizations_url": "https://api.github.com/users/mkwml/orgs",
            "repos_url": "https://api.github.com/users/mkwml/repos",
            "events_url": "https://api.github.com/users/mkwml/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mkwml/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-14T06:44:01Z",
        "updated_at": "2019-05-14T06:44:01Z",
        "author_association": "NONE",
        "body": "my problem have been solved.  i used onnx optimize my model, then the unused information was not shown again.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/492100443/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/492436608",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/915#issuecomment-492436608",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/915",
        "id": 492436608,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjQzNjYwOA==",
        "user": {
            "login": "dashesy",
            "id": 873905,
            "node_id": "MDQ6VXNlcjg3MzkwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/873905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dashesy",
            "html_url": "https://github.com/dashesy",
            "followers_url": "https://api.github.com/users/dashesy/followers",
            "following_url": "https://api.github.com/users/dashesy/following{/other_user}",
            "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions",
            "organizations_url": "https://api.github.com/users/dashesy/orgs",
            "repos_url": "https://api.github.com/users/dashesy/repos",
            "events_url": "https://api.github.com/users/dashesy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dashesy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-14T22:37:56Z",
        "updated_at": "2019-05-14T22:38:09Z",
        "author_association": "NONE",
        "body": "@mkwml can you share which optimization passes you tried? I would like to try an optimization with minimal change. `eliminate_deadend` looks promising.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/492436608/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/492510648",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/915#issuecomment-492510648",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/915",
        "id": 492510648,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjUxMDY0OA==",
        "user": {
            "login": "mkwml",
            "id": 34429706,
            "node_id": "MDQ6VXNlcjM0NDI5NzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/34429706?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mkwml",
            "html_url": "https://github.com/mkwml",
            "followers_url": "https://api.github.com/users/mkwml/followers",
            "following_url": "https://api.github.com/users/mkwml/following{/other_user}",
            "gists_url": "https://api.github.com/users/mkwml/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mkwml/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mkwml/subscriptions",
            "organizations_url": "https://api.github.com/users/mkwml/orgs",
            "repos_url": "https://api.github.com/users/mkwml/repos",
            "events_url": "https://api.github.com/users/mkwml/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mkwml/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-15T05:36:36Z",
        "updated_at": "2019-05-15T05:36:36Z",
        "author_association": "NONE",
        "body": "@dashesy  i used extract_constant_to_initializer and fuse_bn_into_conv optimization passes.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/492510648/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495038815",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/915#issuecomment-495038815",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/915",
        "id": 495038815,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTAzODgxNQ==",
        "user": {
            "login": "dashesy",
            "id": 873905,
            "node_id": "MDQ6VXNlcjg3MzkwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/873905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dashesy",
            "html_url": "https://github.com/dashesy",
            "followers_url": "https://api.github.com/users/dashesy/followers",
            "following_url": "https://api.github.com/users/dashesy/following{/other_user}",
            "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions",
            "organizations_url": "https://api.github.com/users/dashesy/orgs",
            "repos_url": "https://api.github.com/users/dashesy/repos",
            "events_url": "https://api.github.com/users/dashesy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dashesy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-23T02:01:26Z",
        "updated_at": "2019-05-23T18:10:51Z",
        "author_association": "NONE",
        "body": "I had to use `eliminate_unused_initializer`:\r\n\r\n```python\r\nimport onnx\r\nfrom onnx import optimizer\r\n\r\nonnxfile = \"model.onnx\"\r\nonnx_model = onnx.load(onnxfile)\r\npasses = [\"extract_constant_to_initializer\", \"eliminate_unused_initializer\"]\r\noptimized_model = optimizer.optimize(onnx_model, passes)\r\nonnx.save(optimized_model, onnxfile)\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495038815/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]