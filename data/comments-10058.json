[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996359871",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10058#issuecomment-996359871",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10058",
        "id": 996359871,
        "node_id": "IC_kwDOCVq1mM47Yz6_",
        "user": {
            "login": "ytaous",
            "id": 4484531,
            "node_id": "MDQ6VXNlcjQ0ODQ1MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4484531?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ytaous",
            "html_url": "https://github.com/ytaous",
            "followers_url": "https://api.github.com/users/ytaous/followers",
            "following_url": "https://api.github.com/users/ytaous/following{/other_user}",
            "gists_url": "https://api.github.com/users/ytaous/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ytaous/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ytaous/subscriptions",
            "organizations_url": "https://api.github.com/users/ytaous/orgs",
            "repos_url": "https://api.github.com/users/ytaous/repos",
            "events_url": "https://api.github.com/users/ytaous/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ytaous/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-17T01:43:02Z",
        "updated_at": "2021-12-17T01:43:02Z",
        "author_association": "MEMBER",
        "body": "Hi, have u installed onnxruntime-gpu? If not, please also install onnxruntime-gpu and try again. ref- https://onnxruntime.ai/docs/install/#install-onnx-runtime-ort-1\r\n\r\nI found it's repro-able if I don't install it. BTY minor change on your code:\r\n\r\n    sess = rt.InferenceSession(model.SerializeToString(), providers=['CUDAExecutionProvider', 'CPUExecutionProvider'])\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996359871/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996542122",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10058#issuecomment-996542122",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10058",
        "id": 996542122,
        "node_id": "IC_kwDOCVq1mM47Zgaq",
        "user": {
            "login": "cbourjau",
            "id": 3288058,
            "node_id": "MDQ6VXNlcjMyODgwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3288058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbourjau",
            "html_url": "https://github.com/cbourjau",
            "followers_url": "https://api.github.com/users/cbourjau/followers",
            "following_url": "https://api.github.com/users/cbourjau/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbourjau/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbourjau/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbourjau/subscriptions",
            "organizations_url": "https://api.github.com/users/cbourjau/orgs",
            "repos_url": "https://api.github.com/users/cbourjau/repos",
            "events_url": "https://api.github.com/users/cbourjau/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbourjau/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-17T08:51:21Z",
        "updated_at": "2021-12-17T08:51:21Z",
        "author_association": "NONE",
        "body": "@ytaous No, I have not installed `onnxruntime-gpu` nor do I have a compatible GPU for testing. Or are you saying that the `CPUExecutionProvider` does not exhibit this issue if `onnxruntime-gpu` is installed?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/996542122/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1007749144",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10058#issuecomment-1007749144",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10058",
        "id": 1007749144,
        "node_id": "IC_kwDOCVq1mM48EQgY",
        "user": {
            "login": "jtilly",
            "id": 6807275,
            "node_id": "MDQ6VXNlcjY4MDcyNzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6807275?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jtilly",
            "html_url": "https://github.com/jtilly",
            "followers_url": "https://api.github.com/users/jtilly/followers",
            "following_url": "https://api.github.com/users/jtilly/following{/other_user}",
            "gists_url": "https://api.github.com/users/jtilly/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jtilly/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jtilly/subscriptions",
            "organizations_url": "https://api.github.com/users/jtilly/orgs",
            "repos_url": "https://api.github.com/users/jtilly/repos",
            "events_url": "https://api.github.com/users/jtilly/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jtilly/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-07T21:20:34Z",
        "updated_at": "2022-01-07T21:20:34Z",
        "author_association": "CONTRIBUTOR",
        "body": "These slight discrepancies appear to be caused by eigen. We opened an upstream issue at https://gitlab.com/libeigen/eigen/-/issues/2413.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1007749144/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1100834389",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10058#issuecomment-1100834389",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10058",
        "id": 1100834389,
        "node_id": "IC_kwDOCVq1mM5BnWZV",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2022-04-17T08:53:42Z",
        "updated_at": "2022-04-17T08:53:42Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1100834389/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1101547034",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10058#issuecomment-1101547034",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10058",
        "id": 1101547034,
        "node_id": "IC_kwDOCVq1mM5BqEYa",
        "user": {
            "login": "cbourjau",
            "id": 3288058,
            "node_id": "MDQ6VXNlcjMyODgwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3288058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbourjau",
            "html_url": "https://github.com/cbourjau",
            "followers_url": "https://api.github.com/users/cbourjau/followers",
            "following_url": "https://api.github.com/users/cbourjau/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbourjau/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbourjau/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbourjau/subscriptions",
            "organizations_url": "https://api.github.com/users/cbourjau/orgs",
            "repos_url": "https://api.github.com/users/cbourjau/repos",
            "events_url": "https://api.github.com/users/cbourjau/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbourjau/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-04-18T16:31:41Z",
        "updated_at": "2022-04-18T16:31:41Z",
        "author_association": "NONE",
        "body": "This issue has been extensively explored on the Eigen issue tracker as mentioned earlier: https://gitlab.com/libeigen/eigen/-/issues/2413\r\n\r\nThe gist of the discussion is that depending on the memory alignment Eigen chooses different code paths for different \"rows\" of the input. One can think of the situation as having two competing use-cases: One of uncompromising optimal performance (Eigen default) and one of \"reproducibility\" (i.e. a prediction can always be reproduced without knowledge of the previous input's batch size). The latter is our use case. We have to guarantee such reproducibility for several reasons including regulatory ones.\r\n\r\nThere are a couple of compile time flags (`EIGEN_FAST_MATH` and `EIGEN_DONT_VECTORIZE`) that Eigen offers to mitigate the issue, but I have not yet found the time to try them out with `onnxruntime`.\r\n\r\nIt would be great to know if `onnxruntime` is interested in officially supporting the \"reproducible\" use-case by providing its own (optional) compile time flags?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1101547034/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1183719259",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10058#issuecomment-1183719259",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10058",
        "id": 1183719259,
        "node_id": "IC_kwDOCVq1mM5Gjh9b",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-07-13T21:58:33Z",
        "updated_at": "2022-07-13T21:58:33Z",
        "author_association": "MEMBER",
        "body": "> These slight discrepancies appear to be caused by eigen. We opened an upstream issue at https://gitlab.com/libeigen/eigen/-/issues/2413.\r\n\r\nEigen is only used in some of the kernels, and the root cause of this issue is quite general. So even the flag is added, it will only address the concern for some kernels. It may confuse users in a sense that sometimes it works sometimes it doesn't. \r\n\r\n>  if onnxruntime is interested in officially supporting the \"reproducible\" \r\n\r\nNo. We don't have such a plan for the CPU EP. If any other EP, for example CUDA, has the functionality in its underlying engine, then we will leverage it. Otherwise we wouldn't spend time on it. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1183719259/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]