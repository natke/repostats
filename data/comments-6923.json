[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/792591993",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6923#issuecomment-792591993",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6923",
        "id": 792591993,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5MjU5MTk5Mw==",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-08T08:56:14Z",
        "updated_at": "2021-03-08T08:56:32Z",
        "author_association": "CONTRIBUTOR",
        "body": "For Android development using java/kotlin, please use Android Archive (AAR), see [Build Android Archive (AAR)]( https://www.onnxruntime.ai/docs/how-to/build.html#build-android-archive-aar)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/792591993/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794362143",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6923#issuecomment-794362143",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6923",
        "id": 794362143,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDM2MjE0Mw==",
        "user": {
            "login": "jji2019",
            "id": 49252772,
            "node_id": "MDQ6VXNlcjQ5MjUyNzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/49252772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jji2019",
            "html_url": "https://github.com/jji2019",
            "followers_url": "https://api.github.com/users/jji2019/followers",
            "following_url": "https://api.github.com/users/jji2019/following{/other_user}",
            "gists_url": "https://api.github.com/users/jji2019/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jji2019/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jji2019/subscriptions",
            "organizations_url": "https://api.github.com/users/jji2019/orgs",
            "repos_url": "https://api.github.com/users/jji2019/repos",
            "events_url": "https://api.github.com/users/jji2019/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jji2019/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-09T19:43:52Z",
        "updated_at": "2021-03-09T19:43:52Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hi @gwang-msft,\r\n\r\nThanks for providing additional documentation. I can find aar file under directory `<build_dir>/java/build/<android>/outputs/aar`. However, using aar, android app still cannot create a model session from onnx model file. \r\n\r\nHere is the error message from Android loading model\r\n```\r\n2021-03-09 11:02:29.670 31150-31150/com.abc.testnativeapp I/ZMain: abi = arm64-v8a\r\n2021-03-09 11:02:29.670 31150-31150/com.abc.testnativeapp I/ZMain: os.name = Linux\r\n2021-03-09 11:02:29.670 31150-31150/com.abc.testnativeapp I/ZMain: os.arch = aarch64\r\n2021-03-09 11:02:29.697 31150-31150/com.abc.testnativeapp I/ZMain: dir = /storage/emulated/0\r\n2021-03-09 11:02:29.697 31150-31150/com.abc.testnativeapp I/ZMain: onnxFile exists? true\r\n2021-03-09 11:02:29.706 31150-31150/com.abc.testnativeapp E/ZMain: OrtException Error code - ORT_FAIL - message: Load model from /sdcard/test/resnet.onnx failed:system error number 13\r\n2021-03-09 11:02:29.707 31150-31150/com.abc.testnativeapp W/System.err: ai.onnxruntime.OrtException: Error code - ORT_FAIL - message: Load model from /sdcard/test/resnet.onnx failed:system error number 13\r\n2021-03-09 11:02:29.707 31150-31150/com.abc.testnativeapp W/System.err:     at ai.onnxruntime.OrtSession.createSession(Native Method)\r\n2021-03-09 11:02:29.707 31150-31150/com.abc.testnativeapp W/System.err:     at ai.onnxruntime.OrtSession.<init>(OrtSession.java:67)\r\n2021-03-09 11:02:29.707 31150-31150/com.abc.testnativeapp W/System.err:     at ai.onnxruntime.OrtEnvironment.createSession(OrtEnvironment.java:163)\r\n2021-03-09 11:02:29.707 31150-31150/com.abc.testnativeapp W/System.err:     at ai.onnxruntime.OrtEnvironment.createSession(OrtEnvironment.java:148)\r\n2021-03-09 11:02:29.707 31150-31150/com.abc.testnativeapp W/System.err:     at com.abc.testnativeapp.MainActivity.onCreate(MainActivity.java:55)\r\n```\r\n\r\ncom.abc.testnativeapp.MainActivity.java\r\n```\r\n        Log.i(tag, \"abi = \" + getAbi());\r\n        Log.i(tag, \", os.name = \" + System.getProperty(\"os.name\", \"generic\"));\r\n        Log.i(tag, \", os.arch = \" + System.getProperty(\"os.arch\", \"generic\"));\r\n        this.ortEnvironment = OrtEnvironment.getEnvironment();\r\n        this.ortSessionOptions = new OrtSession.SessionOptions();\r\n        try {\r\n            // iport model and create session\r\n            File onnxFile = new File(\"/sdcard/test/resnet.onnx\");\r\n            Log.i(tag, \"onnxFile exists? \" + onnxFile.exists());\r\n            if (onnxFile != null) {\r\n                ortSession = ortEnvironment.createSession(onnxFile.getAbsolutePath(), ortSessionOptions);\r\n            } else {\r\n                Log.i(tag, \"onnxFile not there\");\r\n            }\r\n\r\n```\r\n\r\nIn addition, the aar file is generated by a machine macOS x86_64 (Big Sur 11.1). I don't know if I need to set up additional environment other than android ndk for cross building to arm64-v8a.\r\n\r\nHere is the aar build log from macOS. \r\n[20210309_android_success.log](https://www.dropbox.com/s/nmxct2blm35gakf/20210309_android_success.log?dl=0)\r\nSnippet of the log:\r\n```\r\nmyuser Workspace % git clone --branch v1.6.0 https://github.com/Microsoft/onnxruntime\r\nmyuser Workspace % cd onnxruntime\r\nmyuser onnxruntime % ./build.sh --android --android_sdk_path /Users/myuser/Library/Android/sdk --android_ndk_path /Users/myuser/Library/Android/sdk/ndk/22.0.7026061 --android_abi arm64-v8a --android_api 29 --build_java\r\n\r\n...\r\n\r\n[100%] Linking CXX executable onnxruntime_test_all\r\n[100%] Built target onnxruntime_test_all\r\n2021-03-08 21:51:58,740 util.run [DEBUG] - Subprocess completed. Return code: 0\r\n2021-03-08 21:51:58,741 build [INFO] - Running tests for MinSizeRel configuration\r\n2021-03-08 21:51:58,742 build [INFO] - Build complete\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794362143/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794377317",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6923#issuecomment-794377317",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6923",
        "id": 794377317,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDM3NzMxNw==",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-09T19:57:06Z",
        "updated_at": "2021-03-09T20:04:10Z",
        "author_association": "CONTRIBUTOR",
        "body": "```\r\n2021-03-09 11:02:29.707 31150-31150/com.abc.testnativeapp W/System.err: ai.onnxruntime.OrtException: Error code - ORT_FAIL - message: Load model from /sdcard/test/resnet.onnx failed:system error number 13\r\n```\r\n\r\nPlease see the [Android source code](https://android.googlesource.com/kernel/lk/+/upstream-master/include/errno.h#46) \r\n```\r\n#define\tEACCES 13\t/* Permission denied */\r\n```\r\nTo unblock for now, move the model file to /data/local/tmp/ folder, this is not the recommended way to store application assets. You may want to look at how to manage resource/asset for Android applications.\r\n\r\nThe AAR file is generated correctly.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794377317/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794465976",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6923#issuecomment-794465976",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6923",
        "id": 794465976,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDQ2NTk3Ng==",
        "user": {
            "login": "jji2019",
            "id": 49252772,
            "node_id": "MDQ6VXNlcjQ5MjUyNzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/49252772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jji2019",
            "html_url": "https://github.com/jji2019",
            "followers_url": "https://api.github.com/users/jji2019/followers",
            "following_url": "https://api.github.com/users/jji2019/following{/other_user}",
            "gists_url": "https://api.github.com/users/jji2019/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jji2019/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jji2019/subscriptions",
            "organizations_url": "https://api.github.com/users/jji2019/orgs",
            "repos_url": "https://api.github.com/users/jji2019/repos",
            "events_url": "https://api.github.com/users/jji2019/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jji2019/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-09T21:17:13Z",
        "updated_at": "2021-03-09T21:17:13Z",
        "author_association": "CONTRIBUTOR",
        "body": "@gwang-msft, thanks! I thought this is the error code from ORT.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794465976/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794478676",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6923#issuecomment-794478676",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6923",
        "id": 794478676,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDQ3ODY3Ng==",
        "user": {
            "login": "jji2019",
            "id": 49252772,
            "node_id": "MDQ6VXNlcjQ5MjUyNzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/49252772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jji2019",
            "html_url": "https://github.com/jji2019",
            "followers_url": "https://api.github.com/users/jji2019/followers",
            "following_url": "https://api.github.com/users/jji2019/following{/other_user}",
            "gists_url": "https://api.github.com/users/jji2019/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jji2019/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jji2019/subscriptions",
            "organizations_url": "https://api.github.com/users/jji2019/orgs",
            "repos_url": "https://api.github.com/users/jji2019/repos",
            "events_url": "https://api.github.com/users/jji2019/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jji2019/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-09T21:28:49Z",
        "updated_at": "2021-03-09T21:28:49Z",
        "author_association": "CONTRIBUTOR",
        "body": "btw, here is another build log from Linux x86_64 server.\r\njar is generated at `<build_dir>/java/build/libs/onnxruntime-1.6.0.jar`\r\naar file is not found.\r\nThe output folder `<build_dir>/java/build/android` is not created.\r\n\r\n[20210309_android_success_linux_x86_64_server.log](https://www.dropbox.com/s/o2jrocmmll3h26b/20210309_android_success_linux_x86_64_server.log?dl=0)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794478676/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794875070",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6923#issuecomment-794875070",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6923",
        "id": 794875070,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDg3NTA3MA==",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-10T04:50:22Z",
        "updated_at": "2021-03-10T04:50:22Z",
        "author_association": "CONTRIBUTOR",
        "body": "I did a build using Linux, the aar files are correctly generated under build/Android/Release/java/build/android/outputs/aar/",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/794875070/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/795912338",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6923#issuecomment-795912338",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6923",
        "id": 795912338,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5NTkxMjMzOA==",
        "user": {
            "login": "jji2019",
            "id": 49252772,
            "node_id": "MDQ6VXNlcjQ5MjUyNzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/49252772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jji2019",
            "html_url": "https://github.com/jji2019",
            "followers_url": "https://api.github.com/users/jji2019/followers",
            "following_url": "https://api.github.com/users/jji2019/following{/other_user}",
            "gists_url": "https://api.github.com/users/jji2019/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jji2019/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jji2019/subscriptions",
            "organizations_url": "https://api.github.com/users/jji2019/orgs",
            "repos_url": "https://api.github.com/users/jji2019/repos",
            "events_url": "https://api.github.com/users/jji2019/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jji2019/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-10T18:57:18Z",
        "updated_at": "2021-03-10T18:57:18Z",
        "author_association": "CONTRIBUTOR",
        "body": "Really appreciate that you provide the detailed path to the aar file! I found it is under my location at `<ort_build_dir>/build/Android/MinSizeRel/java/build/android/outputs/aar`",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/795912338/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]