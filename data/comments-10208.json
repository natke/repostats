[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1006742024",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10208#issuecomment-1006742024",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10208",
        "id": 1006742024,
        "node_id": "IC_kwDOCVq1mM48AaoI",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-06T16:49:12Z",
        "updated_at": "2022-01-06T16:49:12Z",
        "author_association": "MEMBER",
        "body": "There is a test tool onnxruntime_perf_test you can try on your onnx model:\r\nhttps://github.com/microsoft/onnxruntime/blob/master/onnxruntime/test/perftest/ReadMe.txt\r\n\r\nGeneral suggestion is that (1) You need some warm-up inference run before starting measurement. (2) use IO Binding for GPU inference.\r\n\r\nIf the issue still exists after trying above, please share your test code and ONNX model so that others can help.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1006742024/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1006785653",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10208#issuecomment-1006785653",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10208",
        "id": 1006785653,
        "node_id": "IC_kwDOCVq1mM48AlR1",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-06T17:45:05Z",
        "updated_at": "2022-01-06T17:45:05Z",
        "author_association": "MEMBER",
        "body": "You can also try https://github.com/mlcommons/inference\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1006785653/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1007400222",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10208#issuecomment-1007400222",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10208",
        "id": 1007400222,
        "node_id": "IC_kwDOCVq1mM48C7Ue",
        "user": {
            "login": "garymmi",
            "id": 56832974,
            "node_id": "MDQ6VXNlcjU2ODMyOTc0",
            "avatar_url": "https://avatars.githubusercontent.com/u/56832974?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garymmi",
            "html_url": "https://github.com/garymmi",
            "followers_url": "https://api.github.com/users/garymmi/followers",
            "following_url": "https://api.github.com/users/garymmi/following{/other_user}",
            "gists_url": "https://api.github.com/users/garymmi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/garymmi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/garymmi/subscriptions",
            "organizations_url": "https://api.github.com/users/garymmi/orgs",
            "repos_url": "https://api.github.com/users/garymmi/repos",
            "events_url": "https://api.github.com/users/garymmi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/garymmi/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-07T13:18:08Z",
        "updated_at": "2022-01-08T06:03:05Z",
        "author_association": "NONE",
        "body": "thanks for  your reply\r\nmy model has two input nodes, one is \"speech\", another is \"speech_lengths\"\r\ni reference the post 「[Using onnxruntime perf test #2762](https://github.com/microsoft/onnxruntime/issues/2762)」 to generate speech.pb and speech_lengths.pb\r\nThe folder structure is like this:\r\nconformer/model.onnx\r\nconformer/test_data_set_0/speech.pb\r\nconformer/test_data_set_0/speech_lengths.pb\r\n\r\nbut i run the command : ~/onnxruntime/build/Linux/Release/onnxruntime_perf_test conformer/model.onnx 1.csv\r\nthe error message : \r\nthere is no test input data for input speech and model conformer.\r\nRun failed:failed to initialize.\r\n\r\nhow to fix it ?\r\nthanks",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1007400222/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1007923469",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10208#issuecomment-1007923469",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10208",
        "id": 1007923469,
        "node_id": "IC_kwDOCVq1mM48E7EN",
        "user": {
            "login": "garymmi",
            "id": 56832974,
            "node_id": "MDQ6VXNlcjU2ODMyOTc0",
            "avatar_url": "https://avatars.githubusercontent.com/u/56832974?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garymmi",
            "html_url": "https://github.com/garymmi",
            "followers_url": "https://api.github.com/users/garymmi/followers",
            "following_url": "https://api.github.com/users/garymmi/following{/other_user}",
            "gists_url": "https://api.github.com/users/garymmi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/garymmi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/garymmi/subscriptions",
            "organizations_url": "https://api.github.com/users/garymmi/orgs",
            "repos_url": "https://api.github.com/users/garymmi/repos",
            "events_url": "https://api.github.com/users/garymmi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/garymmi/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-08T09:38:02Z",
        "updated_at": "2022-01-08T09:38:02Z",
        "author_association": "NONE",
        "body": "referene this post to prepare input data\r\n[Optimizing BERT model for Intel CPU Cores using ONNX runtime default execution provider](https://cloudblogs.microsoft.com/opensource/2021/03/01/optimizing-bert-model-for-intel-cpu-cores-using-onnx-runtime-default-execution-provider/)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1007923469/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1007938577",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10208#issuecomment-1007938577",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10208",
        "id": 1007938577,
        "node_id": "IC_kwDOCVq1mM48E-wR",
        "user": {
            "login": "garymmi",
            "id": 56832974,
            "node_id": "MDQ6VXNlcjU2ODMyOTc0",
            "avatar_url": "https://avatars.githubusercontent.com/u/56832974?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garymmi",
            "html_url": "https://github.com/garymmi",
            "followers_url": "https://api.github.com/users/garymmi/followers",
            "following_url": "https://api.github.com/users/garymmi/following{/other_user}",
            "gists_url": "https://api.github.com/users/garymmi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/garymmi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/garymmi/subscriptions",
            "organizations_url": "https://api.github.com/users/garymmi/orgs",
            "repos_url": "https://api.github.com/users/garymmi/repos",
            "events_url": "https://api.github.com/users/garymmi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/garymmi/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-08T09:51:01Z",
        "updated_at": "2022-01-08T09:52:14Z",
        "author_association": "NONE",
        "body": "cpu inference test result\r\n```\r\niteration:100,time_cost:0.160772\r\nSession creation time cost: 1.35043 s\r\nTotal inference time cost: 16.3426 s\r\nTotal inference requests: 100\r\nAverage inference time cost: 163.426 ms\r\nTotal inference run time: 16.3558 s\r\nAvg CPU usage: 49 %\r\nPeak working set size: 335683584 bytes\r\nAvg CPU usage:49\r\nPeak working set size:335683584\r\nRuns:100\r\nMin Latency: 0.159818 s\r\nMax Latency: 0.221333 s\r\nP50 Latency: 0.161586 s\r\nP90 Latency: 0.167278 s\r\nP95 Latency: 0.171919 s\r\nP99 Latency: 0.221333 s\r\nP999 Latency: 0.221333 s\r\n```\r\ngpu inference test result\r\n```\r\niteration:100,time_cost:0.0320916\r\nSession creation time cost: 5.2339 s\r\nTotal inference time cost: 3.20928 s\r\nTotal inference requests: 100\r\nAverage inference time cost: 32.0928 ms\r\nTotal inference run time: 3.2199 s\r\nAvg CPU usage: 31 %\r\nPeak working set size: 1721921536 bytes\r\nAvg CPU usage:31\r\nPeak working set size:1721921536\r\nRuns:100\r\nMin Latency: 0.0315771 s\r\nMax Latency: 0.0345209 s\r\nP50 Latency: 0.0319999 s\r\nP90 Latency: 0.0324022 s\r\nP95 Latency: 0.033062 s\r\nP99 Latency: 0.0345209 s\r\nP999 Latency: 0.0345209 s\r\n```\r\n\r\nit showed gpu is faster than cpu\r\ni must check my gpu inference code again\r\nthanks",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1007938577/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1229194204",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/10208#issuecomment-1229194204",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/10208",
        "id": 1229194204,
        "node_id": "IC_kwDOCVq1mM5JRAPc",
        "user": {
            "login": "roshan-gopalakrishnan",
            "id": 11881776,
            "node_id": "MDQ6VXNlcjExODgxNzc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11881776?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/roshan-gopalakrishnan",
            "html_url": "https://github.com/roshan-gopalakrishnan",
            "followers_url": "https://api.github.com/users/roshan-gopalakrishnan/followers",
            "following_url": "https://api.github.com/users/roshan-gopalakrishnan/following{/other_user}",
            "gists_url": "https://api.github.com/users/roshan-gopalakrishnan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/roshan-gopalakrishnan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/roshan-gopalakrishnan/subscriptions",
            "organizations_url": "https://api.github.com/users/roshan-gopalakrishnan/orgs",
            "repos_url": "https://api.github.com/users/roshan-gopalakrishnan/repos",
            "events_url": "https://api.github.com/users/roshan-gopalakrishnan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/roshan-gopalakrishnan/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-27T13:37:31Z",
        "updated_at": "2022-08-27T13:37:31Z",
        "author_association": "NONE",
        "body": "@garymmi What is your findings about running onnxruntime on GPU ? I am also observing as you mentioned initially. Any insights ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1229194204/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]