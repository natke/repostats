[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1247756862",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/12969#issuecomment-1247756862",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/12969",
        "id": 1247756862,
        "node_id": "IC_kwDOCVq1mM5KX0I-",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-15T08:24:14Z",
        "updated_at": "2022-09-15T08:24:14Z",
        "author_association": "MEMBER",
        "body": "The underlying issue is that the installation instructions and folder setup for cudnn keep changing. The ORT cmake file needs to handle this somewhat insane number of combinations, as depending on when the user followed the cudnn install instructions any could be 'valid'.\r\n\r\nIn August it changed to the source folder being 'lib'\r\n\r\n<img width=\"297\" alt=\"image\" src=\"https://user-images.githubusercontent.com/979079/190352521-a2d3b552-6c3e-4450-bf2d-eae52ef879d3.png\">\r\n\r\nPreviously the instructions were to copy the 'lib/x64' folder\r\n\r\nhttps://web.archive.org/web/20220724181728/https://docs.nvidia.com/deeplearning/cudnn/install-guide/index.html\r\n\r\n<img width=\"313\" alt=\"image\" src=\"https://user-images.githubusercontent.com/979079/190352219-95ff43a8-aefd-4d4f-bbe6-c588be89ba7a.png\">\r\n\r\nAnd earlier in the year it involved copying to the CUDA install directory rather than a cuDNN directory\r\n\r\nhttps://web.archive.org/web/20220129092717/https://docs.nvidia.com/deeplearning/cudnn/install-guide/index.html\r\n\r\n<img width=\"465\" alt=\"image\" src=\"https://user-images.githubusercontent.com/979079/190353191-443e42fe-1f5c-4bd5-b55d-15c6b2a6d3d0.png\">\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1247756862/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1247771018",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/12969#issuecomment-1247771018",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/12969",
        "id": 1247771018,
        "node_id": "IC_kwDOCVq1mM5KX3mK",
        "user": {
            "login": "diablodale",
            "id": 679350,
            "node_id": "MDQ6VXNlcjY3OTM1MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/679350?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/diablodale",
            "html_url": "https://github.com/diablodale",
            "followers_url": "https://api.github.com/users/diablodale/followers",
            "following_url": "https://api.github.com/users/diablodale/following{/other_user}",
            "gists_url": "https://api.github.com/users/diablodale/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/diablodale/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/diablodale/subscriptions",
            "organizations_url": "https://api.github.com/users/diablodale/orgs",
            "repos_url": "https://api.github.com/users/diablodale/repos",
            "events_url": "https://api.github.com/users/diablodale/events{/privacy}",
            "received_events_url": "https://api.github.com/users/diablodale/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-15T08:35:20Z",
        "updated_at": "2022-09-15T08:35:20Z",
        "author_association": "CONTRIBUTOR",
        "body": "Got it. I saw the `#TODO: combine onnxruntime_CUDNN_HOME and onnxruntime_CUDA_HOME, assume they are the same` comment a few line above my fix. I discourage that (and recommend removing that TODO) as Windows package managers and the most recent two methods you list above *don't* have cuda and cudnn in shared folders.\r\n\r\nFrom what I can see at the moment, Windows is the pain point and the libraries are one of two directories. My PR adds both those possibilities. And aborting the TODO can deal with the shared or not.\r\n\r\nMy alternative was to probe with `IF(EXISTS)` and a series of if/else to use the path it finds `cudnn.lib`. Could use `file(GLOB_RECURSE ... cudnn.lib)` and use that path. Or go fancy and burn devtime using/writing a cmake find module for cudnn. ;-)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1247771018/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]