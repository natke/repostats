[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/583067205",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2974#issuecomment-583067205",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2974",
        "id": 583067205,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU4MzA2NzIwNQ==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-02-06T19:21:31Z",
        "updated_at": "2020-02-06T19:21:31Z",
        "author_association": "MEMBER",
        "body": "It seems like there is a problem with the conversion. Just to be sure, can you share the model please ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/583067205/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/583204533",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2974#issuecomment-583204533",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2974",
        "id": 583204533,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU4MzIwNDUzMw==",
        "user": {
            "login": "venkateshkrc",
            "id": 2994809,
            "node_id": "MDQ6VXNlcjI5OTQ4MDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2994809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/venkateshkrc",
            "html_url": "https://github.com/venkateshkrc",
            "followers_url": "https://api.github.com/users/venkateshkrc/followers",
            "following_url": "https://api.github.com/users/venkateshkrc/following{/other_user}",
            "gists_url": "https://api.github.com/users/venkateshkrc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/venkateshkrc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/venkateshkrc/subscriptions",
            "organizations_url": "https://api.github.com/users/venkateshkrc/orgs",
            "repos_url": "https://api.github.com/users/venkateshkrc/repos",
            "events_url": "https://api.github.com/users/venkateshkrc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/venkateshkrc/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-02-07T02:25:25Z",
        "updated_at": "2020-02-07T02:39:02Z",
        "author_association": "NONE",
        "body": "The model works fine using ML.NET 1.4.0.  But fails when loading an inference session using onnxruntime for Python.\r\n\r\nSorry about the rather large model file. It is a transfer learnt VGG16 model.\r\n\r\n[https://drive.google.com/open?id=15gw1bfgBLLcXLrM5LxA2408_60tm5Hi4](url)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/583204533/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/600608027",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2974#issuecomment-600608027",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2974",
        "id": 600608027,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDYwODAyNw==",
        "user": {
            "login": "konabuta",
            "id": 3815677,
            "node_id": "MDQ6VXNlcjM4MTU2Nzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3815677?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/konabuta",
            "html_url": "https://github.com/konabuta",
            "followers_url": "https://api.github.com/users/konabuta/followers",
            "following_url": "https://api.github.com/users/konabuta/following{/other_user}",
            "gists_url": "https://api.github.com/users/konabuta/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/konabuta/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/konabuta/subscriptions",
            "organizations_url": "https://api.github.com/users/konabuta/orgs",
            "repos_url": "https://api.github.com/users/konabuta/repos",
            "events_url": "https://api.github.com/users/konabuta/events{/privacy}",
            "received_events_url": "https://api.github.com/users/konabuta/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-18T12:58:48Z",
        "updated_at": "2020-03-18T12:58:48Z",
        "author_association": "MEMBER",
        "body": "@hariharans29  Could you check this ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/600608027/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/600807600",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2974#issuecomment-600807600",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2974",
        "id": 600807600,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDgwNzYwMA==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-18T19:03:23Z",
        "updated_at": "2020-03-18T19:03:23Z",
        "author_association": "MEMBER",
        "body": "Hi,\r\n\r\nSorry I was busy with other stuff and I lost track of this.\r\n\r\nI took a look and it seems like the model has an issue - \r\n\r\n\r\n![image](https://user-images.githubusercontent.com/9969784/76997015-c9d7a400-690f-11ea-891a-122ba6575065.png)\r\n\r\nThe output edge is marked to be of float16 type (which seems to be expected as the node consuming this edge seems to require float16 too). But the 'to' attribute has a value '1' which according to Cast's [spec](https://github.com/onnx/onnx/blob/master/docs/Operators.md#Cast), actually corresponds to converting it to [float](https://github.com/onnx/onnx/blob/master/onnx/onnx.proto#L453). When ORT runs type inferencing statically (at model load time), it notices that the request is to convert it to \"float\" but the edge is bound to \"float16\" and hence it throws.\r\n\r\nORT does support [converting to float16](https://github.com/microsoft/onnxruntime/blob/c24d7a8a0a95002cfde70db8ffdac1a1d95b3ca7/onnxruntime/core/providers/cpu/tensor/cast_op.cc#L54). So, once this issue is fixed, provided there are no other conversion issues, the model should run fine.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/600807600/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/600814971",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2974#issuecomment-600814971",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2974",
        "id": 600814971,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDgxNDk3MQ==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-18T19:21:29Z",
        "updated_at": "2020-03-18T19:21:51Z",
        "author_association": "MEMBER",
        "body": "Here is a way to fix this issue. \r\n\r\nInstall onnx via pip  and then run this python script - \r\n\r\n```\r\nimport onnx\r\n\r\nmodel =onnx.load('cast_model.onnx')\r\ngraph = model.graph\r\nfor node in graph.node:\r\n\tif node.name == \"TFNodes_flatten_1_Shape__7\":\r\n\t\tfor attr in node.attribute:\r\n\t\t\tattr.i = 10\r\n\t\r\nonnx.save(model, 'cast_model_fixed.onnx')\r\n```\r\n\r\nThe fixed model loaded fine for me but you must try making sample inference runs and make sure the output is right because there could be more conversion issues/ runtime issues.\r\n\r\nClosing this out for now. Please re-ope if you encounter further issues. Thanks.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/600814971/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]