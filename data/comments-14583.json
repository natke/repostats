[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419599258",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14583#issuecomment-1419599258",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14583",
        "id": 1419599258,
        "node_id": "IC_kwDOCVq1mM5UnV2a",
        "user": {
            "login": "shalvamist",
            "id": 94086448,
            "node_id": "U_kgDOBZulMA",
            "avatar_url": "https://avatars.githubusercontent.com/u/94086448?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shalvamist",
            "html_url": "https://github.com/shalvamist",
            "followers_url": "https://api.github.com/users/shalvamist/followers",
            "following_url": "https://api.github.com/users/shalvamist/following{/other_user}",
            "gists_url": "https://api.github.com/users/shalvamist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shalvamist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shalvamist/subscriptions",
            "organizations_url": "https://api.github.com/users/shalvamist/orgs",
            "repos_url": "https://api.github.com/users/shalvamist/repos",
            "events_url": "https://api.github.com/users/shalvamist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shalvamist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-06T19:05:33Z",
        "updated_at": "2023-02-06T19:05:33Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hi nezaBacar,\r\n\r\nThanks for the detailed report of the issue. I was able to reproduce the problem on my end.\r\nA quick possible bypass you might want to use is to convert the model to ORT format.\r\n\r\nThis can be done using this command line - mode details can be found here [link](https://fs-eire.github.io/onnxruntime/docs/reference/ort-format-models.html#convert-onnx-models-to-ort-format-script-usage)\r\n```python -m onnxruntime.tools.convert_onnx_models_to_ort model.onnx --optimization_style Fixed```\r\n\r\nI tested it on my end and can create a session with the ort model in the browser. Hope this will unblock you for now.\r\nI will keep investigating the issue and update you with the results.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419599258/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419773150",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14583#issuecomment-1419773150",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14583",
        "id": 1419773150,
        "node_id": "IC_kwDOCVq1mM5UoATe",
        "user": {
            "login": "guschmue",
            "id": 22941064,
            "node_id": "MDQ6VXNlcjIyOTQxMDY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/22941064?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guschmue",
            "html_url": "https://github.com/guschmue",
            "followers_url": "https://api.github.com/users/guschmue/followers",
            "following_url": "https://api.github.com/users/guschmue/following{/other_user}",
            "gists_url": "https://api.github.com/users/guschmue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guschmue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guschmue/subscriptions",
            "organizations_url": "https://api.github.com/users/guschmue/orgs",
            "repos_url": "https://api.github.com/users/guschmue/repos",
            "events_url": "https://api.github.com/users/guschmue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guschmue/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-06T21:21:35Z",
        "updated_at": "2023-02-06T21:21:35Z",
        "author_association": "MEMBER",
        "body": "btw, the issue is that onnxruntime-web currently does not support the onnx external data format (aka the graph is in the onnx file and weights are in seperate files). Converting it to a .ort file just puts model and weights into the same file.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419773150/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1423034928",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14583#issuecomment-1423034928",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14583",
        "id": 1423034928,
        "node_id": "IC_kwDOCVq1mM5U0cow",
        "user": {
            "login": "nezaBacar",
            "id": 44346767,
            "node_id": "MDQ6VXNlcjQ0MzQ2NzY3",
            "avatar_url": "https://avatars.githubusercontent.com/u/44346767?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nezaBacar",
            "html_url": "https://github.com/nezaBacar",
            "followers_url": "https://api.github.com/users/nezaBacar/followers",
            "following_url": "https://api.github.com/users/nezaBacar/following{/other_user}",
            "gists_url": "https://api.github.com/users/nezaBacar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nezaBacar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nezaBacar/subscriptions",
            "organizations_url": "https://api.github.com/users/nezaBacar/orgs",
            "repos_url": "https://api.github.com/users/nezaBacar/repos",
            "events_url": "https://api.github.com/users/nezaBacar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nezaBacar/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-08T18:06:53Z",
        "updated_at": "2023-02-08T18:06:53Z",
        "author_association": "NONE",
        "body": "Okay I understand, I tried to convert it to ORT format and it works. Thank you both for the fast response",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1423034928/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1423125433",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14583#issuecomment-1423125433",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14583",
        "id": 1423125433,
        "node_id": "IC_kwDOCVq1mM5U0yu5",
        "user": {
            "login": "guschmue",
            "id": 22941064,
            "node_id": "MDQ6VXNlcjIyOTQxMDY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/22941064?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guschmue",
            "html_url": "https://github.com/guschmue",
            "followers_url": "https://api.github.com/users/guschmue/followers",
            "following_url": "https://api.github.com/users/guschmue/following{/other_user}",
            "gists_url": "https://api.github.com/users/guschmue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guschmue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guschmue/subscriptions",
            "organizations_url": "https://api.github.com/users/guschmue/orgs",
            "repos_url": "https://api.github.com/users/guschmue/repos",
            "events_url": "https://api.github.com/users/guschmue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guschmue/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-08T19:24:26Z",
        "updated_at": "2023-02-08T19:24:26Z",
        "author_association": "MEMBER",
        "body": "interesting model - we'd love to see this work in the browser. \r\nLet us know if you run into more issues.\r\n\r\nI expect that even with this smaller model you will run into perf issues with wasm. You can squeeze a little more out of wasm by enabling multiple threads with:\r\n```\r\n    --enable-features=SharedArrayBuffer in the chrome command line\r\n```\r\nor by sending the following headers from the server:\r\n```\r\n     self.send_header(\"Cross-Origin-Opener-Policy\", \"same-origin\")\r\n     self.send_header(\"Cross-Origin-Embedder-Policy\", \"require-corp\")\r\n```\r\nIn your source you can than request the number of threads you want:\r\n```\r\nort.env.wasm.numThreads = 8;\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1423125433/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1528962327",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14583#issuecomment-1528962327",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14583",
        "id": 1528962327,
        "node_id": "IC_kwDOCVq1mM5bIh0X",
        "user": {
            "login": "nezaBacar",
            "id": 44346767,
            "node_id": "MDQ6VXNlcjQ0MzQ2NzY3",
            "avatar_url": "https://avatars.githubusercontent.com/u/44346767?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nezaBacar",
            "html_url": "https://github.com/nezaBacar",
            "followers_url": "https://api.github.com/users/nezaBacar/followers",
            "following_url": "https://api.github.com/users/nezaBacar/following{/other_user}",
            "gists_url": "https://api.github.com/users/nezaBacar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nezaBacar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nezaBacar/subscriptions",
            "organizations_url": "https://api.github.com/users/nezaBacar/orgs",
            "repos_url": "https://api.github.com/users/nezaBacar/repos",
            "events_url": "https://api.github.com/users/nezaBacar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nezaBacar/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-30T07:49:24Z",
        "updated_at": "2023-04-30T07:49:24Z",
        "author_association": "NONE",
        "body": "Thank you for the response. I was able to resolve the problem.\r\nThis is actually a smaller version of stable diffusion model, I am trying to recreate the inference on the browser side and then test it with an actual model. I expect to have some performance issues, just trying to test the limits. Thank you so much for additional tips. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1528962327/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1543799141",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14583#issuecomment-1543799141",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14583",
        "id": 1543799141,
        "node_id": "IC_kwDOCVq1mM5cBIFl",
        "user": {
            "login": "nezaBacar",
            "id": 44346767,
            "node_id": "MDQ6VXNlcjQ0MzQ2NzY3",
            "avatar_url": "https://avatars.githubusercontent.com/u/44346767?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nezaBacar",
            "html_url": "https://github.com/nezaBacar",
            "followers_url": "https://api.github.com/users/nezaBacar/followers",
            "following_url": "https://api.github.com/users/nezaBacar/following{/other_user}",
            "gists_url": "https://api.github.com/users/nezaBacar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nezaBacar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nezaBacar/subscriptions",
            "organizations_url": "https://api.github.com/users/nezaBacar/orgs",
            "repos_url": "https://api.github.com/users/nezaBacar/repos",
            "events_url": "https://api.github.com/users/nezaBacar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nezaBacar/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-11T11:10:13Z",
        "updated_at": "2023-05-11T11:10:13Z",
        "author_association": "NONE",
        "body": "> btw, the issue is that onnxruntime-web currently does not support the onnx external data format (aka the graph is in the onnx file and weights are in seperate files). Converting it to a .ort file just puts model and weights into the same file.\r\n\r\nHi, I am asking for some help again. Is there any other way to combine the weights and the graph into the same file? I am trying to convert the original stable diffusion model v1.4 but there is Protobuf/Flat Buffer limit of 2Gb and the weights are 3Gb+. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1543799141/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]