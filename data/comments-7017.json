[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/800411180",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-800411180",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 800411180,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDQxMTE4MA==",
        "user": {
            "login": "yufenglee",
            "id": 30486710,
            "node_id": "MDQ6VXNlcjMwNDg2NzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yufenglee",
            "html_url": "https://github.com/yufenglee",
            "followers_url": "https://api.github.com/users/yufenglee/followers",
            "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
            "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
            "organizations_url": "https://api.github.com/users/yufenglee/orgs",
            "repos_url": "https://api.github.com/users/yufenglee/repos",
            "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yufenglee/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-16T16:28:11Z",
        "updated_at": "2021-03-16T16:28:11Z",
        "author_association": "MEMBER",
        "body": "@collinarnett, it is because onnx.shape_inference.infer_shapes doesn't support model > 2G. Will make a fix.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/800411180/reactions",
            "total_count": 3,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/812965964",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-812965964",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 812965964,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjk2NTk2NA==",
        "user": {
            "login": "collinarnett",
            "id": 38230482,
            "node_id": "MDQ6VXNlcjM4MjMwNDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/38230482?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/collinarnett",
            "html_url": "https://github.com/collinarnett",
            "followers_url": "https://api.github.com/users/collinarnett/followers",
            "following_url": "https://api.github.com/users/collinarnett/following{/other_user}",
            "gists_url": "https://api.github.com/users/collinarnett/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/collinarnett/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/collinarnett/subscriptions",
            "organizations_url": "https://api.github.com/users/collinarnett/orgs",
            "repos_url": "https://api.github.com/users/collinarnett/repos",
            "events_url": "https://api.github.com/users/collinarnett/events{/privacy}",
            "received_events_url": "https://api.github.com/users/collinarnett/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-04T03:46:21Z",
        "updated_at": "2021-04-04T03:46:21Z",
        "author_association": "NONE",
        "body": "Hey I was just wondering if there was a status update on this. I am currently blocked on my project because of this issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/812965964/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/814472828",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-814472828",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 814472828,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxNDQ3MjgyOA==",
        "user": {
            "login": "yufenglee",
            "id": 30486710,
            "node_id": "MDQ6VXNlcjMwNDg2NzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yufenglee",
            "html_url": "https://github.com/yufenglee",
            "followers_url": "https://api.github.com/users/yufenglee/followers",
            "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
            "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
            "organizations_url": "https://api.github.com/users/yufenglee/orgs",
            "repos_url": "https://api.github.com/users/yufenglee/repos",
            "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yufenglee/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-06T22:19:08Z",
        "updated_at": "2021-04-06T22:19:08Z",
        "author_association": "MEMBER",
        "body": "It is in our backlog. Will try fixing the issue this week. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/814472828/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/817492544",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-817492544",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 817492544,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzQ5MjU0NA==",
        "user": {
            "login": "yufenglee",
            "id": 30486710,
            "node_id": "MDQ6VXNlcjMwNDg2NzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yufenglee",
            "html_url": "https://github.com/yufenglee",
            "followers_url": "https://api.github.com/users/yufenglee/followers",
            "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
            "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
            "organizations_url": "https://api.github.com/users/yufenglee/orgs",
            "repos_url": "https://api.github.com/users/yufenglee/repos",
            "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yufenglee/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-12T05:27:59Z",
        "updated_at": "2021-04-12T05:27:59Z",
        "author_association": "MEMBER",
        "body": "@collinarnett, you can work around this issue by comment out this line: https://github.com/microsoft/onnxruntime/blob/21c282ed542e7673d1eea0f54e113b84c40d5c50/onnxruntime/python/tools/quantization/onnx_quantizer.py#L32 , while I’m preparing a fix for the issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/817492544/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/819214695",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-819214695",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 819214695,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxOTIxNDY5NQ==",
        "user": {
            "login": "collinarnett",
            "id": 38230482,
            "node_id": "MDQ6VXNlcjM4MjMwNDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/38230482?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/collinarnett",
            "html_url": "https://github.com/collinarnett",
            "followers_url": "https://api.github.com/users/collinarnett/followers",
            "following_url": "https://api.github.com/users/collinarnett/following{/other_user}",
            "gists_url": "https://api.github.com/users/collinarnett/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/collinarnett/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/collinarnett/subscriptions",
            "organizations_url": "https://api.github.com/users/collinarnett/orgs",
            "repos_url": "https://api.github.com/users/collinarnett/repos",
            "events_url": "https://api.github.com/users/collinarnett/events{/privacy}",
            "received_events_url": "https://api.github.com/users/collinarnett/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-14T04:13:09Z",
        "updated_at": "2021-04-14T04:13:09Z",
        "author_association": "NONE",
        "body": "Hm, unfortunately when I run the same command as above with this line commented out I get the following error:\r\n```\r\nPyTorch Version:1.8.1+cu111\r\nTransformers Version:4.5.0\r\nOnnxruntime Version:1.7.0\r\nExporting ONNX model to quantized/pretrained_past/pretrained_past.onnx\r\nShapes: input_ids=torch.Size([1, 1]) past=torch.Size([2, 1, 25, 1, 64]) output=torch.Size([1, 1, 50257]) present=torch.Size([2, 1, 25, 2, 64])\r\n/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/transformers/models/gpt2/modeling_gpt2.py:659: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  assert batch_size > 0, \"batch_size has to be defined and > 0\"\r\n/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/transformers/models/gpt2/modeling_gpt2.py:170: TracerWarning: Converting a tensor to a Python float might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  w = w / (float(v.size(-1)) ** 0.5)\r\nOptimizing model to quantized/pretrained_past_fp32/pretrained_past_fp32.onnx\r\nFused LayerNormalization count: 97\r\nFused FastGelu count: 48\r\nRemoved Reshape and Expand count: 0\r\nFused Attention(with past) count: 48\r\nGraph pruned: 0 inputs, 0 outputs and 3129 nodes are removed\r\nPosition embedding path is not found. Embed layer cannot be fused.\r\nGraph pruned: 0 inputs, 0 outputs and 1248 nodes are removed\r\npostprocess: remove Reshape count:192\r\nFused FastGelu(add bias) count: 48\r\nopset verion: 11\r\nOutput model to quantized/pretrained_past_fp32/pretrained_past_fp32.onnx\r\nquantizing model...\r\nSize of full precision ONNX model(MB):0.13768672943115234\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/usr/lib/python3.8/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/onnxruntime/transformers/convert_to_onnx.py\", line 252, in <module>\r\n    main()\r\n  File \"/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/onnxruntime/transformers/convert_to_onnx.py\", line 175, in main\r\n    QuantizeHelper.quantize_onnx_model(output_path, onnx_model_paths['int8'], args.use_external_data_format)\r\n  File \"/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/onnxruntime/transformers/quantize_helper.py\", line 63, in quantize_onnx_model\r\n    quantized_onnx_model = quantize_dynamic(onnx_model_path,\r\n  File \"/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/onnxruntime/quantization/quantize.py\", line 283, in quantize_dynamic\r\n    quantizer.model.save_model_to_file(model_output, use_external_data_format)\r\n  File \"/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/onnxruntime/quantization/onnx_model.py\", line 204, in save_model_to_file\r\n    onnx.save_model(self.model, output_path)\r\n  File \"/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/onnx/__init__.py\", line 188, in save_model\r\n    proto = write_external_data_tensors(proto, basepath)\r\n  File \"/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/onnx/external_data_helper.py\", line 253, in write_external_data_tensors\r\n    save_external_data(tensor, filepath)\r\n  File \"/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/onnx/external_data_helper.py\", line 161, in save_external_data\r\n    open(external_data_file_path, 'ab').close()\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/collin/litai/serving/quantized/pretrained_past_int8/pretrained_past_int8.onnx.data'\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/819214695/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/819220840",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-819220840",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 819220840,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxOTIyMDg0MA==",
        "user": {
            "login": "collinarnett",
            "id": 38230482,
            "node_id": "MDQ6VXNlcjM4MjMwNDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/38230482?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/collinarnett",
            "html_url": "https://github.com/collinarnett",
            "followers_url": "https://api.github.com/users/collinarnett/followers",
            "following_url": "https://api.github.com/users/collinarnett/following{/other_user}",
            "gists_url": "https://api.github.com/users/collinarnett/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/collinarnett/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/collinarnett/subscriptions",
            "organizations_url": "https://api.github.com/users/collinarnett/orgs",
            "repos_url": "https://api.github.com/users/collinarnett/repos",
            "events_url": "https://api.github.com/users/collinarnett/events{/privacy}",
            "received_events_url": "https://api.github.com/users/collinarnett/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-14T04:34:39Z",
        "updated_at": "2021-04-14T04:34:39Z",
        "author_association": "NONE",
        "body": " #6867 seem to fix that issue actually :+1: ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/819220840/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/825515250",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-825515250",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 825515250,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgyNTUxNTI1MA==",
        "user": {
            "login": "Narsil",
            "id": 204321,
            "node_id": "MDQ6VXNlcjIwNDMyMQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/204321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Narsil",
            "html_url": "https://github.com/Narsil",
            "followers_url": "https://api.github.com/users/Narsil/followers",
            "following_url": "https://api.github.com/users/Narsil/following{/other_user}",
            "gists_url": "https://api.github.com/users/Narsil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Narsil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Narsil/subscriptions",
            "organizations_url": "https://api.github.com/users/Narsil/orgs",
            "repos_url": "https://api.github.com/users/Narsil/repos",
            "events_url": "https://api.github.com/users/Narsil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Narsil/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-23T09:03:35Z",
        "updated_at": "2021-04-23T09:03:35Z",
        "author_association": "NONE",
        "body": "Wasn't this already an issue a few months ago ? https://github.com/microsoft/onnxruntime/pull/5210/files",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/825515250/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/829137148",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-829137148",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 829137148,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTEzNzE0OA==",
        "user": {
            "login": "yaysummeriscoming",
            "id": 11413145,
            "node_id": "MDQ6VXNlcjExNDEzMTQ1",
            "avatar_url": "https://avatars.githubusercontent.com/u/11413145?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yaysummeriscoming",
            "html_url": "https://github.com/yaysummeriscoming",
            "followers_url": "https://api.github.com/users/yaysummeriscoming/followers",
            "following_url": "https://api.github.com/users/yaysummeriscoming/following{/other_user}",
            "gists_url": "https://api.github.com/users/yaysummeriscoming/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yaysummeriscoming/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yaysummeriscoming/subscriptions",
            "organizations_url": "https://api.github.com/users/yaysummeriscoming/orgs",
            "repos_url": "https://api.github.com/users/yaysummeriscoming/repos",
            "events_url": "https://api.github.com/users/yaysummeriscoming/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yaysummeriscoming/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-29T11:03:16Z",
        "updated_at": "2021-04-29T11:03:16Z",
        "author_association": "NONE",
        "body": "> @collinarnett, you can work around this issue by comment out this line:\r\n> \r\n> https://github.com/microsoft/onnxruntime/blob/21c282ed542e7673d1eea0f54e113b84c40d5c50/onnxruntime/python/tools/quantization/onnx_quantizer.py#L32\r\n> \r\n> , while I’m preparing a fix for the issue.\r\n\r\nThis together with the nightly build that incorporates the fix @collinarnett suggested fixed things for me. Looking forward to a permanent fix!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/829137148/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/839991356",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-839991356",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 839991356,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTk5MTM1Ng==",
        "user": {
            "login": "collinarnett",
            "id": 38230482,
            "node_id": "MDQ6VXNlcjM4MjMwNDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/38230482?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/collinarnett",
            "html_url": "https://github.com/collinarnett",
            "followers_url": "https://api.github.com/users/collinarnett/followers",
            "following_url": "https://api.github.com/users/collinarnett/following{/other_user}",
            "gists_url": "https://api.github.com/users/collinarnett/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/collinarnett/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/collinarnett/subscriptions",
            "organizations_url": "https://api.github.com/users/collinarnett/orgs",
            "repos_url": "https://api.github.com/users/collinarnett/repos",
            "events_url": "https://api.github.com/users/collinarnett/events{/privacy}",
            "received_events_url": "https://api.github.com/users/collinarnett/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-12T18:13:49Z",
        "updated_at": "2021-05-12T18:15:13Z",
        "author_association": "NONE",
        "body": "> Wasn't this already an issue a few months ago ? https://github.com/microsoft/onnxruntime/pull/5210/files\r\n\r\nSeems like it got added back in #6541 for some reason. @Narsil\r\n\r\n---\r\n\r\nOn another note, quantizing gpt2-xl even from the base pretrained weights yields huge diffs between the pytorch model. Not sure if this is related to the shapes issue. @yufenglee \r\n```\r\npython -m onnxruntime.transformers.convert_to_onnx -e -m \"gpt2-xl\" --output quantized -p int8 --optimize_onnx --tolerance 1e-6\r\nArguments:Namespace(cache_dir='./cache_models', input_test_file='', model_class='GPT2LMHeadModel', model_name_or_path='gpt2-xl', optimize_onnx=True, output='quantized', precision=<Precision.INT8: 'int8'>, tolerance=1e-06, use_external_data_format=True, use_gpu=False, verbose=False)\r\nPyTorch Version:1.8.1+cu111\r\nTransformers Version:4.5.0\r\nOnnxruntime Version:1.7.0\r\nLock 140664125388400 acquired on ./cache_models/d2de8fec009fa9b9196047559bcac6c1f02a9c500718b4346bc516354965b1ca.81d9c13b9ee3f2b22faaba04ca49e09b13f9fea3a7910768ed6664ec141e3c8b.lock\r\nDownloading: 100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 787/787 [00:00<00:00, 584kB/s]\r\nLock 140664125388400 released on ./cache_models/d2de8fec009fa9b9196047559bcac6c1f02a9c500718b4346bc516354965b1ca.81d9c13b9ee3f2b22faaba04ca49e09b13f9fea3a7910768ed6664ec141e3c8b.lock\r\nLock 140663701315936 acquired on ./cache_models/96569b907e56747ce3e593c6a13d8475b8c733a64aab8af8f602b90d94c4af71.8fbbcdf404c82c5967934d411f1462fa0574d639f2aa398aa3754fced1bb26c0.lock\r\nDownloading: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6.43G/6.43G [02:42<00:00, 39.5MB/s]\r\nLock 140663701315936 released on ./cache_models/96569b907e56747ce3e593c6a13d8475b8c733a64aab8af8f602b90d94c4af71.8fbbcdf404c82c5967934d411f1462fa0574d639f2aa398aa3754fced1bb26c0.lock\r\nExporting ONNX model to quantized/gpt2-xl_past/gpt2-xl_past.onnx\r\nShapes: input_ids=torch.Size([1, 1]) past=torch.Size([2, 1, 25, 1, 64]) output=torch.Size([1, 1, 50257]) present=torch.Size([2, 1, 25, 2, 64])\r\n/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/transformers/models/gpt2/modeling_gpt2.py:659: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  assert batch_size > 0, \"batch_size has to be defined and > 0\"\r\n/home/collin/.virtualenvs/litai/lib/python3.8/site-packages/transformers/models/gpt2/modeling_gpt2.py:170: TracerWarning: Converting a tensor to a Python float might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  w = w / (float(v.size(-1)) ** 0.5)\r\nOptimizing model to quantized/gpt2-xl_past_fp32/gpt2-xl_past_fp32.onnx\r\nFused LayerNormalization count: 97\r\nFused FastGelu count: 48\r\nRemoved Reshape and Expand count: 0\r\nFused Attention(with past) count: 48\r\nGraph pruned: 0 inputs, 0 outputs and 3129 nodes are removed\r\nPosition embedding path is not found. Embed layer cannot be fused.\r\nGraph pruned: 0 inputs, 0 outputs and 1248 nodes are removed\r\npostprocess: remove Reshape count:192\r\nFused FastGelu(add bias) count: 48\r\nopset verion: 11\r\nOutput model to quantized/gpt2-xl_past_fp32/gpt2-xl_past_fp32.onnx\r\nquantizing model...\r\nSize of full precision ONNX model(MB):0.1353445053100586\r\nonnxruntime.quantization.quantize is deprecated.\r\n         Please use quantize_static for static quantization, quantize_dynamic for dynamic quantization.\r\nquantized model saved to:quantized/gpt2-xl_past_int8/gpt2-xl_past_int8.onnx\r\nSize of quantized ONNX model(MB):0.28689098358154297\r\nSize of full precision Torch model(MB):5990.049831390381\r\nSize of quantized Torch model(MB):1848.1334533691406\r\nfinished quantizing model\r\nOutput path: quantized/gpt2-xl_past_int8/gpt2-xl_past_int8.onnx\r\nRunning parity test (rtol=1e-06, atol=1e-06, test_cases=100, use_io_binding=True model_class=GPT2LMHeadModel is_float16=False) ...\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.90612\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.27802\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=4.48389\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.32870\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.95715\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.46044\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=9.24362\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=4.39315\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.52452\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=8.76055\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.75484\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=2.66290\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=2.85430\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.41245\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.02360\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.67525\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.63748\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=4.55965\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.60409\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.89149\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.29298\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.44962\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.17730\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=4.19035\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.17519\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.58201\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.09830\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.57839\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.70320\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.85671\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.65241\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.41488\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.96500\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.25346\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.45235\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=2.46278\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.00452\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.50152\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=8.33231\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.80440\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.40989\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.40426\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.03675\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.22421\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=4.82677\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.52984\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=2.22594\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.16457\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.52313\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.49823\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.87267\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=10.36788\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=10.87117\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.00919\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.01933\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.89842\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.83284\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=4.51561\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.46636\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.75223\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.35438\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.25203\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=4.52229\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.50336\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.86641\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.45779\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.89096\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=4.50498\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.04193\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.13582\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=8.16340\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.81378\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=2.67974\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.23957\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=9.00699\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.85490\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.51197\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.15913\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.21516\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=8.69954\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.99599\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.22929\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.35550\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.36479\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.17758\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.28299\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.73311\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.20211\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.15749\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.71275\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=3.70586\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.50874\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.46755\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=7.94581\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.88780\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=10.62353\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.98177\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=6.26682\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.91176\r\nPyTorch and OnnxRuntime results are not all close: max_abs_diff=5.68204\r\nParity Test Cases=100; Passed=0\r\nDone. Output model: quantized/gpt2-xl_past_int8/gpt2-xl_past_int8.onnx\r\n```\r\n\r\nNot sure if this makes sense since the example in the gpt2 notebook shows a very small difference in the logits.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/839991356/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/878195597",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-878195597",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 878195597,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODE5NTU5Nw==",
        "user": {
            "login": "whiteRa2bit",
            "id": 28367451,
            "node_id": "MDQ6VXNlcjI4MzY3NDUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28367451?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/whiteRa2bit",
            "html_url": "https://github.com/whiteRa2bit",
            "followers_url": "https://api.github.com/users/whiteRa2bit/followers",
            "following_url": "https://api.github.com/users/whiteRa2bit/following{/other_user}",
            "gists_url": "https://api.github.com/users/whiteRa2bit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/whiteRa2bit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/whiteRa2bit/subscriptions",
            "organizations_url": "https://api.github.com/users/whiteRa2bit/orgs",
            "repos_url": "https://api.github.com/users/whiteRa2bit/repos",
            "events_url": "https://api.github.com/users/whiteRa2bit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/whiteRa2bit/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-07-12T11:19:02Z",
        "updated_at": "2021-07-12T11:19:28Z",
        "author_association": "NONE",
        "body": "Are there any updates regarding the issue?\r\nI am also trying to convert DialoGPT-large model to onnx,\r\n\r\n```\r\npython -m onnxruntime.transformers.convert_to_onnx \\\r\n        -m model_path \\\r\n        --model_class GPT2LMHeadModel \\\r\n        --output output_path \\\r\n        --use_external_data_format \\\r\n        -p fp16 \\\r\n        --optimize_onnx \\\r\n        --use_gpu\r\n```\r\n\r\nThe output of the script is the following:\r\n```\r\nPyTorch Version:1.9.0a0+2ecb2c7\r\nTransformers Version:4.6.1\r\nOnnxruntime Version:1.8.0\r\n....\r\n  File \"/opt/conda/lib/python3.8/site-packages/onnxconverter_common/float16.py\", line 130, in convert_float_to_float16\r\n    model = func_infer_shape(model)\r\n  File \"/opt/conda/lib/python3.8/site-packages/onnx/shape_inference.py\", line 34, in infer_shapes\r\n    model_str = model.SerializeToString()\r\nValueError: Message onnx.ModelProto exceeds maximum protobuf size of 2GB: 3391372453\r\n```\r\n\r\nThe conversion works when I comment the line 130 in `onnxconverter_common/float16.py` script, but the quality of the generation of the converted model is noticeably lower.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/878195597/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/888056636",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-888056636",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 888056636,
        "node_id": "IC_kwDOCVq1mM407qs8",
        "user": {
            "login": "leoozy",
            "id": 26025961,
            "node_id": "MDQ6VXNlcjI2MDI1OTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/26025961?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/leoozy",
            "html_url": "https://github.com/leoozy",
            "followers_url": "https://api.github.com/users/leoozy/followers",
            "following_url": "https://api.github.com/users/leoozy/following{/other_user}",
            "gists_url": "https://api.github.com/users/leoozy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/leoozy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/leoozy/subscriptions",
            "organizations_url": "https://api.github.com/users/leoozy/orgs",
            "repos_url": "https://api.github.com/users/leoozy/repos",
            "events_url": "https://api.github.com/users/leoozy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/leoozy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-07-28T06:47:07Z",
        "updated_at": "2021-07-28T06:47:07Z",
        "author_association": "NONE",
        "body": "I met the same problems while quantizating the mBart model (about 3GB)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/888056636/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/891109205",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-891109205",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 891109205,
        "node_id": "IC_kwDOCVq1mM41HT9V",
        "user": {
            "login": "leoozy",
            "id": 26025961,
            "node_id": "MDQ6VXNlcjI2MDI1OTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/26025961?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/leoozy",
            "html_url": "https://github.com/leoozy",
            "followers_url": "https://api.github.com/users/leoozy/followers",
            "following_url": "https://api.github.com/users/leoozy/following{/other_user}",
            "gists_url": "https://api.github.com/users/leoozy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/leoozy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/leoozy/subscriptions",
            "organizations_url": "https://api.github.com/users/leoozy/orgs",
            "repos_url": "https://api.github.com/users/leoozy/repos",
            "events_url": "https://api.github.com/users/leoozy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/leoozy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-02T15:14:50Z",
        "updated_at": "2021-08-02T15:14:50Z",
        "author_association": "NONE",
        "body": "@snnn",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/891109205/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/891181243",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-891181243",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 891181243,
        "node_id": "IC_kwDOCVq1mM41Hli7",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-02T16:59:02Z",
        "updated_at": "2021-08-02T16:59:02Z",
        "author_association": "MEMBER",
        "body": "I'm working on it.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/891181243/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/900716895",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-900716895",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 900716895,
        "node_id": "IC_kwDOCVq1mM41r9lf",
        "user": {
            "login": "yufenglee",
            "id": 30486710,
            "node_id": "MDQ6VXNlcjMwNDg2NzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yufenglee",
            "html_url": "https://github.com/yufenglee",
            "followers_url": "https://api.github.com/users/yufenglee/followers",
            "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
            "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
            "organizations_url": "https://api.github.com/users/yufenglee/orgs",
            "repos_url": "https://api.github.com/users/yufenglee/repos",
            "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yufenglee/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-18T00:18:55Z",
        "updated_at": "2021-08-18T00:22:41Z",
        "author_association": "MEMBER",
        "body": "We just added an option in quantization to disable shapeinference in quantization, which is not necessary for dynamic_quantization. You can enable this option to solve this issue: https://github.com/microsoft/onnxruntime/blob/60089f7093e4e26f837be4bbf74d38cb97b43e4b/onnxruntime/python/tools/quantization/quantize.py#L189",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/900716895/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/900730516",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-900730516",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 900730516,
        "node_id": "IC_kwDOCVq1mM41sA6U",
        "user": {
            "login": "collinarnett",
            "id": 38230482,
            "node_id": "MDQ6VXNlcjM4MjMwNDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/38230482?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/collinarnett",
            "html_url": "https://github.com/collinarnett",
            "followers_url": "https://api.github.com/users/collinarnett/followers",
            "following_url": "https://api.github.com/users/collinarnett/following{/other_user}",
            "gists_url": "https://api.github.com/users/collinarnett/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/collinarnett/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/collinarnett/subscriptions",
            "organizations_url": "https://api.github.com/users/collinarnett/orgs",
            "repos_url": "https://api.github.com/users/collinarnett/repos",
            "events_url": "https://api.github.com/users/collinarnett/events{/privacy}",
            "received_events_url": "https://api.github.com/users/collinarnett/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-18T00:49:38Z",
        "updated_at": "2021-08-18T00:49:38Z",
        "author_association": "NONE",
        "body": "How come there is such a drastic difference in logits when shape inference is turned off as I referenced in #6549? @yufenglee ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/900730516/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/900739120",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-900739120",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 900739120,
        "node_id": "IC_kwDOCVq1mM41sDAw",
        "user": {
            "login": "yufenglee",
            "id": 30486710,
            "node_id": "MDQ6VXNlcjMwNDg2NzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yufenglee",
            "html_url": "https://github.com/yufenglee",
            "followers_url": "https://api.github.com/users/yufenglee/followers",
            "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
            "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
            "organizations_url": "https://api.github.com/users/yufenglee/orgs",
            "repos_url": "https://api.github.com/users/yufenglee/repos",
            "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yufenglee/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-18T01:15:28Z",
        "updated_at": "2021-08-18T01:15:47Z",
        "author_association": "MEMBER",
        "body": "I don't think it is related to shape inference. To confirm this, could you try calling this API to do shape inference before calling quantizatize_dynamic: https://github.com/onnx/onnx/blob/5515769e1950ce0bcf5f75cfc336a5c96a56b798/docs/PythonAPIOverview.md#shape-inference-a-large-onnx-model-2gb? \r\nQuantization can introduce accuracy loss. For very large model, the accuracy loss can be aggregated. \r\n\r\n`onnx.shape_inference.infer_shapes_path('path/to/the/model.onnx', 'output/inferred/model.onnx')`",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/900739120/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1102328698",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-1102328698",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 1102328698,
        "node_id": "IC_kwDOCVq1mM5BtDN6",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2022-04-19T08:54:22Z",
        "updated_at": "2022-04-19T08:54:22Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1102328698/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1103163086",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7017#issuecomment-1103163086",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7017",
        "id": 1103163086,
        "node_id": "IC_kwDOCVq1mM5BwO7O",
        "user": {
            "login": "yufenglee",
            "id": 30486710,
            "node_id": "MDQ6VXNlcjMwNDg2NzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yufenglee",
            "html_url": "https://github.com/yufenglee",
            "followers_url": "https://api.github.com/users/yufenglee/followers",
            "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
            "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
            "organizations_url": "https://api.github.com/users/yufenglee/orgs",
            "repos_url": "https://api.github.com/users/yufenglee/repos",
            "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yufenglee/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-04-19T20:58:09Z",
        "updated_at": "2022-04-19T20:58:09Z",
        "author_association": "MEMBER",
        "body": "Fixed in PR #11106 ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1103163086/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]