[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1256684591",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13071#issuecomment-1256684591",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13071",
        "id": 1256684591,
        "node_id": "IC_kwDOCVq1mM5K53wv",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-23T21:14:16Z",
        "updated_at": "2022-09-23T21:14:16Z",
        "author_association": "MEMBER",
        "body": "@chilo-ms , can you help take a look? thanks. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1256684591/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1257414120",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13071#issuecomment-1257414120",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13071",
        "id": 1257414120,
        "node_id": "IC_kwDOCVq1mM5K8p3o",
        "user": {
            "login": "stevenlix",
            "id": 38092805,
            "node_id": "MDQ6VXNlcjM4MDkyODA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/38092805?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stevenlix",
            "html_url": "https://github.com/stevenlix",
            "followers_url": "https://api.github.com/users/stevenlix/followers",
            "following_url": "https://api.github.com/users/stevenlix/following{/other_user}",
            "gists_url": "https://api.github.com/users/stevenlix/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stevenlix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stevenlix/subscriptions",
            "organizations_url": "https://api.github.com/users/stevenlix/orgs",
            "repos_url": "https://api.github.com/users/stevenlix/repos",
            "events_url": "https://api.github.com/users/stevenlix/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stevenlix/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-26T03:07:48Z",
        "updated_at": "2022-09-26T03:07:48Z",
        "author_association": "CONTRIBUTOR",
        "body": "when the model is QDQ model, you should not use calibration table during inference because calibration info has been included in the Q/DQ nodes.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1257414120/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1258387093",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13071#issuecomment-1258387093",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13071",
        "id": 1258387093,
        "node_id": "IC_kwDOCVq1mM5LAXaV",
        "user": {
            "login": "piedras77",
            "id": 37077898,
            "node_id": "MDQ6VXNlcjM3MDc3ODk4",
            "avatar_url": "https://avatars.githubusercontent.com/u/37077898?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/piedras77",
            "html_url": "https://github.com/piedras77",
            "followers_url": "https://api.github.com/users/piedras77/followers",
            "following_url": "https://api.github.com/users/piedras77/following{/other_user}",
            "gists_url": "https://api.github.com/users/piedras77/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/piedras77/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/piedras77/subscriptions",
            "organizations_url": "https://api.github.com/users/piedras77/orgs",
            "repos_url": "https://api.github.com/users/piedras77/repos",
            "events_url": "https://api.github.com/users/piedras77/events{/privacy}",
            "received_events_url": "https://api.github.com/users/piedras77/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-26T17:36:23Z",
        "updated_at": "2022-09-26T17:36:23Z",
        "author_association": "NONE",
        "body": "If I don't use calibration table during inference, I get this error:\r\n`2022-09-26 17:34:09.396046595 [W:onnxruntime:Default, tensorrt_execution_provider.h:60 log] [2022-09-26 17:34:09 WARNING] Calibrator is not being used. Users must provide dynamic range for all tensors that are not Int32 or Bool.\r\n2022-09-26 17:34:09.416590695 [E:onnxruntime:Default, tensorrt_execution_provider.h:58 log] [2022-09-26 17:34:09   ERROR] 4: [standardEngineBuilder.cpp::initCalibrationParams::1420] Error Code 4: Internal Error (Calibration failure occurred with no scaling factors detected. This could be due to no int8 calibrator or insufficient custom scales for network layers. Please see int8 sample to setup calibration correctly.)\r\nSegmentation fault (core dumped)`",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1258387093/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1258482931",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13071#issuecomment-1258482931",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13071",
        "id": 1258482931,
        "node_id": "IC_kwDOCVq1mM5LAuzz",
        "user": {
            "login": "chilo-ms",
            "id": 54722500,
            "node_id": "MDQ6VXNlcjU0NzIyNTAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/54722500?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chilo-ms",
            "html_url": "https://github.com/chilo-ms",
            "followers_url": "https://api.github.com/users/chilo-ms/followers",
            "following_url": "https://api.github.com/users/chilo-ms/following{/other_user}",
            "gists_url": "https://api.github.com/users/chilo-ms/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chilo-ms/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chilo-ms/subscriptions",
            "organizations_url": "https://api.github.com/users/chilo-ms/orgs",
            "repos_url": "https://api.github.com/users/chilo-ms/repos",
            "events_url": "https://api.github.com/users/chilo-ms/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chilo-ms/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-26T19:07:36Z",
        "updated_at": "2022-09-26T19:07:47Z",
        "author_association": "MEMBER",
        "body": "Hi,\r\nQuick question here, is the QDQ model being generated successfully?\r\nOnce the QDQ model is there, only set ORT_TENSORRT_FP16_ENABLE and ORT_TENSORRT_INT8_ENABLE and use this QDQ model to run the inference.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1258482931/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1258488090",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13071#issuecomment-1258488090",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13071",
        "id": 1258488090,
        "node_id": "IC_kwDOCVq1mM5LAwEa",
        "user": {
            "login": "piedras77",
            "id": 37077898,
            "node_id": "MDQ6VXNlcjM3MDc3ODk4",
            "avatar_url": "https://avatars.githubusercontent.com/u/37077898?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/piedras77",
            "html_url": "https://github.com/piedras77",
            "followers_url": "https://api.github.com/users/piedras77/followers",
            "following_url": "https://api.github.com/users/piedras77/following{/other_user}",
            "gists_url": "https://api.github.com/users/piedras77/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/piedras77/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/piedras77/subscriptions",
            "organizations_url": "https://api.github.com/users/piedras77/orgs",
            "repos_url": "https://api.github.com/users/piedras77/repos",
            "events_url": "https://api.github.com/users/piedras77/events{/privacy}",
            "received_events_url": "https://api.github.com/users/piedras77/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-26T19:11:57Z",
        "updated_at": "2022-09-26T19:11:57Z",
        "author_association": "NONE",
        "body": "Hi, \r\n\r\nYes, the QDQ model is generated successfully. I am using the uint8_calibration.py script I shared above to generate this model. \r\n\r\nOnce the model is successfully generated, I only set the variables you mentioned, but get the Segmentation fault error I shared above. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1258488090/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1258628017",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13071#issuecomment-1258628017",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13071",
        "id": 1258628017,
        "node_id": "IC_kwDOCVq1mM5LBSOx",
        "user": {
            "login": "chilo-ms",
            "id": 54722500,
            "node_id": "MDQ6VXNlcjU0NzIyNTAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/54722500?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chilo-ms",
            "html_url": "https://github.com/chilo-ms",
            "followers_url": "https://api.github.com/users/chilo-ms/followers",
            "following_url": "https://api.github.com/users/chilo-ms/following{/other_user}",
            "gists_url": "https://api.github.com/users/chilo-ms/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chilo-ms/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chilo-ms/subscriptions",
            "organizations_url": "https://api.github.com/users/chilo-ms/orgs",
            "repos_url": "https://api.github.com/users/chilo-ms/repos",
            "events_url": "https://api.github.com/users/chilo-ms/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chilo-ms/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-26T21:02:08Z",
        "updated_at": "2022-09-26T21:02:40Z",
        "author_association": "MEMBER",
        "body": "I saw the script you shared, and it looks good. \r\nIs it possible to share the model and QDQ model so that I can reproduce from our side? Probably use the random fixed if there is a concern of privacy. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1258628017/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1258641080",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13071#issuecomment-1258641080",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13071",
        "id": 1258641080,
        "node_id": "IC_kwDOCVq1mM5LBVa4",
        "user": {
            "login": "stevenlix",
            "id": 38092805,
            "node_id": "MDQ6VXNlcjM4MDkyODA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/38092805?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stevenlix",
            "html_url": "https://github.com/stevenlix",
            "followers_url": "https://api.github.com/users/stevenlix/followers",
            "following_url": "https://api.github.com/users/stevenlix/following{/other_user}",
            "gists_url": "https://api.github.com/users/stevenlix/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stevenlix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stevenlix/subscriptions",
            "organizations_url": "https://api.github.com/users/stevenlix/orgs",
            "repos_url": "https://api.github.com/users/stevenlix/repos",
            "events_url": "https://api.github.com/users/stevenlix/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stevenlix/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-26T21:15:34Z",
        "updated_at": "2022-09-26T21:15:34Z",
        "author_association": "CONTRIBUTOR",
        "body": "Could you check your QDQ model to see if there are any INT8 tensors? QDQ model should not contain any other INT8 ops except Q/DQ.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1258641080/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1264121292",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13071#issuecomment-1264121292",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13071",
        "id": 1264121292,
        "node_id": "IC_kwDOCVq1mM5LWPXM",
        "user": {
            "login": "piedras77",
            "id": 37077898,
            "node_id": "MDQ6VXNlcjM3MDc3ODk4",
            "avatar_url": "https://avatars.githubusercontent.com/u/37077898?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/piedras77",
            "html_url": "https://github.com/piedras77",
            "followers_url": "https://api.github.com/users/piedras77/followers",
            "following_url": "https://api.github.com/users/piedras77/following{/other_user}",
            "gists_url": "https://api.github.com/users/piedras77/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/piedras77/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/piedras77/subscriptions",
            "organizations_url": "https://api.github.com/users/piedras77/orgs",
            "repos_url": "https://api.github.com/users/piedras77/repos",
            "events_url": "https://api.github.com/users/piedras77/events{/privacy}",
            "received_events_url": "https://api.github.com/users/piedras77/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-30T23:12:33Z",
        "updated_at": "2022-09-30T23:12:33Z",
        "author_association": "NONE",
        "body": "Shared the models offline. Also, I checked the models, and I don't see any specific INT8 tensors. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1264121292/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1611205907",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/13071#issuecomment-1611205907",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/13071",
        "id": 1611205907,
        "node_id": "IC_kwDOCVq1mM5gCQ0T",
        "user": {
            "login": "lolwarmaze",
            "id": 119112172,
            "node_id": "U_kgDOBxmB7A",
            "avatar_url": "https://avatars.githubusercontent.com/u/119112172?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lolwarmaze",
            "html_url": "https://github.com/lolwarmaze",
            "followers_url": "https://api.github.com/users/lolwarmaze/followers",
            "following_url": "https://api.github.com/users/lolwarmaze/following{/other_user}",
            "gists_url": "https://api.github.com/users/lolwarmaze/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lolwarmaze/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lolwarmaze/subscriptions",
            "organizations_url": "https://api.github.com/users/lolwarmaze/orgs",
            "repos_url": "https://api.github.com/users/lolwarmaze/repos",
            "events_url": "https://api.github.com/users/lolwarmaze/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lolwarmaze/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-28T11:06:34Z",
        "updated_at": "2023-06-28T11:06:34Z",
        "author_association": "NONE",
        "body": "> Hi,\r\n> \r\n> Yes, the QDQ model is generated successfully. I am using the uint8_calibration.py script I shared above to generate this model.\r\n> \r\n> Once the model is successfully generated, I only set the variables you mentioned, but get the Segmentation fault error I shared above.\r\n\r\nLooking at your script, when you quantize the model in qdq mode for tensorRT, you also need to provide an additional parameter for symmetric activations in the form of dictionary. Check quantization function in - https://github.com/microsoft/onnxruntime-inference-examples/blob/main/quantization/nlp/bert/trt/e2e_tensorrt_bert_example.py",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1611205907/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]