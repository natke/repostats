[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/660435127",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-660435127",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 660435127,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY2MDQzNTEyNw==",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2020-07-18T06:16:16Z",
        "updated_at": "2020-07-18T06:16:16Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/660435127/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/663818230",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-663818230",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 663818230,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzgxODIzMA==",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2020-07-25T06:39:59Z",
        "updated_at": "2020-07-25T06:39:59Z",
        "author_association": "NONE",
        "body": "This issue has been automatically closed due to inactivity. Please reactivate if further support is needed.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/663818230/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/750935844",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-750935844",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 750935844,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDkzNTg0NA==",
        "user": {
            "login": "AlZuev",
            "id": 47258274,
            "node_id": "MDQ6VXNlcjQ3MjU4Mjc0",
            "avatar_url": "https://avatars.githubusercontent.com/u/47258274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AlZuev",
            "html_url": "https://github.com/AlZuev",
            "followers_url": "https://api.github.com/users/AlZuev/followers",
            "following_url": "https://api.github.com/users/AlZuev/following{/other_user}",
            "gists_url": "https://api.github.com/users/AlZuev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AlZuev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AlZuev/subscriptions",
            "organizations_url": "https://api.github.com/users/AlZuev/orgs",
            "repos_url": "https://api.github.com/users/AlZuev/repos",
            "events_url": "https://api.github.com/users/AlZuev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AlZuev/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-24T17:54:54Z",
        "updated_at": "2020-12-24T17:54:54Z",
        "author_association": "NONE",
        "body": "I have the same problem. I created model with Conviteger, it looks like quntized model, created by ONNXRUNTIME,but inference doesn't run with error:\r\nonnxruntime.capi.onnxruntime_pybind11_state.NotImplemented: [ONNXRuntimeError] : 9 : NOT_IMPLEMENTED : Could not find an implementation for the node ConvInteger(10)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/750935844/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/766926811",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-766926811",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 766926811,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjkyNjgxMQ==",
        "user": {
            "login": "shairoz-deci",
            "id": 73780196,
            "node_id": "MDQ6VXNlcjczNzgwMTk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/73780196?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shairoz-deci",
            "html_url": "https://github.com/shairoz-deci",
            "followers_url": "https://api.github.com/users/shairoz-deci/followers",
            "following_url": "https://api.github.com/users/shairoz-deci/following{/other_user}",
            "gists_url": "https://api.github.com/users/shairoz-deci/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shairoz-deci/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shairoz-deci/subscriptions",
            "organizations_url": "https://api.github.com/users/shairoz-deci/orgs",
            "repos_url": "https://api.github.com/users/shairoz-deci/repos",
            "events_url": "https://api.github.com/users/shairoz-deci/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shairoz-deci/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-25T16:11:34Z",
        "updated_at": "2021-01-25T16:11:34Z",
        "author_association": "NONE",
        "body": "Same here, create an 8bit quantization model following \r\nhttps://github.com/microsoft/onnxruntime/blob/master/onnxruntime/python/tools/quantization/notebooks/Bert-GLUE_OnnxRuntime_quantization.ipynb\r\nand got\r\n`onnxruntime.capi.onnxruntime_pybind11_state.NotImplemented: [ONNXRuntimeError] : 9 : NOT_IMPLEMENTED : Could not find an implementation for the node Conv_0_quant:ConvInteger(10)`\r\nupon trying to run inference session.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/766926811/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767516798",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-767516798",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 767516798,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzUxNjc5OA==",
        "user": {
            "login": "AlZuev",
            "id": 47258274,
            "node_id": "MDQ6VXNlcjQ3MjU4Mjc0",
            "avatar_url": "https://avatars.githubusercontent.com/u/47258274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AlZuev",
            "html_url": "https://github.com/AlZuev",
            "followers_url": "https://api.github.com/users/AlZuev/followers",
            "following_url": "https://api.github.com/users/AlZuev/following{/other_user}",
            "gists_url": "https://api.github.com/users/AlZuev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AlZuev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AlZuev/subscriptions",
            "organizations_url": "https://api.github.com/users/AlZuev/orgs",
            "repos_url": "https://api.github.com/users/AlZuev/repos",
            "events_url": "https://api.github.com/users/AlZuev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AlZuev/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-26T12:41:29Z",
        "updated_at": "2021-01-26T12:41:29Z",
        "author_association": "NONE",
        "body": "I thought I have answer. You need weight and input, x_offset, w_offset in type uint8 (for int8 you will get this error)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767516798/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1105181446",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1105181446",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1105181446,
        "node_id": "IC_kwDOCVq1mM5B37sG",
        "user": {
            "login": "ashu5644",
            "id": 8268102,
            "node_id": "MDQ6VXNlcjgyNjgxMDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8268102?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ashu5644",
            "html_url": "https://github.com/ashu5644",
            "followers_url": "https://api.github.com/users/ashu5644/followers",
            "following_url": "https://api.github.com/users/ashu5644/following{/other_user}",
            "gists_url": "https://api.github.com/users/ashu5644/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ashu5644/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ashu5644/subscriptions",
            "organizations_url": "https://api.github.com/users/ashu5644/orgs",
            "repos_url": "https://api.github.com/users/ashu5644/repos",
            "events_url": "https://api.github.com/users/ashu5644/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ashu5644/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-04-21T13:04:37Z",
        "updated_at": "2022-04-21T13:04:37Z",
        "author_association": "NONE",
        "body": "@AlZuev, I am having similar issue in my model. can you please elaborate and provide sample code of how did you resolved the issue ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1105181446/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1105200621",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1105200621",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1105200621,
        "node_id": "IC_kwDOCVq1mM5B4AXt",
        "user": {
            "login": "katirasole",
            "id": 12748194,
            "node_id": "MDQ6VXNlcjEyNzQ4MTk0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12748194?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/katirasole",
            "html_url": "https://github.com/katirasole",
            "followers_url": "https://api.github.com/users/katirasole/followers",
            "following_url": "https://api.github.com/users/katirasole/following{/other_user}",
            "gists_url": "https://api.github.com/users/katirasole/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/katirasole/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/katirasole/subscriptions",
            "organizations_url": "https://api.github.com/users/katirasole/orgs",
            "repos_url": "https://api.github.com/users/katirasole/repos",
            "events_url": "https://api.github.com/users/katirasole/events{/privacy}",
            "received_events_url": "https://api.github.com/users/katirasole/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-04-21T13:22:57Z",
        "updated_at": "2022-04-21T13:22:57Z",
        "author_association": "NONE",
        "body": "> @AlZuev, I am having similar issue in my model. can you please elaborate and provide sample code of how did you resolved the issue ?\r\n\r\nI solved issue by just changing QInt8 to QUInt8 in weight_type. \r\n\r\ndef quantize_onnx_model(onnx_model_path, quantized_model_path):\r\n    from onnxruntime.quantization import quantize_dynamic, QuantType\r\n    import onnx\r\n    onnx_opt_model = onnx.load(onnx_model_path)\r\n    quantize_dynamic(onnx_model_path,\r\n                     quantized_model_path,\r\n                     weight_type=QuantType.QUInt8)    #chnage QInt8 to QUInt8 \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1105200621/reactions",
            "total_count": 40,
            "+1": 24,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 16,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1105225073",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1105225073",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1105225073,
        "node_id": "IC_kwDOCVq1mM5B4GVx",
        "user": {
            "login": "ashu5644",
            "id": 8268102,
            "node_id": "MDQ6VXNlcjgyNjgxMDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8268102?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ashu5644",
            "html_url": "https://github.com/ashu5644",
            "followers_url": "https://api.github.com/users/ashu5644/followers",
            "following_url": "https://api.github.com/users/ashu5644/following{/other_user}",
            "gists_url": "https://api.github.com/users/ashu5644/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ashu5644/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ashu5644/subscriptions",
            "organizations_url": "https://api.github.com/users/ashu5644/orgs",
            "repos_url": "https://api.github.com/users/ashu5644/repos",
            "events_url": "https://api.github.com/users/ashu5644/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ashu5644/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-04-21T13:42:24Z",
        "updated_at": "2022-04-21T13:42:24Z",
        "author_association": "NONE",
        "body": "Thank you @katirasole , It's working now.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1105225073/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1116900781",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1116900781",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1116900781,
        "node_id": "IC_kwDOCVq1mM5Cko2t",
        "user": {
            "login": "MrRace",
            "id": 10300313,
            "node_id": "MDQ6VXNlcjEwMzAwMzEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/10300313?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MrRace",
            "html_url": "https://github.com/MrRace",
            "followers_url": "https://api.github.com/users/MrRace/followers",
            "following_url": "https://api.github.com/users/MrRace/following{/other_user}",
            "gists_url": "https://api.github.com/users/MrRace/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MrRace/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MrRace/subscriptions",
            "organizations_url": "https://api.github.com/users/MrRace/orgs",
            "repos_url": "https://api.github.com/users/MrRace/repos",
            "events_url": "https://api.github.com/users/MrRace/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MrRace/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-04T03:50:41Z",
        "updated_at": "2022-05-04T03:50:41Z",
        "author_association": "NONE",
        "body": "> > @AlZuev, I am having similar issue in my model. can you please elaborate and provide sample code of how did you resolved the issue ?\r\n> \r\n> I solved issue by just changing QInt8 to QUInt8 in weight_type.\r\n> \r\n> def quantize_onnx_model(onnx_model_path, quantized_model_path): from onnxruntime.quantization import quantize_dynamic, QuantType import onnx onnx_opt_model = onnx.load(onnx_model_path) quantize_dynamic(onnx_model_path, quantized_model_path, weight_type=QuantType.QUInt8) #chnage QInt8 to QUInt8\r\n\r\n@katirasole  However use `weight_type=QuantType.QUInt8` seems make model  infer slower? Have you test the performance for the `quantize_dynamic` model?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1116900781/reactions",
            "total_count": 16,
            "+1": 13,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 3,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1150608315",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1150608315",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1150608315,
        "node_id": "IC_kwDOCVq1mM5ElOO7",
        "user": {
            "login": "wangyunxiaa",
            "id": 41035013,
            "node_id": "MDQ6VXNlcjQxMDM1MDEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/41035013?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangyunxiaa",
            "html_url": "https://github.com/wangyunxiaa",
            "followers_url": "https://api.github.com/users/wangyunxiaa/followers",
            "following_url": "https://api.github.com/users/wangyunxiaa/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangyunxiaa/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangyunxiaa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangyunxiaa/subscriptions",
            "organizations_url": "https://api.github.com/users/wangyunxiaa/orgs",
            "repos_url": "https://api.github.com/users/wangyunxiaa/repos",
            "events_url": "https://api.github.com/users/wangyunxiaa/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangyunxiaa/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-06-09T02:42:58Z",
        "updated_at": "2022-06-09T02:42:58Z",
        "author_association": "NONE",
        "body": "> > > @AlZuev, I am having similar issue in my model. can you please elaborate and provide sample code of how did you resolved the issue ?\r\n> > \r\n> > \r\n> > I solved issue by just changing QInt8 to QUInt8 in weight_type.\r\n> > def quantize_onnx_model(onnx_model_path, quantized_model_path): from onnxruntime.quantization import quantize_dynamic, QuantType import onnx onnx_opt_model = onnx.load(onnx_model_path) quantize_dynamic(onnx_model_path, quantized_model_path, weight_type=QuantType.QUInt8) #chnage QInt8 to QUInt8\r\n> \r\n> @katirasole However use `weight_type=QuantType.QUInt8` seems make model infer slower? Have you test the performance for the `quantize_dynamic` model?\r\n\r\nI have also got the result, the float onnx model inference time is  53.57ms\r\nhowever I quant all ops with,\r\n```\r\nprefix = [\"MatMul\", \"Add\", \"Relu\"]\r\nlinear_names = [v for v in names if v.split(\"_\")[0] in prefix]\r\n\r\nquantize_dynamic(onnx_model, onnx_model+\".quantall\", weight_type=QuantType.QUInt8)\r\nquantize_dynamic(onnx_model, onnx_model+\".int8.quant\", weight_type=QuantType.QInt8, nodes_to_quantize=linear_names, extra_options={\"MatMulConstBOnly\":True})\r\nquantize_dynamic(onnx_model, onnx_model+\".uint8.quant\", weight_type=QuantType.QUInt8, nodes_to_quantize=linear_names, extra_options={\"MatMulConstBOnly\":True})\r\n```\r\n the inference time `.quantall` model is 94.91ms , `.uint8.quant` model is 40.31ms, but the `.int8.quant` is 37.87ms\r\n\r\nit seems that quant with conv is slower, and unit8 quant is slower than int8 ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1150608315/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1151326978",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1151326978",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1151326978,
        "node_id": "IC_kwDOCVq1mM5En9sC",
        "user": {
            "login": "yufenglee",
            "id": 30486710,
            "node_id": "MDQ6VXNlcjMwNDg2NzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yufenglee",
            "html_url": "https://github.com/yufenglee",
            "followers_url": "https://api.github.com/users/yufenglee/followers",
            "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
            "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
            "organizations_url": "https://api.github.com/users/yufenglee/orgs",
            "repos_url": "https://api.github.com/users/yufenglee/repos",
            "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yufenglee/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-06-09T16:05:38Z",
        "updated_at": "2022-06-09T16:05:38Z",
        "author_association": "MEMBER",
        "body": "> > > > @AlZuev, I am having similar issue in my model. can you please elaborate and provide sample code of how did you resolved the issue ?\r\n> > > \r\n> > > \r\n> > > I solved issue by just changing QInt8 to QUInt8 in weight_type.\r\n> > > def quantize_onnx_model(onnx_model_path, quantized_model_path): from onnxruntime.quantization import quantize_dynamic, QuantType import onnx onnx_opt_model = onnx.load(onnx_model_path) quantize_dynamic(onnx_model_path, quantized_model_path, weight_type=QuantType.QUInt8) #chnage QInt8 to QUInt8\r\n> > \r\n> > \r\n> > @katirasole However use `weight_type=QuantType.QUInt8` seems make model infer slower? Have you test the performance for the `quantize_dynamic` model?\r\n> \r\n> I have also got the result, the float onnx model inference time is 53.57ms however I quant all ops with,\r\n> \r\n> ```\r\n> prefix = [\"MatMul\", \"Add\", \"Relu\"]\r\n> linear_names = [v for v in names if v.split(\"_\")[0] in prefix]\r\n> \r\n> quantize_dynamic(onnx_model, onnx_model+\".quantall\", weight_type=QuantType.QUInt8)\r\n> quantize_dynamic(onnx_model, onnx_model+\".int8.quant\", weight_type=QuantType.QInt8, nodes_to_quantize=linear_names, extra_options={\"MatMulConstBOnly\":True})\r\n> quantize_dynamic(onnx_model, onnx_model+\".uint8.quant\", weight_type=QuantType.QUInt8, nodes_to_quantize=linear_names, extra_options={\"MatMulConstBOnly\":True})\r\n> ```\r\n> \r\n> the inference time `.quantall` model is 94.91ms , `.uint8.quant` model is 40.31ms, but the `.int8.quant` is 37.87ms\r\n> \r\n> it seems that quant with conv is slower, and unit8 quant is slower than int8\r\n\r\nDoes your model have Conv? If so, could you please refer to the recommendataion here and try static quantization?\r\nhttps://onnxruntime.ai/docs/performance/quantization.html#method-selection",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1151326978/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1204915903",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1204915903",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1204915903,
        "node_id": "IC_kwDOCVq1mM5H0Y6_",
        "user": {
            "login": "fxmarty",
            "id": 9808326,
            "node_id": "MDQ6VXNlcjk4MDgzMjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9808326?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fxmarty",
            "html_url": "https://github.com/fxmarty",
            "followers_url": "https://api.github.com/users/fxmarty/followers",
            "following_url": "https://api.github.com/users/fxmarty/following{/other_user}",
            "gists_url": "https://api.github.com/users/fxmarty/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fxmarty/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fxmarty/subscriptions",
            "organizations_url": "https://api.github.com/users/fxmarty/orgs",
            "repos_url": "https://api.github.com/users/fxmarty/repos",
            "events_url": "https://api.github.com/users/fxmarty/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fxmarty/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-04T08:11:26Z",
        "updated_at": "2022-08-04T08:11:26Z",
        "author_association": "CONTRIBUTOR",
        "body": "Why can we use `weight_type=QuantType.QInt8` with models with only linear layers, but not with models with conv layers? At the end of the day it's pretty much the same? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1204915903/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1265344578",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1265344578",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1265344578,
        "node_id": "IC_kwDOCVq1mM5La6BC",
        "user": {
            "login": "FrancescoSaverioZuppichini",
            "id": 15908060,
            "node_id": "MDQ6VXNlcjE1OTA4MDYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/15908060?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/FrancescoSaverioZuppichini",
            "html_url": "https://github.com/FrancescoSaverioZuppichini",
            "followers_url": "https://api.github.com/users/FrancescoSaverioZuppichini/followers",
            "following_url": "https://api.github.com/users/FrancescoSaverioZuppichini/following{/other_user}",
            "gists_url": "https://api.github.com/users/FrancescoSaverioZuppichini/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/FrancescoSaverioZuppichini/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/FrancescoSaverioZuppichini/subscriptions",
            "organizations_url": "https://api.github.com/users/FrancescoSaverioZuppichini/orgs",
            "repos_url": "https://api.github.com/users/FrancescoSaverioZuppichini/repos",
            "events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/events{/privacy}",
            "received_events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-03T12:06:59Z",
        "updated_at": "2022-10-03T12:06:59Z",
        "author_association": "NONE",
        "body": "news?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1265344578/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1396613896",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1396613896",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1396613896,
        "node_id": "IC_kwDOCVq1mM5TPqMI",
        "user": {
            "login": "luvwinnie",
            "id": 13714992,
            "node_id": "MDQ6VXNlcjEzNzE0OTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/13714992?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luvwinnie",
            "html_url": "https://github.com/luvwinnie",
            "followers_url": "https://api.github.com/users/luvwinnie/followers",
            "following_url": "https://api.github.com/users/luvwinnie/following{/other_user}",
            "gists_url": "https://api.github.com/users/luvwinnie/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luvwinnie/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luvwinnie/subscriptions",
            "organizations_url": "https://api.github.com/users/luvwinnie/orgs",
            "repos_url": "https://api.github.com/users/luvwinnie/repos",
            "events_url": "https://api.github.com/users/luvwinnie/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luvwinnie/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-19T08:34:27Z",
        "updated_at": "2023-01-19T08:34:27Z",
        "author_association": "NONE",
        "body": "is there any news for this?I hope to dynamic quantize my CNN based model too. What is the best solution to speed up the inference speed?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1396613896/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1399405174",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1399405174",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1399405174,
        "node_id": "IC_kwDOCVq1mM5TaTp2",
        "user": {
            "login": "pauldog",
            "id": 33497043,
            "node_id": "MDQ6VXNlcjMzNDk3MDQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/33497043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pauldog",
            "html_url": "https://github.com/pauldog",
            "followers_url": "https://api.github.com/users/pauldog/followers",
            "following_url": "https://api.github.com/users/pauldog/following{/other_user}",
            "gists_url": "https://api.github.com/users/pauldog/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pauldog/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pauldog/subscriptions",
            "organizations_url": "https://api.github.com/users/pauldog/orgs",
            "repos_url": "https://api.github.com/users/pauldog/repos",
            "events_url": "https://api.github.com/users/pauldog/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pauldog/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-22T04:57:17Z",
        "updated_at": "2023-01-22T04:57:17Z",
        "author_association": "NONE",
        "body": "I can get the quantized models to work on CPU with Quint8 but they crash on GPU (CUDA or DirectML)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1399405174/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1633700640",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3130#issuecomment-1633700640",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3130",
        "id": 1633700640,
        "node_id": "IC_kwDOCVq1mM5hYEsg",
        "user": {
            "login": "srikar242",
            "id": 61647908,
            "node_id": "MDQ6VXNlcjYxNjQ3OTA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/61647908?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/srikar242",
            "html_url": "https://github.com/srikar242",
            "followers_url": "https://api.github.com/users/srikar242/followers",
            "following_url": "https://api.github.com/users/srikar242/following{/other_user}",
            "gists_url": "https://api.github.com/users/srikar242/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/srikar242/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/srikar242/subscriptions",
            "organizations_url": "https://api.github.com/users/srikar242/orgs",
            "repos_url": "https://api.github.com/users/srikar242/repos",
            "events_url": "https://api.github.com/users/srikar242/events{/privacy}",
            "received_events_url": "https://api.github.com/users/srikar242/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-07-13T07:19:05Z",
        "updated_at": "2023-07-13T07:19:05Z",
        "author_association": "NONE",
        "body": "@wangyunxiaa What is the names variable you are referring to in list comprehension to get linear names. I tried to use your code and getting the below error. Your help is appreciated.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/srikar/test_model_results/dynamic_quant.py\", line 9, in <module>\r\n    linear_names = [v for v in names if v.split(\"_\")[0] in prefix]\r\nNameError: name 'names' is not defined\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1633700640/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]