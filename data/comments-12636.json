[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1219911376",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/12636#issuecomment-1219911376",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/12636",
        "id": 1219911376,
        "node_id": "IC_kwDOCVq1mM5Itl7Q",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-18T20:08:53Z",
        "updated_at": "2022-08-18T20:08:53Z",
        "author_association": "MEMBER",
        "body": "I think it is a bug. C API should not have C++ code. Apparently `onnxruntime::ArenaExtendStrategy` is C++.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1219911376/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1220412108",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/12636#issuecomment-1220412108",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/12636",
        "id": 1220412108,
        "node_id": "IC_kwDOCVq1mM5IvgLM",
        "user": {
            "login": "mortenwp",
            "id": 54076102,
            "node_id": "MDQ6VXNlcjU0MDc2MTAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54076102?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mortenwp",
            "html_url": "https://github.com/mortenwp",
            "followers_url": "https://api.github.com/users/mortenwp/followers",
            "following_url": "https://api.github.com/users/mortenwp/following{/other_user}",
            "gists_url": "https://api.github.com/users/mortenwp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mortenwp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mortenwp/subscriptions",
            "organizations_url": "https://api.github.com/users/mortenwp/orgs",
            "repos_url": "https://api.github.com/users/mortenwp/repos",
            "events_url": "https://api.github.com/users/mortenwp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mortenwp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-19T08:43:52Z",
        "updated_at": "2022-08-19T08:43:52Z",
        "author_association": "NONE",
        "body": "A bit more digging revealed that it is defined in \r\nonnxruntime/core/providers/cuda/cuda_provider_factory.h:enum class ArenaExtendStrategy : int32_t;\r\nwhich is outside the tree of public includes. \r\n\r\nThe current code snip I use is this. I think the CreateCUDAProvides\r\n```\r\n OrtCUDAProviderOptionsV2* cuda_options;\r\n    const OrtApi* ort = OrtGetApiBase()->GetApi(12);\r\n    if(ort->CreateCUDAProviderOptions(&cuda_options))\r\n        {\r\n            cuda_options->device_id=device_id;\r\n            m_session_options.AppendExecutionProvider_CUDA_V2(*cuda_options);\r\n             ort->ReleaseCUDAProviderOptions(cuda_options);\r\n       }\r\n\r\n```\r\n\r\nFrom the docs in the header of the C api, it talks about the CUDAOptions being opaque\r\nhttps://github.com/microsoft/onnxruntime/blob/b270334e1e8365ba00f2db8aca1150af827bab16/include/onnxruntime/core/session/onnxruntime_c_api.h#L3228-L3249\r\n\r\nBut if its to be treated as opaque (avoiding including the public include) I  dont know how I would override any values in it.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1220412108/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1220927257",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/12636#issuecomment-1220927257",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/12636",
        "id": 1220927257,
        "node_id": "IC_kwDOCVq1mM5Ixd8Z",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-19T17:37:13Z",
        "updated_at": "2022-08-19T17:45:29Z",
        "author_association": "MEMBER",
        "body": "You don't need the cuda_provider_options.h file. You should be using CreateCUDAProviderOptions, UpdateCUDAProviderOptions and then SessionOptionsAppendExecutionProvider_CUDA_V2 from onnxruntime_c_api.h. See https://onnxruntime.ai/docs/execution-providers/CUDA-ExecutionProvider.html#configuration-options for a list of options that can be configured (including arena extend strategy).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1220927257/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1221255428",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/12636#issuecomment-1221255428",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/12636",
        "id": 1221255428,
        "node_id": "IC_kwDOCVq1mM5IyuEE",
        "user": {
            "login": "mortenwp",
            "id": 54076102,
            "node_id": "MDQ6VXNlcjU0MDc2MTAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54076102?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mortenwp",
            "html_url": "https://github.com/mortenwp",
            "followers_url": "https://api.github.com/users/mortenwp/followers",
            "following_url": "https://api.github.com/users/mortenwp/following{/other_user}",
            "gists_url": "https://api.github.com/users/mortenwp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mortenwp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mortenwp/subscriptions",
            "organizations_url": "https://api.github.com/users/mortenwp/orgs",
            "repos_url": "https://api.github.com/users/mortenwp/repos",
            "events_url": "https://api.github.com/users/mortenwp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mortenwp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-20T08:09:51Z",
        "updated_at": "2022-08-20T08:24:33Z",
        "author_association": "NONE",
        "body": "Thanks, I think I got it now. \r\n```OrtCUDAProviderOptionsV2* cuda_options;\r\n                const OrtApi* ort = OrtGetApiBase()->GetApi(12);\r\n                if(ort->CreateCUDAProviderOptions(&cuda_options)==nullptr)\r\n                 {\r\n                  std::ostringstream strm;\r\n                  strm << device_id;\r\n                  std::string str=strm.str();\r\n                  const char* key=\"device_id\";\r\n                  const char* value=str.c_str();\r\n                  if(ort->UpdateCUDAProviderOptions(cuda_options,&key,&value,1)==nullptr)\r\n                    m_session_options.AppendExecutionProvider_CUDA_V2(*cuda_options);\r\n                  ort->ReleaseCUDAProviderOptions(cuda_options);\r\n```\r\nDoesn't that raise the questions why the include file lives in the \"public\" include directory, when it is never intended to be included by application code?\r\n\r\nAnyway thanks for the help, I'm good for now. As just mentioned I think that include file should be hidden from the public, so I will leave issue open, and let you decide :)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1221255428/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1222666254",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/12636#issuecomment-1222666254",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/12636",
        "id": 1222666254,
        "node_id": "IC_kwDOCVq1mM5I4GgO",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-22T17:22:00Z",
        "updated_at": "2022-08-22T17:22:00Z",
        "author_association": "MEMBER",
        "body": "We left the include file to allow folks with older versions of ORT to use it.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1222666254/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1227103482",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/12636#issuecomment-1227103482",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/12636",
        "id": 1227103482,
        "node_id": "IC_kwDOCVq1mM5JJBz6",
        "user": {
            "login": "mortenwp",
            "id": 54076102,
            "node_id": "MDQ6VXNlcjU0MDc2MTAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54076102?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mortenwp",
            "html_url": "https://github.com/mortenwp",
            "followers_url": "https://api.github.com/users/mortenwp/followers",
            "following_url": "https://api.github.com/users/mortenwp/following{/other_user}",
            "gists_url": "https://api.github.com/users/mortenwp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mortenwp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mortenwp/subscriptions",
            "organizations_url": "https://api.github.com/users/mortenwp/orgs",
            "repos_url": "https://api.github.com/users/mortenwp/repos",
            "events_url": "https://api.github.com/users/mortenwp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mortenwp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-25T10:57:12Z",
        "updated_at": "2022-08-25T10:57:12Z",
        "author_association": "NONE",
        "body": "OK, I assume you mean that people use the old API (rather than using the old version)\r\nHowever they will still have the issue with finding the \"private\" header \"core/framework/arena_extend_strategy.h\"\r\nwhich is currently not found in the include directory, but only in onnxruntime source directory as far as I can see\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1227103482/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]