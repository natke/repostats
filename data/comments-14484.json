[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1409971253",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1409971253",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1409971253,
        "node_id": "IC_kwDOCVq1mM5UCnQ1",
        "user": {
            "login": "RyanUnderhill",
            "id": 38674843,
            "node_id": "MDQ6VXNlcjM4Njc0ODQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/38674843?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RyanUnderhill",
            "html_url": "https://github.com/RyanUnderhill",
            "followers_url": "https://api.github.com/users/RyanUnderhill/followers",
            "following_url": "https://api.github.com/users/RyanUnderhill/following{/other_user}",
            "gists_url": "https://api.github.com/users/RyanUnderhill/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RyanUnderhill/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RyanUnderhill/subscriptions",
            "organizations_url": "https://api.github.com/users/RyanUnderhill/orgs",
            "repos_url": "https://api.github.com/users/RyanUnderhill/repos",
            "events_url": "https://api.github.com/users/RyanUnderhill/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RyanUnderhill/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-31T08:43:51Z",
        "updated_at": "2023-01-31T08:43:51Z",
        "author_association": "MEMBER",
        "body": "If possible, can you give us steps to reproduce the performance you're seeing?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1409971253/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1412699316",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1412699316",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1412699316,
        "node_id": "IC_kwDOCVq1mM5UNBS0",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-01T20:46:23Z",
        "updated_at": "2023-02-01T21:01:32Z",
        "author_association": "NONE",
        "body": "Hi, I am sorry but I cannot provide the models and I am executing using the C api via Rust bindings so a bit difficult to share.\r\n\r\nI have been running profiling (which I can provide) to understand where the bottleneck is and have found some interesting things. \r\n\r\nAs I mentioned above I have three onnxsessions running in parallel (overlapping) that:\r\n1. model copies image data to gpu  (io_binding cpu in, cuda out)\r\n2. model resizes and pads image (io_binding cuda in, cuda out)\r\n3. model executes ml inference against that (io_binding cuda in, cpu out)\r\n\r\nIndividually each model's 50th percentile is faster on 1.14.0 vs 1.13.1 yet some sort of scheduling delay is causing the end-to-end time to increase. The speedup of ~2% can be measured for 1.14.0 vs 1.13.1 when executing a single model.\r\n\r\n```\r\nmedian model_run time in nanoseconds per model/version\r\n\r\n|   | 1.13.1   | 1.14.0   | improvement |\r\n|---|----------|----------|-------------|\r\n| 1 |   645000 |   602000 |          7% |\r\n| 2 |  2665000 |  1320000 |        102% |\r\n| 3 | 12530000 | 12359000 |          1% |\r\n```\r\n\r\nFYI SQL query for calculation (skipping initial 100 runs to allow for warmup):\r\n\r\n```sql\r\nWITH p AS (SELECT dur, NTILE(10) OVER (ORDER BY dur) AS percentile\r\n           FROM slice\r\n           WHERE name = 'model_run'\r\n           AND id > 100)\r\nSELECT percentile, MAX(dur) as dur\r\nFROM p\r\nGROUP BY percentile;\r\n```\r\n\r\nI will continue investigating.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1412699316/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1412958106",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1412958106",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1412958106,
        "node_id": "IC_kwDOCVq1mM5UOAea",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-02T00:26:30Z",
        "updated_at": "2023-02-02T01:49:29Z",
        "author_association": "NONE",
        "body": "Another update.\r\n\r\nI have run NVidia NSight profiling while running 1.13.1 and 1.14.0. \r\n\r\nThe biggest change I can see is that the Memcpy HtoD is running in parallel on 1.13.1 and sequentially on 1.14.0. Also that Memcpy is running on an arbitrary stream on 1.13.1 the Default stream in 1.14.0. I have timed the two parts that were previously running in parallel (the six red parts and the green bit) and it sums up to ~2ms which aligns perfectly with my initial findings.\r\n\r\n1.13.1\r\n<img width=\"1450\" alt=\"1 13 1\" src=\"https://user-images.githubusercontent.com/3468624/216199954-132f795f-f2ef-4dc6-8974-b379303a352f.png\">\r\n\r\n1.14.0\r\n<img width=\"1454\" alt=\"1 14 0\" src=\"https://user-images.githubusercontent.com/3468624/216200009-a69e3e4d-c16c-44f1-a0df-c2b28f132bc6.png\">\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1412958106/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1414366581",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1414366581",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1414366581,
        "node_id": "IC_kwDOCVq1mM5UTYV1",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-02T21:01:19Z",
        "updated_at": "2023-02-02T21:01:19Z",
        "author_association": "MEMBER",
        "body": "I wanted to confirm all the variables here and ask some follow-up questions.\r\nORT version changed from 1.13.1 -> 1.14.0\r\nTensorRT version changed from 8.4 -> 8.5.x  , correct?\r\n\r\nI assume the application code to run both ORT versions is exactly the same? (no change in api usage?)\r\nCan the c api code be shared (for setting up session, cuda stream, io bindings etc.)\r\nDoes the memcpy HtoD in the profile correspond to Model 1's iobinding cpu in, cuda out?  \r\nI'm trying to better understand how the memcpy could have been parallelized with compute in 1.13 case. model 2 needs to wait for the HtoD to complete. \r\nlastly, is there any chance you can provide a minimal repro since you can't share the models?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1414366581/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1414413761",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1414413761",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1414413761,
        "node_id": "IC_kwDOCVq1mM5UTj3B",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-02T21:42:50Z",
        "updated_at": "2023-02-02T21:49:03Z",
        "author_association": "NONE",
        "body": "Hi.\r\nCorrect all the code is exactly the same except 1.13.1 to1.14.0 (built from rel-1.14.0 branch yesterday). We have been on TensorRt 8.5 for quite a while.\r\n\r\nI will push my updated Rust bindings soon and can link here. \r\n\r\nI am executing this per frame of a video so the parallelism seen must be for the next frame. For clarity I have three independent sessions running in parallel in their own threads passing the ortvalue of the iobinding to the next model. We are doing nothing to explicitly set up any cuda streams. It looks to me like the cuda option do_copy_in_default_stream is active now?\r\n\r\nI guess I can try to repro a minimal example but quite hard.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1414413761/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1416144306",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1416144306",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1416144306,
        "node_id": "IC_kwDOCVq1mM5UaKWy",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-03T16:59:14Z",
        "updated_at": "2023-02-03T16:59:14Z",
        "author_association": "MEMBER",
        "body": "I don't believe there any changes in TensorRT Execution Provider between 1.13 and 1.14 that could have resulted in this behavior. \r\nAnd given that there's no application or TensorRT/CUDA version changes,\r\nhttps://github.com/microsoft/onnxruntime/pull/13495 is a possible suspect\r\nCan you test with https://github.com/microsoft/onnxruntime/commit/f4cd35f9b1301f54d65a3e59c525b92e85bf384e which is the commit before that PR was merged to help us narrow it down? \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1416144306/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1416852185",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1416852185",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1416852185,
        "node_id": "IC_kwDOCVq1mM5Uc3LZ",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-04T21:17:42Z",
        "updated_at": "2023-02-04T21:17:42Z",
        "author_association": "NONE",
        "body": "Hi.\r\nThank you for your help so far and suggestion for debug.\r\n\r\nI have built both https://github.com/microsoft/onnxruntime/commit/f4cd35f9b1301f54d65a3e59c525b92e85bf384e and https://github.com/microsoft/onnxruntime/commit/a81faee41ef2344de448caecb0f42a34fdc9ead7 which is the commit directly before and after the commit of #13495.\r\n\r\nI think these results conclusively identify #13495 as the cause of the performance regression.\r\n\r\nBEFORE #13495: \r\n```\r\nf4cd35f9b1301f54d65a3e59c525b92e85bf384e 2m32.615s\r\n|===============================+======================+======================|\r\n|   0  NVIDIA A2           Off  | 00000000:51:00.0 Off |                    0 |\r\n|  0%   60C    P0    60W /  60W |   1050MiB / 15356MiB |     97%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n```\r\n\r\n<img width=\"1449\" alt=\"f4cd35f9b1301f54d65a3e59c525b92e85bf384e\" src=\"https://user-images.githubusercontent.com/3468624/216789858-02a477f2-f83a-4cf6-ad7e-67c126d583ee.png\">\r\n\r\nAFTER #13495:\r\n```\r\na81faee41ef2344de448caecb0f42a34fdc9ead7 2m43.328s\r\n|===============================+======================+======================|\r\n|   0  NVIDIA A2           Off  | 00000000:51:00.0 Off |                    0 |\r\n|  0%   56C    P0    58W /  60W |   1106MiB / 15356MiB |     95%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n```\r\n\r\n<img width=\"1455\" alt=\"a81faee41ef2344de448caecb0f42a34fdc9ead7\" src=\"https://user-images.githubusercontent.com/3468624/216789865-b9ff798c-295f-4f4a-a6b7-f59b0dfde705.png\">\r\n\r\nFor clarity these are the versions involved:\r\n```\r\nNVIDIA-SMI 525.60.13    Driver Version: 525.60.13    CUDA Version: 12.0\r\nlibnvinfer8/unknown,now 8.5.2-1+cuda11.8 amd64 [installed,upgradable to: 8.5.3-1+cuda11.8]\r\nlibnvinfer-plugin8/unknown,now 8.5.2-1+cuda11.8 amd64 [installed,upgradable to: 8.5.3-1+cuda11.8]\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1416852185/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419317889",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1419317889",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1419317889,
        "node_id": "IC_kwDOCVq1mM5UmRKB",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-06T15:58:01Z",
        "updated_at": "2023-02-06T15:58:01Z",
        "author_association": "MEMBER",
        "body": "> Hi. Thank you for your help so far and suggestion for debug.\r\n> \r\n> I have built both [f4cd35f](https://github.com/microsoft/onnxruntime/commit/f4cd35f9b1301f54d65a3e59c525b92e85bf384e) and [a81faee](https://github.com/microsoft/onnxruntime/commit/a81faee41ef2344de448caecb0f42a34fdc9ead7) which is the commit directly before and after the commit of #13495.\r\n> \r\n> I think these results conclusively identify #13495 as the cause of the performance regression.\r\n> \r\n> BEFORE #13495:\r\n> \r\n> ```\r\n> f4cd35f9b1301f54d65a3e59c525b92e85bf384e 2m32.615s\r\n> |===============================+======================+======================|\r\n> |   0  NVIDIA A2           Off  | 00000000:51:00.0 Off |                    0 |\r\n> |  0%   60C    P0    60W /  60W |   1050MiB / 15356MiB |     97%      Default |\r\n> |                               |                      |                  N/A |\r\n> +-------------------------------+----------------------+----------------------+\r\n> ```\r\n> \r\n> <img alt=\"f4cd35f9b1301f54d65a3e59c525b92e85bf384e\" width=\"1449\" src=\"https://user-images.githubusercontent.com/3468624/216789858-02a477f2-f83a-4cf6-ad7e-67c126d583ee.png\">\r\n> \r\n> AFTER #13495:\r\n> \r\n> ```\r\n> a81faee41ef2344de448caecb0f42a34fdc9ead7 2m43.328s\r\n> |===============================+======================+======================|\r\n> |   0  NVIDIA A2           Off  | 00000000:51:00.0 Off |                    0 |\r\n> |  0%   56C    P0    58W /  60W |   1106MiB / 15356MiB |     95%      Default |\r\n> |                               |                      |                  N/A |\r\n> +-------------------------------+----------------------+----------------------+\r\n> ```\r\n> \r\n> <img alt=\"a81faee41ef2344de448caecb0f42a34fdc9ead7\" width=\"1455\" src=\"https://user-images.githubusercontent.com/3468624/216789865-b9ff798c-295f-4f4a-a6b7-f59b0dfde705.png\">\r\n> \r\n> For clarity these are the versions involved:\r\n> \r\n> ```\r\n> NVIDIA-SMI 525.60.13    Driver Version: 525.60.13    CUDA Version: 12.0\r\n> libnvinfer8/unknown,now 8.5.2-1+cuda11.8 amd64 [installed,upgradable to: 8.5.3-1+cuda11.8]\r\n> libnvinfer-plugin8/unknown,now 8.5.2-1+cuda11.8 amd64 [installed,upgradable to: 8.5.3-1+cuda11.8]\r\n> ```\r\n\r\nThanks a lot for running these experiments and helping narrow it down!\r\nI will loop in other devs to this thread.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419317889/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419319807",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1419319807",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1419319807,
        "node_id": "IC_kwDOCVq1mM5UmRn_",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-06T15:59:10Z",
        "updated_at": "2023-02-06T15:59:10Z",
        "author_association": "MEMBER",
        "body": "+@souptc FYI",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419319807/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419388784",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1419388784",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1419388784,
        "node_id": "IC_kwDOCVq1mM5Umidw",
        "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-06T16:42:30Z",
        "updated_at": "2023-02-06T16:42:30Z",
        "author_association": "MEMBER",
        "body": "hi @seddonm1, could you please share how did you copy the input to GPU? based on my understanding, in onnxruntime, we never put the input memory copy on separate stream. not suer is there any advance feature that we missed during the refactoring. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419388784/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419506274",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1419506274",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1419506274,
        "node_id": "IC_kwDOCVq1mM5Um_Ji",
        "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-06T17:53:01Z",
        "updated_at": "2023-02-06T17:56:31Z",
        "author_association": "MEMBER",
        "body": "from the profiling you shared, it seems in ORT-1.13, the MemCpy HtoD is put on a stream with other ort kernels. I'd like to confirm   following thigs:\r\n1) in the ort-1.13 profiling, is the stream with MemCpy HtoD associated with your pre-processing model (copy in, cuda out)\r\n2) if the answer to 1) is yes, for the pre-processing model, which EP you registered for it, Cuda EP or TensorRT EP?\r\n3) you are not using any ORT minimal build, right?\r\n4) you are not using ORT training build, right?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419506274/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419788501",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1419788501",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1419788501,
        "node_id": "IC_kwDOCVq1mM5UoEDV",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-06T21:33:43Z",
        "updated_at": "2023-02-06T21:33:43Z",
        "author_association": "NONE",
        "body": "Hi @souptc.\r\n\r\n0. The copy from cpu to gpu happens via the TensorrtProvider using io_binding with a `BindInput` from a CPU `OrtValue` and an output Cuda `OrtValue`. I am leaving all stream allocation to the OnnxRuntime.\r\n1. See below.\r\n2. TensorRT\r\n3. I am using this process to build ORT: https://gist.github.com/seddonm1/5dc956b136a98b8d46d03ca205252b4a\r\n4. See point 3.\r\n\r\nI have exported more detailed views of the Nsight profile showing the individual threads. \r\n\r\n# ~1.13.1 (https://github.com/microsoft/onnxruntime/commit/f4cd35f9b1301f54d65a3e59c525b92e85bf384e) build:\r\n<img width=\"1695\" alt=\"f4cd35f9b1301f54d65a3e59c525b92e85bf384e\" src=\"https://user-images.githubusercontent.com/3468624/217091592-796ea915-4737-4f5c-b381-91f03f28677c.png\">\r\n\r\nThe streams are: \r\n1. GPU Hardware Video decoder decodes and copies data to CPU - Default stream 7. You can see the memcpy in red.\r\n2. model copies image data to gpu (io_binding cpu in, cuda out) - Stream 15. You can see the big memcpy in green followed by a small kernel execution.\r\n3. model resizes and pads image (io_binding cuda in, cuda out) - Stream 13. You can see the preprocessing steps executed using Tensorrt.\r\n4. model executes ml inference against that (io_binding cuda in, cpu out) - Stream 14. You can see the many steps of the CNN.\r\n\r\n# ~1.14.0 (https://github.com/microsoft/onnxruntime/commit/a81faee41ef2344de448caecb0f42a34fdc9ead7)\r\n\r\n<img width=\"1661\" alt=\"a81faee41ef2344de448caecb0f42a34fdc9ead7\" src=\"https://user-images.githubusercontent.com/3468624/217090494-3e2f905d-d365-4594-9c8b-6b649c9d8662.png\">\r\n\r\nIn this one the streams are:\r\n1. GPU Hardware Video decoder decodes and copies data to CPU - Default stream 7. You can see the memcpy in red copying the data from the GPU to the CPU (seen at around +111ms).\r\n2. model copies image data to gpu (io_binding cpu in, cuda out) - Default stream 7. You can see the memcpy but maybe there is now contention due to the use of the default stream? \r\n3. model resizes and pads image (io_binding cuda in, cuda out) - Stream 55. You can see the preprocessing steps executed using Tensorrt.\r\n4. model executes ml inference against that (io_binding cuda in, cpu out) - Stream 90. You can see the many steps of the CNN.\r\n\r\nI guess the big questions are:\r\n- why is the model execution in step 2 happening on the default thread now?\r\n- is there something special about the default thread that stops it executing in parallel?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1419788501/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1420200620",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1420200620",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1420200620,
        "node_id": "IC_kwDOCVq1mM5Upoqs",
        "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-07T04:55:53Z",
        "updated_at": "2023-02-07T04:55:53Z",
        "author_association": "MEMBER",
        "body": "the model execution in step 2 (memcpy HtoD + **a small kernels**) is not on default stream, you can see in your ort 1.14 profiling, the **small kernel** is executed on stream 16. It is just the memcpy been put on default stream.\r\n\r\nFrom the implementation, we only put the graph input copy on default stream for two cases:\r\n1) there is no stream created on this device. see [here](https://github.com/microsoft/onnxruntime/blob/main/onnxruntime/core/framework/utils.cc#L680).\r\n2) it is a minimal build. see [here](https://github.com/microsoft/onnxruntime/blob/main/onnxruntime/core/framework/utils.cc#L684).\r\n\r\nbut i don't see how could your case following into any of those two categories. We will try to reproduce what happened with iobinding, but could you share what you did in that **small kernel**? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1420200620/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1420238035",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1420238035",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1420238035,
        "node_id": "IC_kwDOCVq1mM5UpxzT",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-07T05:54:03Z",
        "updated_at": "2023-02-07T05:54:03Z",
        "author_association": "NONE",
        "body": "Thanks @souptc - you are better at interpreting these Nsight reports than I am.\r\n\r\nThe operation that you are referring to on stream 16 after the memcpy is a [Scale](https://docs.nvidia.com/deeplearning/tensorrt/operators/docs/Scale.html) operation. \r\n\r\nStep 2 does three things:\r\n- copy a tensor input from host to device (automatically handled by ORT)\r\n- Cast uint8 -> fp32\r\n- Mul operator with `0.0039` (normalization) which is the 'Scale' you can see executed using Tensorrt.\r\n\r\n<img width=\"618\" alt=\"a81faee41ef2344de448caecb0f42a34fdc9ead7-zoom\" src=\"https://user-images.githubusercontent.com/3468624/217159608-051efe35-c724-4b46-a8fa-6514ac672420.png\">",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1420238035/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1420275244",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1420275244",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1420275244,
        "node_id": "IC_kwDOCVq1mM5Up64s",
        "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-07T06:44:04Z",
        "updated_at": "2023-02-07T06:44:04Z",
        "author_association": "MEMBER",
        "body": "thanks @seddonm1 . Could you help me for two more experiments:\r\n1) start a process, just run step2 (memcpy HtoD + cast + Mul), whether the MemCpy happened on default stream?\r\n2) if yes, could you share how you create inference session and iobinding for this small model? if you can share that model will be great.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1420275244/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1421390570",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1421390570",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1421390570,
        "node_id": "IC_kwDOCVq1mM5UuLLq",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-07T20:20:14Z",
        "updated_at": "2023-02-07T20:20:14Z",
        "author_association": "NONE",
        "body": "@souptc. \r\n\r\nYes, you can see the issue happens with just this one model.\r\n\r\n<img width=\"1671\" alt=\"step2\" src=\"https://user-images.githubusercontent.com/3468624/217355109-d14f6703-7508-4aa1-8395-c3079830ddae.png\">\r\n\r\nI am using the C API via Rust bindings but not doing anything exciting. I can post my bindings tomorrow but I am creating an OrtEnvironment with global inter/intra op threads 16, then an OrtSession with execution_mode parallel, graph_optimization all, mem_pattern true, disable_per_session_threads.\r\n\r\nDo you have an email I can send you the model? I will need to verify with my employer before I can send. In the meantime I can easily add some `cout` statements to the https://github.com/microsoft/onnxruntime/blob/main/onnxruntime/core/framework/utils.cc file to help debug?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1421390570/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1421594661",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1421594661",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1421594661,
        "node_id": "IC_kwDOCVq1mM5Uu9Al",
        "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-07T23:07:41Z",
        "updated_at": "2023-02-07T23:07:41Z",
        "author_association": "MEMBER",
        "body": "sure, could you mail to chenta@microsoft.com? not only model, i am more interested in how you configure the session and iobinding, probably some usage i previously missed. do you mind to share that script together? \r\n\r\nif you want to debug it locally, i would suggest to check [here](https://github.com/microsoft/onnxruntime/blob/main/onnxruntime/core/framework/utils.cc#L673), what is the stream and the \"stream->handle\" you got underline. if it is on default stream, you will get a NULL here.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1421594661/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1423206297",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1423206297",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1423206297,
        "node_id": "IC_kwDOCVq1mM5U1GeZ",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-08T20:33:50Z",
        "updated_at": "2023-02-08T20:33:50Z",
        "author_association": "NONE",
        "body": "Hi @souptc I have sent you the ONNX model to your email address and aim to do some local debugging today.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1423206297/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1433206458",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1433206458",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1433206458,
        "node_id": "IC_kwDOCVq1mM5VbP66",
        "user": {
            "login": "noujaimc",
            "id": 7690487,
            "node_id": "MDQ6VXNlcjc2OTA0ODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7690487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/noujaimc",
            "html_url": "https://github.com/noujaimc",
            "followers_url": "https://api.github.com/users/noujaimc/followers",
            "following_url": "https://api.github.com/users/noujaimc/following{/other_user}",
            "gists_url": "https://api.github.com/users/noujaimc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/noujaimc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/noujaimc/subscriptions",
            "organizations_url": "https://api.github.com/users/noujaimc/orgs",
            "repos_url": "https://api.github.com/users/noujaimc/repos",
            "events_url": "https://api.github.com/users/noujaimc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/noujaimc/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-16T14:51:24Z",
        "updated_at": "2023-02-16T14:51:24Z",
        "author_association": "NONE",
        "body": "Any updates ? We have the same problem. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1433206458/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1433626613",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1433626613",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1433626613,
        "node_id": "IC_kwDOCVq1mM5Vc2f1",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-16T19:50:03Z",
        "updated_at": "2023-02-16T19:50:03Z",
        "author_association": "NONE",
        "body": "@noujaimc I have been working with @souptc and @jslhcl to reproduce the issue. It looks like an issue relating to `io_binding` and they have created a PR a few minutes ago that hopefully will fix the issue.\r\n\r\nThank you very much @souptc and @jslhcl for your excellent support.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1433626613/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1436212817",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1436212817",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1436212817,
        "node_id": "IC_kwDOCVq1mM5Vmt5R",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-20T02:25:04Z",
        "updated_at": "2023-02-20T02:25:04Z",
        "author_association": "NONE",
        "body": "Hi,\r\nI have now run benchmarking on three releases. `1.13.1` official release, `1.14.0` official release and `1.14.+` where this PR was compiled: https://github.com/microsoft/onnxruntime/pull/14719\r\n\r\n```\r\n| version | commit                                   | runtime  | regression |\r\n|---------|------------------------------------------|----------|------------|\r\n| 1.13.1  | b353e0b41d588605958b03f9a223d10a2fbeb514 | 00:02:28 |            |\r\n| 1.14.0  | 6ccaeddefa65ccac402a47fa4d9cad8229794bb2 | 00:02:43 |        10% |\r\n| 1.14.x  | e4b9d54d81442b4f36634fb8379d2cef1b506769 | 00:02:39 |         7% |\r\n```\r\n\r\nMy results show that the https://github.com/microsoft/onnxruntime/pull/14719 PR does help reduce the regression but runtime vs baseline `1.13.1` is `+7%` with this PR and  `+10%` without the PR applied - so still a regression.\r\n\r\nAre these results inline with your testing @noujaimc ?\r\n\r\n@souptc @jslhcl should we continue investigating?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1436212817/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1437354880",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1437354880",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1437354880,
        "node_id": "IC_kwDOCVq1mM5VrEuA",
        "user": {
            "login": "jslhcl",
            "id": 1175624,
            "node_id": "MDQ6VXNlcjExNzU2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1175624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jslhcl",
            "html_url": "https://github.com/jslhcl",
            "followers_url": "https://api.github.com/users/jslhcl/followers",
            "following_url": "https://api.github.com/users/jslhcl/following{/other_user}",
            "gists_url": "https://api.github.com/users/jslhcl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jslhcl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jslhcl/subscriptions",
            "organizations_url": "https://api.github.com/users/jslhcl/orgs",
            "repos_url": "https://api.github.com/users/jslhcl/repos",
            "events_url": "https://api.github.com/users/jslhcl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jslhcl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-20T17:32:53Z",
        "updated_at": "2023-02-20T17:32:53Z",
        "author_association": "MEMBER",
        "body": "@seddonm1 Thanks for the testing result. Is the memcpy op still launching on the default stream?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1437354880/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1437357980",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1437357980",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1437357980,
        "node_id": "IC_kwDOCVq1mM5VrFec",
        "user": {
            "login": "jslhcl",
            "id": 1175624,
            "node_id": "MDQ6VXNlcjExNzU2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1175624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jslhcl",
            "html_url": "https://github.com/jslhcl",
            "followers_url": "https://api.github.com/users/jslhcl/followers",
            "following_url": "https://api.github.com/users/jslhcl/following{/other_user}",
            "gists_url": "https://api.github.com/users/jslhcl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jslhcl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jslhcl/subscriptions",
            "organizations_url": "https://api.github.com/users/jslhcl/orgs",
            "repos_url": "https://api.github.com/users/jslhcl/repos",
            "events_url": "https://api.github.com/users/jslhcl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jslhcl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-20T17:36:27Z",
        "updated_at": "2023-02-20T17:36:27Z",
        "author_association": "MEMBER",
        "body": "Are you testing on the small model shared with us or the original model? @seddonm1 ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1437357980/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1437523649",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1437523649",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1437523649,
        "node_id": "IC_kwDOCVq1mM5Vrt7B",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-20T20:43:54Z",
        "updated_at": "2023-02-20T20:43:54Z",
        "author_association": "NONE",
        "body": "@jslhcl \r\nThese benchmarks were running the original model from the start of this thread (i.e. 3 ONNX models in parallel). I think #14719 has solved _part_ of the problem but there is still a clear regression from `1.13.1` (ignoring that 1.14.x should perform better than 1.13.1). I don't think this issue should be closed?\r\n\r\nHere is and updated profile that does show the memcpy HtoD is no longer on the default stream (#14719):\r\n![1 14 x](https://user-images.githubusercontent.com/3468624/220195057-d6940a1f-397a-46d7-bd86-f97c6599a0fa.png)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1437523649/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1437769727",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1437769727",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1437769727,
        "node_id": "IC_kwDOCVq1mM5Vsp__",
        "user": {
            "login": "jslhcl",
            "id": 1175624,
            "node_id": "MDQ6VXNlcjExNzU2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1175624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jslhcl",
            "html_url": "https://github.com/jslhcl",
            "followers_url": "https://api.github.com/users/jslhcl/followers",
            "following_url": "https://api.github.com/users/jslhcl/following{/other_user}",
            "gists_url": "https://api.github.com/users/jslhcl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jslhcl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jslhcl/subscriptions",
            "organizations_url": "https://api.github.com/users/jslhcl/orgs",
            "repos_url": "https://api.github.com/users/jslhcl/repos",
            "events_url": "https://api.github.com/users/jslhcl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jslhcl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-21T02:18:56Z",
        "updated_at": "2023-02-21T02:18:56Z",
        "author_association": "MEMBER",
        "body": "Thanks for the result. I didn't close the issue manually, it is automatically closed by the PR. Let me talk to Cheng tomorrow on this issue. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1437769727/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1439060732",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1439060732",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1439060732,
        "node_id": "IC_kwDOCVq1mM5VxlL8",
        "user": {
            "login": "jslhcl",
            "id": 1175624,
            "node_id": "MDQ6VXNlcjExNzU2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1175624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jslhcl",
            "html_url": "https://github.com/jslhcl",
            "followers_url": "https://api.github.com/users/jslhcl/followers",
            "following_url": "https://api.github.com/users/jslhcl/following{/other_user}",
            "gists_url": "https://api.github.com/users/jslhcl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jslhcl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jslhcl/subscriptions",
            "organizations_url": "https://api.github.com/users/jslhcl/orgs",
            "repos_url": "https://api.github.com/users/jslhcl/repos",
            "events_url": "https://api.github.com/users/jslhcl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jslhcl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-21T20:36:55Z",
        "updated_at": "2023-02-21T20:36:55Z",
        "author_association": "MEMBER",
        "body": "@seddonm1 do you mind sharing the nsys profiling reports on both feature branch and main branch? Thank you very much!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1439060732/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1441200412",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1441200412",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1441200412,
        "node_id": "IC_kwDOCVq1mM5V5vkc",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-23T04:22:21Z",
        "updated_at": "2023-02-23T04:22:21Z",
        "author_association": "NONE",
        "body": "@jslhcl I have sent the profiles for 1.13.1, 1.14.0 and 1.14.x to you via email.\r\n\r\nIf anyone reading is able to provide a reproducible example using public models that would really help.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1441200412/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1495292310",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1495292310",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1495292310,
        "node_id": "IC_kwDOCVq1mM5ZIFmW",
        "user": {
            "login": "jslhcl",
            "id": 1175624,
            "node_id": "MDQ6VXNlcjExNzU2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1175624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jslhcl",
            "html_url": "https://github.com/jslhcl",
            "followers_url": "https://api.github.com/users/jslhcl/followers",
            "following_url": "https://api.github.com/users/jslhcl/following{/other_user}",
            "gists_url": "https://api.github.com/users/jslhcl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jslhcl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jslhcl/subscriptions",
            "organizations_url": "https://api.github.com/users/jslhcl/orgs",
            "repos_url": "https://api.github.com/users/jslhcl/repos",
            "events_url": "https://api.github.com/users/jslhcl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jslhcl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-04T03:25:01Z",
        "updated_at": "2023-04-04T03:25:01Z",
        "author_association": "MEMBER",
        "body": "It should be fixed in the latest main branch code, that the created stream will work concurrently with the default stream without any explicit synchronization",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1495292310/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1495304878",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/14484#issuecomment-1495304878",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/14484",
        "id": 1495304878,
        "node_id": "IC_kwDOCVq1mM5ZIIqu",
        "user": {
            "login": "seddonm1",
            "id": 3468624,
            "node_id": "MDQ6VXNlcjM0Njg2MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3468624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seddonm1",
            "html_url": "https://github.com/seddonm1",
            "followers_url": "https://api.github.com/users/seddonm1/followers",
            "following_url": "https://api.github.com/users/seddonm1/following{/other_user}",
            "gists_url": "https://api.github.com/users/seddonm1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seddonm1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seddonm1/subscriptions",
            "organizations_url": "https://api.github.com/users/seddonm1/orgs",
            "repos_url": "https://api.github.com/users/seddonm1/repos",
            "events_url": "https://api.github.com/users/seddonm1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seddonm1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-04T03:46:37Z",
        "updated_at": "2023-04-04T03:46:37Z",
        "author_association": "NONE",
        "body": "Hi,\r\nI have tested 1.13.1 vs 1.14.1 with this fix applied and can confirm runtime is now exactly the same for my test job. I think this probably justifies a 1.14.2 release as a ~5-10% regression is significant.\r\n\r\nThanks everyone 👍 ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1495304878/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]