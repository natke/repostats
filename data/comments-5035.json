[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686036803",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-686036803",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 686036803,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjAzNjgwMw==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-02T21:32:38Z",
        "updated_at": "2020-09-02T21:32:38Z",
        "author_association": "MEMBER",
        "body": "use protobuf lite",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686036803/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686040685",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-686040685",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 686040685,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjA0MDY4NQ==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-02T21:34:58Z",
        "updated_at": "2020-09-02T21:34:58Z",
        "author_association": "MEMBER",
        "body": "It occurs when all of the below apply:\r\n1. Link to protobuf dynamically \r\n2. Use full libprotobuf instead of the lite one\r\n3. The same protobuf definition was used in multiple DSO(or DLLs). For example, pytorch/onnx/onnxruntime may all have onnx.TensorProto. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686040685/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686057262",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-686057262",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 686057262,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjA1NzI2Mg==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-02T22:15:30Z",
        "updated_at": "2020-09-02T22:15:30Z",
        "author_association": "CONTRIBUTOR",
        "body": "@snnn Thanks, will try.\r\nDo you know what causes the regression in master comparing to 1.4.0?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686057262/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686066200",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-686066200",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 686066200,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjA2NjIwMA==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-02T22:42:22Z",
        "updated_at": "2020-09-02T22:42:22Z",
        "author_association": "MEMBER",
        "body": "@xkszltl sorry I don't know. Could you please help us dig more? It shouldn't cause such difference.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686066200/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686667752",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-686667752",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 686667752,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjY2Nzc1Mg==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-03T18:22:18Z",
        "updated_at": "2020-09-03T18:24:38Z",
        "author_association": "CONTRIBUTOR",
        "body": "This is where I end up with after setting `-Donnxruntime_USE_FULL_PROTOBUF=OFF`:\r\n<img width=\"1020\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5203025/92152527-66a5e380-ee55-11ea-9814-023bd653f6b5.png\">\r\nSeems onnx-tensorrt wants full protobuf.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686667752/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686790216",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-686790216",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 686790216,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4Njc5MDIxNg==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-03T22:11:46Z",
        "updated_at": "2020-09-03T22:11:46Z",
        "author_association": "MEMBER",
        "body": "Yes, tensorrt doesn't support protobuf-lite. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/686790216/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/687456840",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-687456840",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 687456840,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzQ1Njg0MA==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-04T23:11:30Z",
        "updated_at": "2020-09-04T23:15:54Z",
        "author_association": "CONTRIBUTOR",
        "body": "I tried art's unit tests.\r\nNot all failed, part of them reported the onnx-ml protobuf issue while others passed.\r\nAnd I'm also seeing crashes in trt.\r\n\r\n<img width=\"933\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5203025/92290414-908b0300-ef46-11ea-9eea-d002f71fc7cd.png\">\r\n\r\nHere's gdb log:\r\n```\r\nroot@f1f183211dbf:/tmp/scratch/onnxruntime/build# gdb -ex r -ex bt --args ./onnxruntime_test_all --gtest_filter='PoolTest.*'\r\nGNU gdb (Ubuntu 8.1-0ubuntu3.2) 8.1.0.20180409-git\r\nCopyright (C) 2018 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>.\r\nFind the GDB manual and other documentation resources online at:\r\n<http://www.gnu.org/software/gdb/documentation/>.\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\"...\r\nReading symbols from ./onnxruntime_test_all...done.\r\nStarting program: /tmp/scratch/onnxruntime/build/onnxruntime_test_all --gtest_filter=PoolTest.\\*\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n[New Thread 0x7fffd50f5700 (LWP 9849)]\r\n[New Thread 0x7fffd48f4700 (LWP 9850)]\r\n[New Thread 0x7fffd40f3700 (LWP 9851)]\r\n[New Thread 0x7fffd38f2700 (LWP 9852)]\r\n[New Thread 0x7fffd30f1700 (LWP 9853)]\r\n[New Thread 0x7fffd28f0700 (LWP 9854)]\r\n[New Thread 0x7fffd20ef700 (LWP 9855)]\r\n[New Thread 0x7fffd18ee700 (LWP 9856)]\r\n[New Thread 0x7fffd10ed700 (LWP 9857)]\r\n[New Thread 0x7fffd08ec700 (LWP 9858)]\r\n[New Thread 0x7fffd00eb700 (LWP 9859)]\r\n[New Thread 0x7fffcf8ea700 (LWP 9860)]\r\n[New Thread 0x7fffcf0e9700 (LWP 9861)]\r\n[New Thread 0x7fffce8e8700 (LWP 9862)]\r\n[New Thread 0x7fffce0e7700 (LWP 9863)]\r\n[New Thread 0x7fffcd8e6700 (LWP 9864)]\r\n[New Thread 0x7fffcd0e5700 (LWP 9865)]\r\n[New Thread 0x7fffcc8e4700 (LWP 9866)]\r\n[New Thread 0x7fffcc0e3700 (LWP 9867)]\r\n[New Thread 0x7fffcb8e2700 (LWP 9868)]\r\n[New Thread 0x7fffcb0e1700 (LWP 9869)]\r\n[New Thread 0x7fffca8e0700 (LWP 9870)]\r\n[New Thread 0x7fffca0df700 (LWP 9871)]\r\n[New Thread 0x7fffc98de700 (LWP 9872)]\r\n[New Thread 0x7fffc90dd700 (LWP 9873)]\r\n[New Thread 0x7fffc88dc700 (LWP 9874)]\r\n[New Thread 0x7fffc80db700 (LWP 9875)]\r\n[New Thread 0x7fffc78da700 (LWP 9876)]\r\n[New Thread 0x7fffc70d9700 (LWP 9877)]\r\n[New Thread 0x7fffc68d8700 (LWP 9878)]\r\n[New Thread 0x7fffc60d7700 (LWP 9879)]\r\n[New Thread 0x7fffc58d6700 (LWP 9880)]\r\n[New Thread 0x7fffc50d5700 (LWP 9881)]\r\n[New Thread 0x7fffc48d4700 (LWP 9882)]\r\n[New Thread 0x7fffa7fff700 (LWP 9883)]\r\n[New Thread 0x7fffa77fe700 (LWP 9884)]\r\n[New Thread 0x7fffa6ffd700 (LWP 9885)]\r\n[New Thread 0x7fffa67fc700 (LWP 9886)]\r\nNote: Google Test filter = PoolTest.*\r\n[==========] Running 29 tests from 1 test suite.\r\n[----------] Global test environment set-up.\r\n[----------] 29 tests from PoolTest\r\n[ RUN      ] PoolTest.MaxPool\r\n[New Thread 0x7fffa4a47700 (LWP 9887)]\r\n[New Thread 0x7fff9ffff700 (LWP 9888)]\r\n[       OK ] PoolTest.MaxPool (2129 ms)\r\n[ RUN      ] PoolTest.MaxPool_F16\r\n[       OK ] PoolTest.MaxPool_F16 (10 ms)\r\n[ RUN      ] PoolTest.MaxPool_8_With_Index\r\n[       OK ] PoolTest.MaxPool_8_With_Index (19 ms)\r\n[ RUN      ] PoolTest.MaxPool1D\r\n[       OK ] PoolTest.MaxPool1D (7 ms)\r\n[ RUN      ] PoolTest.MaxPool1D_8_With_Index\r\n[       OK ] PoolTest.MaxPool1D_8_With_Index (12 ms)\r\n[ RUN      ] PoolTest.MaxPool1D_12_With_Index_8bits\r\n[       OK ] PoolTest.MaxPool1D_12_With_Index_8bits (25 ms)\r\n[ RUN      ] PoolTest.MaxPool2D_uint8\r\n[libprotobuf ERROR ../src/google/protobuf/descriptor_database.cc:644] File already exists in database: onnx/onnx-ml.proto\r\n[libprotobuf FATAL ../src/google/protobuf/descriptor.cc:1371] CHECK failed: GeneratedDatabase()->Add(encoded_file_descriptor, size): \r\nCHECK failed: GeneratedDatabase()->Add(encoded_file_descriptor, size): \r\nProvider:TensorrtExecutionProvider\r\nunknown file: Failure\r\nC++ exception with description \"CHECK failed: GeneratedDatabase()->Add(encoded_file_descriptor, size): \" thrown in the test body.\r\n[  FAILED  ] PoolTest.MaxPool2D_uint8 (154 ms)\r\n[ RUN      ] PoolTest.MaxPool_10_Dilation_1d\r\n[       OK ] PoolTest.MaxPool_10_Dilation_1d (13 ms)\r\n[ RUN      ] PoolTest.MaxPool_DefaultDilations\r\n[       OK ] PoolTest.MaxPool_DefaultDilations (7 ms)\r\n[ RUN      ] PoolTest.MaxPool_DefaultDilations_int8\r\n[       OK ] PoolTest.MaxPool_DefaultDilations_int8 (7 ms)\r\n[ RUN      ] PoolTest.MaxPool_DefaultDilations_uint8\r\n[       OK ] PoolTest.MaxPool_DefaultDilations_uint8 (7 ms)\r\n[ RUN      ] PoolTest.MaxPool_10_DilationPadding_1d\r\n[       OK ] PoolTest.MaxPool_10_DilationPadding_1d (0 ms)\r\n[ RUN      ] PoolTest.MaxPool_10_Dilation_2d\r\n[       OK ] PoolTest.MaxPool_10_Dilation_2d (7 ms)\r\n[ RUN      ] PoolTest.MaxPool_10_Dilation_2d_int8\r\n[       OK ] PoolTest.MaxPool_10_Dilation_2d_int8 (8 ms)\r\n[ RUN      ] PoolTest.MaxPool_10_DilationPadding_2d\r\n[       OK ] PoolTest.MaxPool_10_DilationPadding_2d (0 ms)\r\n[ RUN      ] PoolTest.MaxPool_10_Dilation_Ceil0_2d\r\n[       OK ] PoolTest.MaxPool_10_Dilation_Ceil0_2d (6 ms)\r\n[ RUN      ] PoolTest.MaxPool_12_Dilation_Ceil0_2d_int8\r\n[       OK ] PoolTest.MaxPool_12_Dilation_Ceil0_2d_int8 (6 ms)\r\n[ RUN      ] PoolTest.MaxPool_10_Dilation_Ceil1_2d\r\n[       OK ] PoolTest.MaxPool_10_Dilation_Ceil1_2d (7 ms)\r\n[ RUN      ] PoolTest.MaxPool_10_DilationPadding_3d\r\n[       OK ] PoolTest.MaxPool_10_DilationPadding_3d (0 ms)\r\n[ RUN      ] PoolTest.GlobalMaxPool\r\n\r\nThread 1 \"onnxruntime_tes\" received signal SIGSEGV, Segmentation fault.\r\n0x00007fff9d9cb77a in operator new(unsigned long) () from libonnxruntime_providers_tensorrt.so\r\n#0  0x00007fff9d9cb77a in operator new(unsigned long) () from libonnxruntime_providers_tensorrt.so\r\n#1  0x00007fff9d9ba1e5 in onnxruntime::Tensorrt_Provider::CreateExecutionProviderFactory(int) () from libonnxruntime_providers_tensorrt.so\r\n#2  0x0000555555ff0324 in onnxruntime::test::DefaultTensorrtExecutionProvider() () at ../onnxruntime/core/framework/provider_bridge_ort.cc:683\r\n#3  0x000055555620305f in onnxruntime::test::OpTester::Run(onnxruntime::SessionOptions, onnxruntime::test::OpTester::ExpectResult, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::unordered_set<std::__cxx11::ba\r\nsic_string<char, std::char_traits<char>, std::allocator<char> >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >,\r\n std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, OrtRunOptions const*, std::vector<std::unique_ptr<onnxruntime::IExecutionProvider, std::default_delete<onnxruntime::IExecutionProvider> >, std::al\r\nlocator<std::unique_ptr<onnxruntime::IExecutionProvider, std::default_delete<onnxruntime::IExecutionProvider> > > >*, std::function<void (std::vector<OrtValue, std::allocator<OrtValue> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, st\r\nd::allocator<char> > const&)> const&, onnxruntime::Graph::ResolveOptions const&) () at ../onnxruntime/test/providers/provider_test_utils.cc:814\r\n#4  0x00005555559a2182 in onnxruntime::test::OpTester::Run(onnxruntime::test::OpTester::ExpectResult, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::unordered_set<std::__cxx11::basic_string<char, std::char_tr\r\naits<char>, std::allocator<char> >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11:\r\n:basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, OrtRunOptions const*, std::vector<std::unique_ptr<onnxruntime::IExecutionProvider, std::default_delete<onnxruntime::IExecutionProvider> >, std::allocator<std::unique_ptr<onnxr\r\nuntime::IExecutionProvider, std::default_delete<onnxruntime::IExecutionProvider> > > >*, ExecutionMode, std::function<void (std::vector<OrtValue, std::allocator<OrtValue> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<c\r\nhar> > const&)> const&, onnxruntime::Graph::ResolveOptions const&) [clone .constprop.2631] () at ../onnxruntime/test/providers/provider_test_utils.cc:659\r\n#5  0x000055555610695c in onnxruntime::test::PoolTest_GlobalMaxPool_Test::TestBody() () at /usr/include/c++/8/bits/basic_string.h:252\r\n#6  0x00007fffe0d4752a in testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void> (location=0x7fffe0d48992 \"the test body\", method=<optimized out>, object=0x55557ea68a70) at ../googletest/src/gtest.cc:2414\r\n#7  testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void> (object=object@entry=0x55557ea68a70, method=<optimized out>, location=location@entry=0x7fffe0d48992 \"the test body\") at ../googletest/src/gtest.cc:2469\r\n#8  0x00007fffe0d3d3a3 in testing::Test::Run (this=0x55557ea68a70) at ../googletest/src/gtest.cc:2508\r\n#9  testing::Test::Run (this=0x55557ea68a70) at ../googletest/src/gtest.cc:2498\r\n#10 0x00007fffe0d3d505 in testing::TestInfo::Run (this=0x55555d95fb50) at ../googletest/src/gtest.cc:2684\r\n#11 testing::TestInfo::Run (this=0x55555d95fb50) at ../googletest/src/gtest.cc:2657\r\n#12 0x00007fffe0d3d5e5 in testing::TestSuite::Run (this=0x55555d95e4f0) at ../googletest/src/gtest.cc:2816\r\n#13 testing::TestSuite::Run (this=0x55555d95e4f0) at ../googletest/src/gtest.cc:2795\r\n#14 0x00007fffe0d3db03 in testing::internal::UnitTestImpl::RunAllTests() () at /usr/include/c++/8/bits/stl_vector.h:930\r\n#15 0x00007fffe0d3dd21 in testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (location=0x7fffe0d4abe0 \"auxiliary test code (environments or event listeners)\", method=<optimized out>, object=0x55555d875d30)\r\n    at ../googletest/src/gtest.cc:2414\r\n#16 testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (location=0x7fffe0d4abe0 \"auxiliary test code (environments or event listeners)\", \r\n    method=(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x7fffe0d3d680 <testing::internal::UnitTestImpl::RunAllTests()>, object=0x55555d875d30) at ../googletest/src/gtest.cc:2469\r\n#17 testing::UnitTest::Run() () at ../googletest/src/gtest.cc:4925\r\n#18 0x0000555555912a7f in RUN_ALL_TESTS () at /usr/local/include/gtest/gtest.h:2473\r\n#19 main (argc=<optimized out>, argv=<optimized out>) at ../onnxruntime/test/providers/test_main.cc:52\r\n(gdb) quit\r\nA debugging session is active.\r\n\r\n        Inferior 1 [process 9845] will be killed.\r\n\r\nQuit anyway? (y or n) y\r\n```\r\n\r\nIf I ran the crashed one by its own, it also prints onnx-ml error:\r\n<img width=\"932\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5203025/92290475-cd56fa00-ef46-11ea-82a2-9c90c7623e7b.png\">\r\n\r\nOther passed ones are OK even when ran by them own:\r\n<img width=\"762\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5203025/92290510-ecee2280-ef46-11ea-82cd-46242a2d7e62.png\">\r\n\r\nI think maybe this is a conflict between ort and trt, or between trt ep and other ep?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/687456840/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/687468783",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-687468783",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 687468783,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzQ2ODc4Mw==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-04T23:34:19Z",
        "updated_at": "2020-09-04T23:34:19Z",
        "author_association": "MEMBER",
        "body": "I think it is related to the TRT refactoring.  As you can see now there is a separated shared lib: libonnxruntime_providers_tensorrt.so. \r\nIn 1.4.0, TRT is part of libonnxruntime.so, so at least everything inside onnxruntime is consistent.\r\n\r\nI guess you were using protobuf from a shared lib?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/687468783/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/687478238",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-687478238",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 687478238,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzQ3ODIzOA==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-04T23:53:42Z",
        "updated_at": "2020-09-04T23:55:07Z",
        "author_association": "CONTRIBUTOR",
        "body": "Yes.\r\nWe have protobuf as shared lib used:\r\n1. directly by our code\r\n2. linked by ort\r\n3. through other libs like pytorch, grpc, ...",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/687478238/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695214110",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-695214110",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 695214110,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTIxNDExMA==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-19T13:33:28Z",
        "updated_at": "2020-09-19T13:33:28Z",
        "author_association": "CONTRIBUTOR",
        "body": "Any progress on this?\r\nSeems the issue is still there.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695214110/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695747475",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-695747475",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 695747475,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTc0NzQ3NQ==",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-20T05:27:03Z",
        "updated_at": "2020-09-20T05:27:03Z",
        "author_association": "MEMBER",
        "body": "@xkszltl I believe you're using the onnxruntime_PREFER_SYSTEM_LIB cmake option to build ORT. This option is experimental in that we don't support it fully. Moreover, if onnxruntime_PREFER_SYSTEM_LIB and onnxruntime_USE_FULL_PROTOBUF are ON, then protobuf_USE_STATIC_LIBS must be turned ON too. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695747475/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695753302",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-695753302",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 695753302,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTc1MzMwMg==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-20T06:58:39Z",
        "updated_at": "2020-09-20T12:40:36Z",
        "author_association": "CONTRIBUTOR",
        "body": "What's the reason of enforcing `Protobuf_USE_STATIC_LIBS=ON` with system protobuf?\r\nI thought it's to avoid extra deps when delivery (but we ship our protobuf as well) so I bypassed that check.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695753302/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695783135",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-695783135",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 695783135,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTc4MzEzNQ==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-20T12:44:29Z",
        "updated_at": "2020-09-20T12:44:29Z",
        "author_association": "CONTRIBUTOR",
        "body": "That doesn't work.\r\n\r\nThis error is due to libprotobuf.a (which is not compiled with -fPIC by default) used in shared lib.\r\n```\r\nFAILED: external/onnx-tensorrt/libnvonnxparser.so.7.1.0 \r\n: && /usr/bin/g++-8 -fPIC -fdebug-prefix-map='/tmp/scratch'='/usr/local/src' -g -march=haswell -mtune=generic -Wall -Wextra -ffunction-sections -fdata-sections -Wno-parentheses -Wno-unused-parameter -Wno-missing-field-initializers -Wall -Wno-deprecated-d\r\neclarations -Wno-unused-function -O3 -DNDEBUG -DGSL_UNENFORCED_ON_CONTRACT_VIOLATION -flto -fno-fat-lto-objects  -Xlinker --allow-shlib-undefined  -Wl,--version-script=/tmp/scratch/onnxruntime/cmake/external/onnx-tensorrt/libnvonnxparser.version -shared \r\n-Wl,-soname,libnvonnxparser.so.7 -o external/onnx-tensorrt/libnvonnxparser.so.7.1.0 external/onnx-tensorrt/CMakeFiles/nvonnxparser.dir/NvOnnxParser.cpp.o external/onnx-tensorrt/CMakeFiles/nvonnxparser.dir/ModelImporter.cpp.o external/onnx-tensorrt/CMakeF\r\niles/nvonnxparser.dir/builtin_op_importers.cpp.o external/onnx-tensorrt/CMakeFiles/nvonnxparser.dir/onnx2trt_utils.cpp.o external/onnx-tensorrt/CMakeFiles/nvonnxparser.dir/ShapedWeights.cpp.o external/onnx-tensorrt/CMakeFiles/nvonnxparser.dir/ShapeTensor\r\n.cpp.o external/onnx-tensorrt/CMakeFiles/nvonnxparser.dir/LoopHelpers.cpp.o external/onnx-tensorrt/CMakeFiles/nvonnxparser.dir/RNNHelpers.cpp.o external/onnx-tensorrt/CMakeFiles/nvonnxparser.dir/OnnxAttrs.cpp.o -L/tmp/scratch/onnxruntime/build/dnnl/insta\r\nll/lib -Wl,-rpath,/tmp/scratch/onnxruntime/build/dnnl/install/lib:  external/onnx/libonnx_proto.a  /usr/lib/x86_64-linux-gnu/libprotobuf.a  /usr/lib/x86_64-linux-gnu/libnvinfer.so  /usr/lib/x86_64-linux-gnu/libnvinfer_plugin.so  /usr/lib/x86_64-linux-gnu\r\n/libmyelin.so  /usr/lib/x86_64-linux-gnu/libprotobuf.a  -lpthread && :\r\n/usr/bin/ld: /usr/lib/x86_64-linux-gnu/libprotobuf.a(arena.o): relocation R_X86_64_TPOFF32 against symbol `_ZN6google8protobuf5Arena13thread_cache_E' can not be used when making a shared object; recompile with -fPIC\r\n/usr/bin/ld: final link failed: Nonrepresentable section on output\r\ncollect2: error: ld returned 1 exit status\r\n```\r\n\r\nThis one I'm not sure:\r\n```\r\nFAILED: external/onnx-tensorrt/getSupportedAPITest \r\n: && /usr/bin/g++-8 -fdebug-prefix-map='/tmp/scratch'='/usr/local/src' -g -march=haswell -mtune=generic -Wall -Wextra -ffunction-sections -fdata-sections -Wno-parentheses -Wno-unused-parameter -Wno-missing-field-initializers -Wall -Wno-deprecated-declara\r\ntions -Wno-unused-function -O3 -DNDEBUG -DGSL_UNENFORCED_ON_CONTRACT_VIOLATION -flto -fno-fat-lto-objects -Xlinker --allow-shlib-undefined external/onnx-tensorrt/CMakeFiles/getSupportedAPITest.dir/getSupportedAPITest.cpp.o external/onnx-tensorrt/CMakeFil\r\nes/getSupportedAPITest.dir/ModelImporter.cpp.o -o external/onnx-tensorrt/getSupportedAPITest -L/tmp/scratch/onnxruntime/build/dnnl/install/lib -Wl,-rpath,/tmp/scratch/onnxruntime/build/dnnl/install/lib  /usr/lib/x86_64-linux-gnu/libprotobuf.a  external/o\r\nnnx-tensorrt/libnvonnxparser_static.a  -lpthread  -ldl  external/onnx/libonnx_proto.a  /usr/lib/x86_64-linux-gnu/libprotobuf.a  -lpthread  /usr/lib/x86_64-linux-gnu/libprotobuf.a  /usr/lib/x86_64-linux-gnu/libnvinfer.so  /usr/lib/x86_64-linux-gnu/libnvin\r\nfer_plugin.so  /usr/lib/x86_64-linux-gnu/libmyelin.so && :\r\n../cmake/external/onnx-tensorrt/ModelImporter.cpp: In function 'importInputs.constprop':\r\n../cmake/external/onnx-tensorrt/ModelImporter.cpp:250:20: warning: 'tensor_ptr' may be used uninitialized in this function [-Wmaybe-uninitialized]\r\n             tensor = tensor_ptr;\r\n                    ^\r\n../cmake/external/onnx-tensorrt/ModelImporter.cpp:248:32: note: 'tensor_ptr' was declared here\r\n             nvinfer1::ITensor* tensor_ptr;\r\n                                ^\r\n/tmp/ccztaPj9.ltrans0.ltrans.o: In function `global constructors keyed to 65535_0_getSupportedAPITest.cpp.o.56367':\r\n<artificial>:(.text.startup._GLOBAL__I_65535_0_getSupportedAPITest.cpp.o.56367+0x32): undefined reference to `google::protobuf::internal::AddDescriptors(google::protobuf::internal::DescriptorTable const*)'\r\n/usr/bin/ld: Dwarf Error: Invalid abstract instance DIE ref.\r\n/tmp/ccztaPj9.ltrans0.ltrans.o: In function `google::protobuf::internal::ArenaStringPtr::DestroyNoArena(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const*) [clone .isra.234] [clone .constprop.128]':\r\n<artificial>:(.text._ZN6google8protobuf8internal14ArenaStringPtr14DestroyNoArenaEPKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE.isra.234.constprop.128+0x3): undefined reference to `google::protobuf::internal::fixed_address_empty_string[abi:cxx11]\r\n'\r\n/tmp/ccztaPj9.ltrans0.ltrans.o: In function `google::protobuf::internal::ArenaStringPtr::Set(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<c\r\nhar> > const&, google::protobuf::Arena*) [clone .constprop.125]':\r\n<artificial>:(.text._ZN6google8protobuf8internal14ArenaStringPtr3SetEPKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERS9_PNS0_5ArenaE.constprop.125+0x9): undefined reference to `google::protobuf::internal::fixed_address_empty_string[abi:cxx11]'\r\n/tmp/ccztaPj9.ltrans0.ltrans.o: In function `onnx2trt::deserialize_onnx_model(void const*, unsigned long, bool, onnx::ModelProto*) [clone .constprop.70]':\r\n<artificial>:(.text._ZN8onnx2trt22deserialize_onnx_modelEPKvmbPN4onnx10ModelProtoE.constprop.70+0x9a): undefined reference to `google::protobuf::io::CodedInputStream::SetTotalBytesLimit(int)'\r\n/tmp/ccztaPj9.ltrans0.ltrans.o: In function `onnx2trt::importInputs(onnx2trt::ImporterContext*, onnx::GraphProto const&, std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, onnx2trt::TensorOrWeights, std::h\r\nash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_tr\r\naits<char>, std::allocator<char> > const, onnx2trt::TensorOrWeights> > >*, unsigned int, onnxTensorDescriptorV1 const*) [clone .constprop.74]':\r\n<artificial>:(.text._ZN8onnx2trt12importInputsEPNS_15ImporterContextERKN4onnx10GraphProtoEPSt13unordered_mapINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_15TensorOrWeightsESt4hashISC_ESt8equal_toISC_ESaISt4pairIKSC_SD_EEEjPK22onnxTensorDescript\r\norV1.constprop.74+0xf5e): undefined reference to `google::protobuf::internal::fixed_address_empty_string[abi:cxx11]'\r\n/usr/bin/ld: Dwarf Error: Invalid abstract instance DIE ref.\r\n/tmp/ccztaPj9.ltrans1.ltrans.o: In function `onnx::OperatorSetIdProto::GetMetadata() const':\r\n<artificial>:(.text._ZNK4onnx18OperatorSetIdProto11GetMetadataEv+0xe): undefined reference to `google::protobuf::internal::AssignDescriptors(google::protobuf::internal::DescriptorTable const*, bool)'\r\n/tmp/ccztaPj9.ltrans1.ltrans.o: In function `void google::protobuf::internal::RepeatedPtrFieldBase::Destroy<google::protobuf::RepeatedPtrField<onnx::OperatorSetIdProto>::TypeHandler>() [clone .isra.269] [clone .lto_priv.318]':\r\n<artificial>:(.text.unlikely._ZN6google8protobuf8internal20RepeatedPtrFieldBase7DestroyINS0_16RepeatedPtrFieldIN4onnx18OperatorSetIdProtoEE11TypeHandlerEEEvv.isra.269.lto_priv.318+0x5a): undefined reference to `google::protobuf::internal::fixed_address_e\r\nmpty_string[abi:cxx11]'\r\n/tmp/ccztaPj9.ltrans1.ltrans.o: In function `void google::protobuf::internal::RepeatedPtrFieldBase::Destroy<google::protobuf::RepeatedPtrField<onnx::ValueInfoProto>::TypeHandler>() [clone .isra.256] [clone .lto_priv.320]':\r\n<artificial>:(.text._ZN6google8protobuf8internal20RepeatedPtrFieldBase7DestroyINS0_16RepeatedPtrFieldIN4onnx14ValueInfoProtoEE11TypeHandlerEEEvv.isra.256.lto_priv.320+0x60): undefined reference to `google::protobuf::internal::fixed_address_empty_string[a\r\nbi:cxx11]'\r\n/tmp/ccztaPj9.ltrans1.ltrans.o: In function `void google::protobuf::internal::RepeatedPtrFieldBase::Destroy<google::protobuf::RepeatedPtrField<onnx::TensorShapeProto_Dimension>::TypeHandler>() [clone .isra.254] [clone .lto_priv.313]':\r\n<artificial>:(.text.unlikely._ZN6google8protobuf8internal20RepeatedPtrFieldBase7DestroyINS0_16RepeatedPtrFieldIN4onnx26TensorShapeProto_DimensionEE11TypeHandlerEEEvv.isra.254.lto_priv.313+0x2f): undefined reference to `google::protobuf::internal::fixed_a\r\nddress_empty_string[abi:cxx11]'\r\n/tmp/ccztaPj9.ltrans1.ltrans.o: In function `void google::protobuf::internal::RepeatedPtrFieldBase::Destroy<google::protobuf::RepeatedPtrField<onnx::SparseTensorProto>::TypeHandler>() [clone .isra.253] [clone .lto_priv.321]':\r\n<artificial>:(.text._ZN6google8protobuf8internal20RepeatedPtrFieldBase7DestroyINS0_16RepeatedPtrFieldIN4onnx17SparseTensorProtoEE11TypeHandlerEEEvv.isra.253.lto_priv.321+0xe8): undefined reference to `google::protobuf::RepeatedField<long>::~RepeatedField\r\n()'\r\n/tmp/ccztaPj9.ltrans1.ltrans.o: In function `void google::protobuf::internal::RepeatedPtrFieldBase::Destroy<google::protobuf::RepeatedPtrField<onnx::StringStringEntryProto>::TypeHandler>() [clone .isra.247] [clone .lto_priv.319]':\r\n<artificial>:(.text._ZN6google8protobuf8internal20RepeatedPtrFieldBase7DestroyINS0_16RepeatedPtrFieldIN4onnx22StringStringEntryProtoEE11TypeHandlerEEEvv.isra.247.lto_priv.319+0x60): undefined reference to `google::protobuf::internal::fixed_address_empty_\r\nstring[abi:cxx11]'\r\n/tmp/ccztaPj9.ltrans1.ltrans.o: In function `void google::protobuf::internal::RepeatedPtrFieldBase::Destroy<google::protobuf::RepeatedPtrField<onnx::TensorAnnotation>::TypeHandler>() [clone .isra.251] [clone .lto_priv.317]':\r\n<artificial>:(.text.unlikely._ZN6google8protobuf8internal20RepeatedPtrFieldBase7DestroyINS0_16RepeatedPtrFieldIN4onnx16TensorAnnotationEE11TypeHandlerEEEvv.isra.251.lto_priv.317+0x5e): undefined reference to `google::protobuf::internal::fixed_address_emp\r\nty_string[abi:cxx11]'\r\n\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695783135/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695784821",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-695784821",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 695784821,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTc4NDgyMQ==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-20T13:02:17Z",
        "updated_at": "2020-09-20T13:20:29Z",
        "author_association": "CONTRIBUTOR",
        "body": "I think maybe the issue is not related to how protobuf is linked.\r\nIf onnx-ml.pb.cc is linked in multiple lib, probably it can trigger the error as well.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695784821/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695791960",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-695791960",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 695791960,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTc5MTk2MA==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-20T14:13:32Z",
        "updated_at": "2020-09-20T14:17:17Z",
        "author_association": "CONTRIBUTOR",
        "body": "Here's the proto loading symbols:\r\n```\r\nroot@9408698e9960:/tmp/scratch/onnxruntime/build# for i in $(find . -name '*.so' -type f); do echo \"$i\"; readelf -a \"$i\" | grep descriptor_table_onnx_2fonnx_2dml_2eproto; done\r\n./libcustom_op_library.so\r\n./onnxruntime/capi/libonnxruntime_providers_shared.so\r\n./onnxruntime/capi/libonnxruntime_providers_tensorrt.so\r\n   117: 00000000000b5c50     8 OBJECT  LOCAL  DEFAULT    15 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_deps\r\n   118: 00000000002d8580   128 OBJECT  LOCAL  DEFAULT    21 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_sccs\r\n   119: 00000000002db280     4 OBJECT  LOCAL  DEFAULT    26 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_once\r\n  4881: 00000000002da8a0   120 OBJECT  LOCAL  DEFAULT    25 descriptor_table_onnx_2fonnx_2dml_2eproto\r\n./onnxruntime/capi/onnxruntime_pybind11_state.so\r\n   835: 0000000000a5c510     8 OBJECT  LOCAL  DEFAULT    15 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_deps\r\n   836: 00000000080663a0   128 OBJECT  LOCAL  DEFAULT    24 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_sccs\r\n   837: 000000000808b8a0     4 OBJECT  LOCAL  DEFAULT    30 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_once\r\n113800: 000000000808a680   120 OBJECT  LOCAL  DEFAULT    28 descriptor_table_onnx_2fonnx_2dml_2eproto\r\n./onnxruntime/capi/libonnxruntime_providers_dnnl.so\r\n./libonnxruntime_providers_shared.so\r\n./libonnxruntime_providers_tensorrt.so\r\n   117: 00000000000b5c50     8 OBJECT  LOCAL  DEFAULT    15 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_deps\r\n   118: 00000000002d8580   128 OBJECT  LOCAL  DEFAULT    21 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_sccs\r\n   119: 00000000002db280     4 OBJECT  LOCAL  DEFAULT    26 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_once\r\n  4881: 00000000002da8a0   120 OBJECT  LOCAL  DEFAULT    25 descriptor_table_onnx_2fonnx_2dml_2eproto\r\n./onnxruntime_pybind11_state.so\r\n   835: 0000000000a5c510     8 OBJECT  LOCAL  DEFAULT    15 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_deps\r\n   836: 00000000080663a0   128 OBJECT  LOCAL  DEFAULT    24 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_sccs\r\n   837: 000000000808b8a0     4 OBJECT  LOCAL  DEFAULT    30 _ZL46descriptor_table_onnx_2fonnx_2dml_2eproto_once\r\n113800: 000000000808a680   120 OBJECT  LOCAL  DEFAULT    28 descriptor_table_onnx_2fonnx_2dml_2eproto\r\n./libonnxruntime_providers_dnnl.so\r\n```\r\n\r\nAs you can see they can only be found in:\r\n- `libonnxruntime.so`\r\n- `libonnxruntime_providers_tensorrt.so`.\r\n- `onnxruntime_pybind11_state.so`\r\n\r\n`libonnxruntime_providers_tensorrt.so` triggered the issue when it's loaded.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695791960/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696129368",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-696129368",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 696129368,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjEyOTM2OA==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-21T13:53:27Z",
        "updated_at": "2020-09-21T13:53:27Z",
        "author_association": "CONTRIBUTOR",
        "body": "If onnx-ml are compiled into to `.so` and loaded to the same address space, this issue is expected to happen.\r\n\r\nI don't know how the default build script works.\r\nMaybe a special combination happen to shadow the issue.\r\n\r\nIf proto file need to be used in multiple `.so` linked together, it should be compiled into a separated `.so` to avoid re-registration.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696129368/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696194464",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-696194464",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 696194464,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjE5NDQ2NA==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-21T15:32:53Z",
        "updated_at": "2020-09-21T15:32:53Z",
        "author_association": "CONTRIBUTOR",
        "body": "I've sent a PR for to build onnx-ml as `.so`.\r\nhttps://github.com/microsoft/onnxruntime/pull/5236",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696194464/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696196090",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-696196090",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 696196090,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjE5NjA5MA==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-21T15:35:41Z",
        "updated_at": "2020-09-21T15:35:41Z",
        "author_association": "CONTRIBUTOR",
        "body": "However it's failed in another place after the fix:\r\n<img width=\"511\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5203025/93787374-fd024380-fc62-11ea-817c-061a215121d2.png\">\r\n\r\nHere's gdb stacktrace.\r\n```\r\nroot@9408698e9960:/tmp/scratch/onnxruntime/build# gdb -ex r -ex bt --args ./onnxruntime_test_all --gtest_filter=WhereOpTest.BasicNumeric                                                                                                                      \r\nGNU gdb (Ubuntu 8.1-0ubuntu3.2) 8.1.0.20180409-git\r\nCopyright (C) 2018 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>.\r\nFind the GDB manual and other documentation resources online at:\r\n<http://www.gnu.org/software/gdb/documentation/>.\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\"...\r\nReading symbols from ./onnxruntime_test_all...done.\r\nStarting program: /tmp/scratch/onnxruntime/build/onnxruntime_test_all --gtest_filter=WhereOpTest.BasicNumeric\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n[New Thread 0x7fffd964c700 (LWP 17583)]\r\n[New Thread 0x7fffd8e4b700 (LWP 17584)]\r\n[New Thread 0x7fffd864a700 (LWP 17585)]\r\n[New Thread 0x7fffd7e49700 (LWP 17586)]\r\n[New Thread 0x7fffd7648700 (LWP 17587)]\r\n[New Thread 0x7fffd6e47700 (LWP 17588)]\r\n[New Thread 0x7fffd6646700 (LWP 17589)]\r\n[New Thread 0x7fffd5e45700 (LWP 17590)]\r\n[New Thread 0x7fffd5644700 (LWP 17591)]\r\n[New Thread 0x7fffd4e43700 (LWP 17592)]\r\n[New Thread 0x7fffd4642700 (LWP 17593)]\r\n[New Thread 0x7fffd3e41700 (LWP 17594)]\r\n[New Thread 0x7fffd3640700 (LWP 17595)]\r\n[New Thread 0x7fffd2e3f700 (LWP 17596)]\r\n[New Thread 0x7fffd263e700 (LWP 17597)]\r\n[New Thread 0x7fffd1e3d700 (LWP 17598)]\r\n[New Thread 0x7fffd163c700 (LWP 17599)]\r\n[New Thread 0x7fffd0e3b700 (LWP 17600)]\r\n[New Thread 0x7fffd063a700 (LWP 17601)]\r\n[New Thread 0x7fffcfe39700 (LWP 17602)]\r\n[New Thread 0x7fffcf638700 (LWP 17603)]\r\n[New Thread 0x7fffcee37700 (LWP 17604)]\r\n[New Thread 0x7fffce636700 (LWP 17605)]\r\n[New Thread 0x7fffcde35700 (LWP 17606)]\r\n[New Thread 0x7fffcd634700 (LWP 17607)]\r\n[New Thread 0x7fffcce33700 (LWP 17608)]\r\n[New Thread 0x7fffcc632700 (LWP 17609)]\r\n[New Thread 0x7fffcbe31700 (LWP 17610)]\r\n[New Thread 0x7fffcb630700 (LWP 17611)]\r\n[New Thread 0x7fffcae2f700 (LWP 17612)]\r\n[New Thread 0x7fffca62e700 (LWP 17613)]\r\n[New Thread 0x7fffc9e2d700 (LWP 17614)]\r\n[New Thread 0x7fffc962c700 (LWP 17615)]\r\n[New Thread 0x7fffc8e2b700 (LWP 17616)]\r\n[New Thread 0x7fff93fff700 (LWP 17617)]\r\n[New Thread 0x7fff937fe700 (LWP 17618)]\r\n[New Thread 0x7fff92ffd700 (LWP 17619)]\r\n[New Thread 0x7fff927fc700 (LWP 17620)]\r\nNote: Google Test filter = WhereOpTest.BasicNumeric\r\n[==========] Running 1 test from 1 test suite.\r\n[----------] Global test environment set-up.\r\n[----------] 1 test from WhereOpTest\r\n[ RUN      ] WhereOpTest.BasicNumeric\r\n[New Thread 0x7fff90b48700 (LWP 17621)]\r\n[New Thread 0x7fff8bfff700 (LWP 17622)]\r\n\r\nThread 1 \"onnxruntime_tes\" received signal SIGSEGV, Segmentation fault.\r\n0x00007fff8a25deba in operator new (n=80) at ../onnxruntime/core/providers/shared_library/provider_bridge_provider.cc:48\r\n48      void* operator new(size_t n) { return onnxruntime::g_host->HeapAllocate(n); }\r\n#0  0x00007fff8a25deba in operator new (n=80) at ../onnxruntime/core/providers/shared_library/provider_bridge_provider.cc:48\r\n#1  0x00007fff8a1e5469 in __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std\r\n::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> >, true> >::allocate(unsigned long, void const*) (\r\n    this=<optimized out>, __n=<optimized out>, this=<optimized out>, __n=<optimized out>) at /usr/include/c++/8/ext/new_allocator.h:99\r\n#2  std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocato\r\nr<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> >, true> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<std::__\r\ncxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const\r\n&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> >, true> >&, unsigned long) (__a=..., __n=<optimized out>, __a=..., __n=<optimized out>) at /usr/include/c++/8/bits/alloc_traits.h:436\r\n#3  std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std\r\n::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> >, true> > >::_M_allocate_node<std::pair<std::__cxx11::basic_string<cha\r\nr, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt\r\n::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> > >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::alloc\r\nator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> >&&) (this=<optimized out>)\r\n    at /usr/include/c++/8/bits/hashtable_policy.h:2088\r\n#4  std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2t\r\nrt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> >, std::allocator<std::pair<std::__cxx11::basic\r\n_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vect\r\nor<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::\r\nchar_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_emplace<std::pair<std::__cxx11::basic_stri\r\nng<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<on\r\nnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> > >(std::integral_constant<bool, true>, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::ve\r\nctor<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> >&&) (this=<optimized out>)\r\n    at /usr/include/c++/8/bits/hashtable.h:1655\r\n#5  std::__detail::_Insert<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector\r\n<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> >, std::allocator<std::pair<std::__cxx11\r\n::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, st\r\nd::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char\r\n, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, false>::insert<std::pair<std::__cxx11::b\r\nasic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::\r\nvector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> >, void>(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorO\r\nrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> >&&) (__v=..., this=<optimized out>)\r\n    at /usr/include/c++/8/bits/hashtable_policy.h:1015\r\n#6  std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext\r\n*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)>, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, \r\nstd::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocator<\r\nonnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> > > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, st\r\nd::allocator<char> > const, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::alloc\r\nator<onnx2trt::TensorOrWeights> >&)> >&&) (__x=..., this=<optimized out>) at /usr/include/c++/8/bits/unordered_map.h:586\r\n#7  onnx2trt::(anonymous namespace)::registerBuiltinOpImporter(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<onnx2trt::ValueOrStatus<std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOr\r\nWeights> > > (onnx2trt::IImporterContext*, onnx::NodeProto const&, std::vector<onnx2trt::TensorOrWeights, std::allocator<onnx2trt::TensorOrWeights> >&)> const&) [clone .lto_priv.415] () at ../cmake/external/onnx-tensorrt/builtin_op_importers.cpp:110\r\n#8  0x00007fff8a1e1c2b in __static_initialization_and_destruction_0(int, int) [clone .constprop.17] () at ../cmake/external/onnx-tensorrt/builtin_op_importers.cpp:115\r\n#9  0x00007fff8a1e187e in global constructors keyed to 65535_0_provider_bridge_provider.cc.o.75620 () at /usr/include/c++/8/ext/new_allocator.h:86\r\n#10 0x00007ffff7de5783 in call_init (env=0x7fffffffe5c0, argv=0x7fffffffe5a8, argc=2, l=<optimized out>) at dl-init.c:72\r\n#11 _dl_init (main_map=main_map@entry=0x55556241e370, argc=2, argv=0x7fffffffe5a8, env=0x7fffffffe5c0) at dl-init.c:119\r\n#12 0x00007ffff7dea24f in dl_open_worker (a=a@entry=0x7fffffffcb00) at dl-open.c:522\r\n#13 0x00007ffff0d0a51f in __GI__dl_catch_exception (exception=0x7fffffffcae0, operate=0x7ffff7de9e10 <dl_open_worker>, args=0x7fffffffcb00) at dl-error-skeleton.c:196\r\n#14 0x00007ffff7de981a in _dl_open (file=0x55557ece1fe0 \"libonnxruntime_providers_tensorrt.so\", mode=-2147483646, caller_dlopen=\r\n    0x555555980318 <onnxruntime::(anonymous namespace)::PosixEnv::LoadDynamicLibrary(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, void**) const [clone .constprop.2530]+56>, nsid=<optimized out>, argc=2, \r\n    argv=<optimized out>, env=0x7fffffffe5c0) at dl-open.c:605\r\n#15 0x00007fffe5b5ff96 in dlopen_doit (a=a@entry=0x7fffffffcd30) at dlopen.c:66\r\n#16 0x00007ffff0d0a51f in __GI__dl_catch_exception (exception=exception@entry=0x7fffffffccd0, operate=0x7fffe5b5ff40 <dlopen_doit>, args=0x7fffffffcd30) at dl-error-skeleton.c:196\r\n#17 0x00007ffff0d0a5af in __GI__dl_catch_error (objname=0x55555e4ac510, errstring=0x55555e4ac518, mallocedp=0x55555e4ac508, operate=<optimized out>, args=<optimized out>) at dl-error-skeleton.c:215\r\n#18 0x00007fffe5b60745 in _dlerror_run (operate=operate@entry=0x7fffe5b5ff40 <dlopen_doit>, args=args@entry=0x7fffffffcd30) at dlerror.c:162\r\n#19 0x00007fffe5b60051 in __dlopen (file=<optimized out>, mode=<optimized out>) at dlopen.c:87\r\n#20 0x0000555555980318 in onnxruntime::(anonymous namespace)::PosixEnv::LoadDynamicLibrary(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, void**) const [clone .constprop.2530] ()\r\n    at ../onnxruntime/core/platform/posix/env.cc:428\r\n---Type <return> to continue, or q <return> to quit---\r\n#21 0x0000555555b231c2 in onnxruntime::ProviderLibrary::ProviderLibrary(char const*) [clone .lto_priv.5979] () at ../onnxruntime/core/platform/posix/env.cc:181\r\n#22 0x0000555555f617b7 in onnxruntime::test::DefaultTensorrtExecutionProvider() () at /usr/include/c++/8/bits/shared_ptr_base.h:1167\r\n#23 0x00005555561a3f2f in onnxruntime::test::OpTester::Run(onnxruntime::SessionOptions, onnxruntime::test::OpTester::ExpectResult, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::unordered_set<std::__cxx11::ba\r\nsic_string<char, std::char_traits<char>, std::allocator<char> >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >,\r\n std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, OrtRunOptions const*, std::vector<std::unique_ptr<onnxruntime::IExecutionProvider, std::default_delete<onnxruntime::IExecutionProvider> >, std::al\r\nlocator<std::unique_ptr<onnxruntime::IExecutionProvider, std::default_delete<onnxruntime::IExecutionProvider> > > >*, std::function<void (std::vector<OrtValue, std::allocator<OrtValue> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, st\r\nd::allocator<char> > const&)> const&, onnxruntime::Graph::ResolveOptions const&) () at ../onnxruntime/test/providers/provider_test_utils.cc:814\r\n#24 0x000055555599a222 in onnxruntime::test::OpTester::Run(onnxruntime::test::OpTester::ExpectResult, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::unordered_set<std::__cxx11::basic_string<char, std::char_tr\r\naits<char>, std::allocator<char> >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11:\r\n:basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, OrtRunOptions const*, std::vector<std::unique_ptr<onnxruntime::IExecutionProvider, std::default_delete<onnxruntime::IExecutionProvider> >, std::allocator<std::unique_ptr<onnxr\r\nuntime::IExecutionProvider, std::default_delete<onnxruntime::IExecutionProvider> > > >*, ExecutionMode, std::function<void (std::vector<OrtValue, std::allocator<OrtValue> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<c\r\nhar> > const&)> const&, onnxruntime::Graph::ResolveOptions const&) [clone .constprop.2521] () at ../onnxruntime/test/providers/provider_test_utils.cc:659\r\n#25 0x0000555555f56666 in void onnxruntime::test::(anonymous namespace)::WhereBasicNumericTest<float>() () at /usr/include/c++/8/ext/new_allocator.h:79\r\n#26 0x00007fffe529e52a in testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void> (location=0x7fffe529f992 \"the test body\", method=<optimized out>, object=0x55555e445d60) at ../googletest/src/gtest.cc:2414\r\n#27 testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void> (object=object@entry=0x55555e445d60, method=<optimized out>, location=location@entry=0x7fffe529f992 \"the test body\") at ../googletest/src/gtest.cc:2469\r\n#28 0x00007fffe52943a3 in testing::Test::Run (this=0x55555e445d60) at ../googletest/src/gtest.cc:2508\r\n#29 testing::Test::Run (this=0x55555e445d60) at ../googletest/src/gtest.cc:2498\r\n#30 0x00007fffe5294505 in testing::TestInfo::Run (this=0x55555e08d9c0) at ../googletest/src/gtest.cc:2684\r\n#31 testing::TestInfo::Run (this=0x55555e08d9c0) at ../googletest/src/gtest.cc:2657\r\n#32 0x00007fffe52945e5 in testing::TestSuite::Run (this=0x55555e01a400) at ../googletest/src/gtest.cc:2816\r\n#33 testing::TestSuite::Run (this=0x55555e01a400) at ../googletest/src/gtest.cc:2795\r\n#34 0x00007fffe5294b03 in testing::internal::UnitTestImpl::RunAllTests() () at /usr/include/c++/8/bits/stl_vector.h:930\r\n#35 0x00007fffe5294d21 in testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (location=0x7fffe52a1be0 \"auxiliary test code (environments or event listeners)\", method=<optimized out>, object=0x55555e01a510)\r\n    at ../googletest/src/gtest.cc:2414\r\n#36 testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (location=0x7fffe52a1be0 \"auxiliary test code (environments or event listeners)\", \r\n    method=(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x7fffe5294680 <testing::internal::UnitTestImpl::RunAllTests()>, object=0x55555e01a510) at ../googletest/src/gtest.cc:2469\r\n#37 testing::UnitTest::Run() () at ../googletest/src/gtest.cc:4925\r\n#38 0x000055555590e6df in RUN_ALL_TESTS () at /usr/local/include/gtest/gtest.h:2473\r\n#39 main (argc=<optimized out>, argv=<optimized out>) at ../onnxruntime/test/providers/test_main.cc:52\r\n(gdb) \r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696196090/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696243968",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-696243968",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 696243968,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjI0Mzk2OA==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-21T17:01:37Z",
        "updated_at": "2020-09-21T17:01:37Z",
        "author_association": "CONTRIBUTOR",
        "body": "The crash in `new()` seems to be LTO-specific.\r\nonnx-ml issue has been fixed by that PR.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696243968/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696248831",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-696248831",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 696248831,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjI0ODgzMQ==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-21T17:10:34Z",
        "updated_at": "2020-09-21T17:10:34Z",
        "author_association": "CONTRIBUTOR",
        "body": "BTW here's also a note in your own code...\r\nhttps://github.com/microsoft/onnxruntime/blob/1f69a58105f320e9b79008698b4275fa3f113f2d/cmake/onnx/CMakeLists.txt#L4",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696248831/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696409583",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-696409583",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 696409583,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjQwOTU4Mw==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-21T22:20:52Z",
        "updated_at": "2020-09-21T22:20:52Z",
        "author_association": "CONTRIBUTOR",
        "body": "I did some more experiments and found segfault is not limited to LTO.\r\nMore specifically, I tried `onnxruntime_test_all` in the following combination of builds:\r\n1. CentOS 7 + gcc 9 + CPU build, works.\r\n2. CentOS 7 + gcc 9 + CUDA, works.\r\n3. CentOS 7 + gcc 9 + CUDA&TRT, segfault.\r\n4. Ubuntu 18.04 + gcc 8 + CUDA&TRT, works.\r\n5. Ubuntu 18.04 + gcc 8 + LTO + CUDA&TRT, segfault.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/696409583/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/697044584",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-697044584",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 697044584,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NzA0NDU4NA==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-23T00:04:07Z",
        "updated_at": "2020-09-23T00:04:07Z",
        "author_association": "CONTRIBUTOR",
        "body": "For the segfault, so far I found:\r\n- `libonnxruntime_providers_tensorrt.so` is in the link line of unit tests, added through `${onnxruntime_test_providers_libs}`.\r\n- Linking unit tests to `libonnxruntime_providers_tensorrt.so` causes segfault.\r\n- trt is usable without linking unit test to `libonnxruntime_providers_tensorrt.so`. (Is it lazy loaded?)\r\n- On Ubuntu+gcc8, `readelf` and `ldd` both shows there's no dependency to `libonnxruntime_providers_tensorrt.so` in the final executable (onnx_test_runner and onnxruntime_test_all) even it's in the link line. Probably there's nothing to resolve and the linker decide to ignore it.\r\n- On CentOS+gcc9, it's in the dependency list and segfault. If I manually edit `build.ninja` to remove it from link command, it works.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/697044584/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/697047167",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-697047167",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 697047167,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NzA0NzE2Nw==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-23T00:13:22Z",
        "updated_at": "2020-09-23T00:13:45Z",
        "author_association": "MEMBER",
        "body": "> For the segfault, so far I found:\r\n> \r\n> * Linking unit tests to `libonnxruntime_providers_tensorrt.so` causes segfault.\r\n> * trt is usable without linking unit test to `libonnxruntime_providers_tensorrt.so`. (Is it lazy loaded?)\r\n\r\nthanks for digging into it. it's not supposed to be linked. \r\nlibonnxruntime_providers_tensorrt.so is supposed to be loaded at runtime when tensorrt ep is registered.\r\nhttps://github.com/microsoft/onnxruntime/blob/master/onnxruntime/core/framework/provider_bridge_ort.cc#L631\r\nfyi @RyanUnderhill ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/697047167/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/697085913",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/5035#issuecomment-697085913",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/5035",
        "id": 697085913,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NzA4NTkxMw==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-23T02:23:39Z",
        "updated_at": "2020-09-23T02:23:39Z",
        "author_association": "CONTRIBUTOR",
        "body": "Code path causing the link in unit test:\r\nhttps://github.com/microsoft/onnxruntime/blob/a90ab12589ce3d4a4323889a7bb77ea67b5e356a/cmake/onnxruntime_unittests.cmake#L436\r\nhttps://github.com/microsoft/onnxruntime/blob/a90ab12589ce3d4a4323889a7bb77ea67b5e356a/cmake/onnxruntime_unittests.cmake#L550",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/697085913/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]