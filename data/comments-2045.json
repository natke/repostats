[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539615902",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539615902",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539615902,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTYxNTkwMg==",
        "user": {
            "login": "faxu",
            "id": 20780999,
            "node_id": "MDQ6VXNlcjIwNzgwOTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/20780999?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/faxu",
            "html_url": "https://github.com/faxu",
            "followers_url": "https://api.github.com/users/faxu/followers",
            "following_url": "https://api.github.com/users/faxu/following{/other_user}",
            "gists_url": "https://api.github.com/users/faxu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/faxu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/faxu/subscriptions",
            "organizations_url": "https://api.github.com/users/faxu/orgs",
            "repos_url": "https://api.github.com/users/faxu/repos",
            "events_url": "https://api.github.com/users/faxu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/faxu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-08T17:20:35Z",
        "updated_at": "2019-10-08T17:20:35Z",
        "author_association": "MEMBER",
        "body": "@hariharans29 is this related to the the other arcface model issue? https://github.com/microsoft/onnxruntime/issues/831",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539615902/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539625437",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539625437",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539625437,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTYyNTQzNw==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-08T17:44:48Z",
        "updated_at": "2019-10-08T17:44:48Z",
        "author_association": "MEMBER",
        "body": "Most likely not. The other issue is NaN outputs. This model does not load. Most likely it is invalid due to conversion error or there is a bug to be fixed in shape inference.\r\n\r\n@luan- could you pl share the model ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539625437/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539630237",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539630237",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539630237,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTYzMDIzNw==",
        "user": {
            "login": "luan1412167",
            "id": 37315746,
            "node_id": "MDQ6VXNlcjM3MzE1NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luan1412167",
            "html_url": "https://github.com/luan1412167",
            "followers_url": "https://api.github.com/users/luan1412167/followers",
            "following_url": "https://api.github.com/users/luan1412167/following{/other_user}",
            "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions",
            "organizations_url": "https://api.github.com/users/luan1412167/orgs",
            "repos_url": "https://api.github.com/users/luan1412167/repos",
            "events_url": "https://api.github.com/users/luan1412167/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luan1412167/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-08T17:57:02Z",
        "updated_at": "2019-10-08T17:57:02Z",
        "author_association": "NONE",
        "body": "@hariharans29 it's [here](https://drive.google.com/file/d/1sskJOezjuMvU6f5XQvNWaFW5z1xRl-w5/view?usp=sharing). \r\nI used arcface_resnet34 from insightface repo and converted from mxnet to onnx with spatial=1 (modify spatial parameter in mxnet/contrib/onnx/mx2onnx/_op_translations.py). \r\nThen I get error `2019-10-09 00:51:21.437349791 [E:onnxruntime:, sequential_executor.cc:165 Execute] Non-zero status code returned while running PRelu node. Name:'relu0' Status Message: /home/luandd/project_company/face_rec/onnxruntime/onnxruntime/core/providers/cpu/math/element_wise_ops.h:329 void onnxruntime::BroadcastIterator::Init(int64_t, int64_t) axis == 1 || axis == largest was false. Attempting to broadcast an axis by a dimension other than 1. 64 by 112\r\n'` . \r\nAfter I reshape input prelu layer then I got the error `failed:[ShapeInferenceError] First input does not have rank 2`. Thanks for your help.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539630237/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539643852",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539643852",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539643852,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTY0Mzg1Mg==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-08T18:31:16Z",
        "updated_at": "2019-10-08T18:35:09Z",
        "author_association": "MEMBER",
        "body": "Hi,\r\n\r\nThe model you shared cannot run as it violates ONNX op spec. Hand-computing shape till the problematic PRelu node - \r\n\r\n![image](https://user-images.githubusercontent.com/9969784/66422357-6475a380-e9be-11e9-9051-3e51250c732c.png)\r\n\r\n1) The input, Sub output, Mul output have the shape [1, 3, 112, 112]\r\n\r\n2) The output shape of Conv will be (based on the parameters) - [1, 64, 112, 112]. The output shape of BatchNormalization is the same as the input shape, so [1, 64, 112, 112].\r\n\r\n3) The PRelu node has slope shape [64]. The spec [here](https://github.com/onnx/onnx/blob/master/docs/Changelog.md#prelu-7) says that the slope shape must be unidirectionally broadcastable to the input shape [64] is NOT unidirectiaonally broadcastable to [1, 64, 112, 112]. [64, 1, 1] is unidirectionally broadcastable, you can try that and see if the results look okay.\r\n\r\nThis fix is needed in all the PRelu nodes. I think this is a bug to resolve for the conversion tool that you are using to convert into ONNX. It generates an invalid ONNX model.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539643852/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539791568",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539791568",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539791568,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTc5MTU2OA==",
        "user": {
            "login": "luan1412167",
            "id": 37315746,
            "node_id": "MDQ6VXNlcjM3MzE1NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luan1412167",
            "html_url": "https://github.com/luan1412167",
            "followers_url": "https://api.github.com/users/luan1412167/followers",
            "following_url": "https://api.github.com/users/luan1412167/following{/other_user}",
            "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions",
            "organizations_url": "https://api.github.com/users/luan1412167/orgs",
            "repos_url": "https://api.github.com/users/luan1412167/repos",
            "events_url": "https://api.github.com/users/luan1412167/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luan1412167/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-09T02:18:56Z",
        "updated_at": "2019-10-09T02:18:56Z",
        "author_association": "NONE",
        "body": "@hariharans29 I have reshaped prelu input to (64,4) as following image. I still facing error  `failed:[ShapeInferenceError] First input does not have rank 2` . the model after reshape [here](https://drive.google.com/file/d/1O3GYMZwBuexaxNo3Wjp9CLHhpgcVrAU9/view?usp=sharing)\r\n![Screenshot from 2019-10-09 09-15-52](https://user-images.githubusercontent.com/37315746/66446607-7a926b00-ea75-11e9-9c5f-e614708079f1.png)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539791568/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539794539",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539794539",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539794539,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTc5NDUzOQ==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-09T02:33:30Z",
        "updated_at": "2019-10-09T02:33:30Z",
        "author_association": "MEMBER",
        "body": "The model still seems to have some issues-\r\n\r\n![image](https://user-images.githubusercontent.com/9969784/66447047-d0c5c680-ea01-11e9-8ce8-aacd4aaaac5c.png)\r\n\r\nThe output shape of the BatchNormalization node (above Gemm) should be 4D (rank == 4) and dropout preserves the shape and Gemm expects 2D input (rank == 2). Possibly, missing some reshape there ?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539794539/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539812056",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539812056",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539812056,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTgxMjA1Ng==",
        "user": {
            "login": "luan1412167",
            "id": 37315746,
            "node_id": "MDQ6VXNlcjM3MzE1NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luan1412167",
            "html_url": "https://github.com/luan1412167",
            "followers_url": "https://api.github.com/users/luan1412167/followers",
            "following_url": "https://api.github.com/users/luan1412167/following{/other_user}",
            "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions",
            "organizations_url": "https://api.github.com/users/luan1412167/orgs",
            "repos_url": "https://api.github.com/users/luan1412167/repos",
            "events_url": "https://api.github.com/users/luan1412167/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luan1412167/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-09T03:45:07Z",
        "updated_at": "2019-10-09T03:45:07Z",
        "author_association": "NONE",
        "body": "@hariharans29  thanks for your support. I have added flatten layer into it like [here](https://github.com/apache/incubator-mxnet/pull/13356/commits/647f30ec37033602ec87e4ac6142145e0806c5a9) . It worked",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539812056/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539818558",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539818558",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539818558,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTgxODU1OA==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-09T04:12:14Z",
        "updated_at": "2019-10-09T04:12:14Z",
        "author_association": "MEMBER",
        "body": "Thanks for confirming that it worked. Please validate that the result aligns with the original base framework model. \r\n\r\nClosing this issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539818558/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539833976",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539833976",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539833976,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTgzMzk3Ng==",
        "user": {
            "login": "luan1412167",
            "id": 37315746,
            "node_id": "MDQ6VXNlcjM3MzE1NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luan1412167",
            "html_url": "https://github.com/luan1412167",
            "followers_url": "https://api.github.com/users/luan1412167/followers",
            "following_url": "https://api.github.com/users/luan1412167/following{/other_user}",
            "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions",
            "organizations_url": "https://api.github.com/users/luan1412167/orgs",
            "repos_url": "https://api.github.com/users/luan1412167/repos",
            "events_url": "https://api.github.com/users/luan1412167/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luan1412167/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-09T05:13:02Z",
        "updated_at": "2019-10-09T05:28:32Z",
        "author_association": "NONE",
        "body": "@hariharans29 then I validate 2 these images. cosine distance result is [[0.9988895]]\r\nIt seem to be wrong.\r\n![Tom_Hanks_54745](https://user-images.githubusercontent.com/37315746/66453085-53e02e80-ea8d-11e9-96cf-8eef91df885d.png) ![images](https://user-images.githubusercontent.com/37315746/66453099-5e022d00-ea8d-11e9-8673-e09107d9db0a.jpeg)\r\n\r\nMy modified model [here](https://drive.google.com/file/d/1O3GYMZwBuexaxNo3Wjp9CLHhpgcVrAU9/view?usp=sharing) \r\nsomethings I have modified is spatial 0->1, reshape prelu and add flatten layer.\r\nWhat is the wrong @hariharans29 ?\r\n\r\nCode validation \r\n`import onnxruntime as rt\r\nimport numpy as np\r\nimport cv2\r\nfrom numpy import dot\r\nfrom numpy.linalg import norm\r\n\r\ndef preprocess(input_data):\r\n\r\n    img_data = input_data.astype('float32')\r\n    img_data = img_data.reshape(1, 3, 112, 112)\r\n\r\n    mean_vec = np.array([0.485, 0.456, 0.406])\r\n    stddev_vec = np.array([0.229, 0.224, 0.225])\r\n    norm_img_data = np.zeros(img_data.shape).astype('float32')\r\n    for i in range(img_data.shape[0]):\r\n        norm_img_data[i,:,:] = (img_data[i,:,:]/255 - mean_vec[i]) / stddev_vec[i]\r\n    return norm_img_data\r\n\r\nsess = rt.InferenceSession(\"/home/luandd/CLionProjects/untitled/mxnet_resnet100.onnx\")\r\ninput_name = sess.get_inputs()[0].name\r\nlabel_name = sess.get_outputs()[0].name\r\n\r\nimg = cv2.imread('/home/luandd/Downloads/images.jpeg')\r\nimg = cv2.resize(img,(112,112))\r\ninput_data = preprocess(img)\r\n\r\na = sess.run([label_name], {input_name: input_data})[0]\r\n\r\nimg = cv2.imread('/home/luandd/CLionProjects/untitled/Tom_Hanks_54745.png')\r\nimg = cv2.resize(img,(112,112))\r\ninput_data = preprocess(img)\r\nb = sess.run([label_name], {input_name: input_data})[0]\r\n\r\ndist = np.linalg.norm(a-b)\r\n\r\ncos_sim = dot(a, b.T)/(norm(a)*norm(b))\r\nprint(cos_sim)`\r\n\r\nmy environment \r\n`mxnet             1.5.0    \r\nnumpy             1.17.2   \r\nonnx              1.6.0    \r\nonnxruntime       0.5.0`",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539833976/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539843649",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539843649",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539843649,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTg0MzY0OQ==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-09T05:48:40Z",
        "updated_at": "2019-10-09T05:48:40Z",
        "author_association": "MEMBER",
        "body": "What is the expected cosine distance ?\r\n\r\nI don't think you can arbitrarily change spatial 0 to 1 and expect the model to work with no change. It must match exactly the original models graph, otherwise results will not match. \r\n\r\nI feel like we made some ad-hoc changes to the onnx graph just to make it pass in ORT and hence the results differed. \r\n\r\nI would suggest that you check with the mxnet onnx exporter team on what's the issue with the original exported model....",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539843649/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539863713",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539863713",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539863713,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTg2MzcxMw==",
        "user": {
            "login": "luan1412167",
            "id": 37315746,
            "node_id": "MDQ6VXNlcjM3MzE1NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luan1412167",
            "html_url": "https://github.com/luan1412167",
            "followers_url": "https://api.github.com/users/luan1412167/followers",
            "following_url": "https://api.github.com/users/luan1412167/following{/other_user}",
            "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions",
            "organizations_url": "https://api.github.com/users/luan1412167/orgs",
            "repos_url": "https://api.github.com/users/luan1412167/repos",
            "events_url": "https://api.github.com/users/luan1412167/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luan1412167/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-09T06:51:23Z",
        "updated_at": "2019-10-09T07:01:59Z",
        "author_association": "NONE",
        "body": "@hariharans29 I think you had much experiments with spatial when convert from mxnet to onnx\r\nhttps://github.com/microsoft/onnxruntime/pull/890#issue-272928157\r\nhttps://github.com/onnx/models/issues/156#issue-439851958\r\nI would open discussion with team onnx export team. Meanwhile if can, you can suggest me a way can run model with correct result.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539863713/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539869290",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539869290",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539869290,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTg2OTI5MA==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-09T07:08:29Z",
        "updated_at": "2019-10-09T07:08:29Z",
        "author_association": "MEMBER",
        "body": "1) How much are the results off by ?\r\n\r\n2) I am afraid I cannot help with model conversion issue as I am not familiar with the conversion logics involved. Please try and get a *valid* equivalent onnx model from the mxnet onnx export team. We can go from there.\r\n\r\n3) Maybe the last Flatten hack was incorrect. Should it be reshaped to something else ? (just a thought - not sure it will work)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539869290/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539874766",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-539874766",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 539874766,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTg3NDc2Ng==",
        "user": {
            "login": "luan1412167",
            "id": 37315746,
            "node_id": "MDQ6VXNlcjM3MzE1NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luan1412167",
            "html_url": "https://github.com/luan1412167",
            "followers_url": "https://api.github.com/users/luan1412167/followers",
            "following_url": "https://api.github.com/users/luan1412167/following{/other_user}",
            "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions",
            "organizations_url": "https://api.github.com/users/luan1412167/orgs",
            "repos_url": "https://api.github.com/users/luan1412167/repos",
            "events_url": "https://api.github.com/users/luan1412167/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luan1412167/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-09T07:24:31Z",
        "updated_at": "2019-10-09T07:24:31Z",
        "author_association": "NONE",
        "body": "@hariharans29 Given your experiments, Have anyone run arcface model on oxxn runtime? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/539874766/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540122653",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-540122653",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 540122653,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDEyMjY1Mw==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-09T18:12:24Z",
        "updated_at": "2019-10-09T18:12:24Z",
        "author_association": "MEMBER",
        "body": "We *may* add support for spatial == 0 soon. You can try it out then. But you need to get a valid ONNX model with spatial == 0 to try it.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540122653/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540311812",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-540311812",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 540311812,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDMxMTgxMg==",
        "user": {
            "login": "luan1412167",
            "id": 37315746,
            "node_id": "MDQ6VXNlcjM3MzE1NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luan1412167",
            "html_url": "https://github.com/luan1412167",
            "followers_url": "https://api.github.com/users/luan1412167/followers",
            "following_url": "https://api.github.com/users/luan1412167/following{/other_user}",
            "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions",
            "organizations_url": "https://api.github.com/users/luan1412167/orgs",
            "repos_url": "https://api.github.com/users/luan1412167/repos",
            "events_url": "https://api.github.com/users/luan1412167/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luan1412167/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-10T02:52:27Z",
        "updated_at": "2019-10-10T02:52:27Z",
        "author_association": "NONE",
        "body": "@hariharans29  I is have valid onnx model with spatial=0 however I can't run it on current onnx version. If you support for spatial=0 please ping to me. thanks",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540311812/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540873976",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-540873976",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 540873976,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDg3Mzk3Ng==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-11T02:33:00Z",
        "updated_at": "2019-10-11T02:33:00Z",
        "author_association": "MEMBER",
        "body": "You can try after https://github.com/microsoft/onnxruntime/pull/2092 is merged. But please be advised that the MxNet exporter seems to stamp spatial == 0 to the BatchNorm nodes when it actually means spatial == 1. This was observed in the ArcFace model from the ONNX model zoo - https://github.com/onnx/models/issues/156.\r\n\r\nIf after that, the results still don't match, you will have to check if there were issues with the conversion by talking to the relevant people who exported the graph to ONNX from the base framework. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540873976/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540892851",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-540892851",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 540892851,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDg5Mjg1MQ==",
        "user": {
            "login": "luan1412167",
            "id": 37315746,
            "node_id": "MDQ6VXNlcjM3MzE1NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luan1412167",
            "html_url": "https://github.com/luan1412167",
            "followers_url": "https://api.github.com/users/luan1412167/followers",
            "following_url": "https://api.github.com/users/luan1412167/following{/other_user}",
            "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions",
            "organizations_url": "https://api.github.com/users/luan1412167/orgs",
            "repos_url": "https://api.github.com/users/luan1412167/repos",
            "events_url": "https://api.github.com/users/luan1412167/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luan1412167/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-11T04:04:54Z",
        "updated_at": "2019-10-11T04:04:54Z",
        "author_association": "NONE",
        "body": "@hariharans29 I would try with #2092.However, In bad case, whether pytorch converter have get valid result?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540892851/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540893520",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-540893520",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 540893520,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDg5MzUyMA==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-11T04:08:34Z",
        "updated_at": "2019-10-11T04:08:34Z",
        "author_association": "MEMBER",
        "body": "I don't know. I haven't tried. Please give it a shot.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540893520/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540893676",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-540893676",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 540893676,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDg5MzY3Ng==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-11T04:09:22Z",
        "updated_at": "2019-10-11T04:09:22Z",
        "author_association": "MEMBER",
        "body": "Most likely if the inbox model is valid after conversion, it will be fine. It is very rare if conversion succeeds but results don't match.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/540893676/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/541005587",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-541005587",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 541005587,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTAwNTU4Nw==",
        "user": {
            "login": "luan1412167",
            "id": 37315746,
            "node_id": "MDQ6VXNlcjM3MzE1NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luan1412167",
            "html_url": "https://github.com/luan1412167",
            "followers_url": "https://api.github.com/users/luan1412167/followers",
            "following_url": "https://api.github.com/users/luan1412167/following{/other_user}",
            "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions",
            "organizations_url": "https://api.github.com/users/luan1412167/orgs",
            "repos_url": "https://api.github.com/users/luan1412167/repos",
            "events_url": "https://api.github.com/users/luan1412167/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luan1412167/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-11T10:14:30Z",
        "updated_at": "2019-10-11T10:14:30Z",
        "author_association": "NONE",
        "body": "@hariharans29  thanks for your support. I will inform result when I try it.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/541005587/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/541196079",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-541196079",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 541196079,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTE5NjA3OQ==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-11T19:34:14Z",
        "updated_at": "2019-10-11T19:34:14Z",
        "author_association": "MEMBER",
        "body": "Hi luan,\r\n\r\n1) If you have immediate ArcFace inferencing needs, please check out my reply in https://github.com/onnx/models/issues/156, on how to \"correct\" the ArcFace ONNX model zoo model and please use it.\r\n\r\n2)  If you have conversion issues (conversion yields invalid ONNX model or conversion yields an ONNX model whose results are not right), please check with the base framework (MxNet / PyTorch) ONNX conversion group.\r\n\r\nAs such, since this is not an ONNXRuntime issue now, closing this out. Thanks. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/541196079/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/543582867",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-543582867",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 543582867,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzU4Mjg2Nw==",
        "user": {
            "login": "luan1412167",
            "id": 37315746,
            "node_id": "MDQ6VXNlcjM3MzE1NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luan1412167",
            "html_url": "https://github.com/luan1412167",
            "followers_url": "https://api.github.com/users/luan1412167/followers",
            "following_url": "https://api.github.com/users/luan1412167/following{/other_user}",
            "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions",
            "organizations_url": "https://api.github.com/users/luan1412167/orgs",
            "repos_url": "https://api.github.com/users/luan1412167/repos",
            "events_url": "https://api.github.com/users/luan1412167/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luan1412167/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-10-18T08:00:43Z",
        "updated_at": "2019-10-18T09:08:10Z",
        "author_association": "NONE",
        "body": "@hariharans29 Are you know this error? I'm using onnx runtime from source (latest version support spatial BN = 0 ). my model [here](https://drive.google.com/file/d/1aZBakhRE9dIhiGf8WI-hpS6nenuYcZm9/view?usp=sharing) \r\n`Non-zero status code returned while running BatchNormalization node. Name:'bn_data' Status Message: Invalid input scale: NumDimensions() != 3`\r\n![Screenshot from 2019-10-18 14-58-20](https://user-images.githubusercontent.com/37315746/67076651-ca7cda80-f1b7-11e9-8a0e-8399557ed1b4.png)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/543582867/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/566449695",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-566449695",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 566449695,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjQ0OTY5NQ==",
        "user": {
            "login": "sky186",
            "id": 56809648,
            "node_id": "MDQ6VXNlcjU2ODA5NjQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/56809648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sky186",
            "html_url": "https://github.com/sky186",
            "followers_url": "https://api.github.com/users/sky186/followers",
            "following_url": "https://api.github.com/users/sky186/following{/other_user}",
            "gists_url": "https://api.github.com/users/sky186/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sky186/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sky186/subscriptions",
            "organizations_url": "https://api.github.com/users/sky186/orgs",
            "repos_url": "https://api.github.com/users/sky186/repos",
            "events_url": "https://api.github.com/users/sky186/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sky186/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-12-17T09:05:03Z",
        "updated_at": "2019-12-17T09:15:08Z",
        "author_association": "NONE",
        "body": "arcface correct model\r\n    input_shape=(1,3,112,112)\r\n    sym = './model-symbol.json'\r\n    params = './model-0000.params'\r\n    ###########################################\r\n    onnx_file=\"./mynet.onnx\"\r\n    print (\"************************\")\r\n    converted_model_path = onnx_mxnet.export_model(sym,\r\n        params,\r\n        [input_shape],\r\n        np.float32,\r\n        onnx_file,\r\n        verbose=True  #print node information   data ,Output node is: softmax\r\n    )\r\n    model = onnx.load(r'mynet.onnx')\r\n    for node in model.graph.node:\r\n        if (node.op_type == \"BatchNormalization\"):\r\n            for attr in node.attribute:\r\n                if (attr.name == \"spatial\"):  #0 to 1\r\n                    attr.i = 1  ## use to onnxruntime , not to effect output\r\n    onnx.save(model, r'mynet.onnx')  \r\n\r\n\r\nthe onnx out is same the mxnet,but onnxruntime not pass,need to fix\r\n###### Prelu6416411\r\nhttps://github.com/apache/incubator-mxnet/pull/13460/commits/f1a6df82a40d1d9e8be6f7c3f9f4dcfe75948bd6\r\n######  ONNX export: Add Flatten before Gemmflatten\r\nhttps://github.com/apache/incubator-mxnet/pull/13356/files\r\n\r\n\r\nthen to run code to get onnx\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/566449695/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/573972913",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-573972913",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 573972913,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU3Mzk3MjkxMw==",
        "user": {
            "login": "cyrusbehr",
            "id": 17056751,
            "node_id": "MDQ6VXNlcjE3MDU2NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/17056751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cyrusbehr",
            "html_url": "https://github.com/cyrusbehr",
            "followers_url": "https://api.github.com/users/cyrusbehr/followers",
            "following_url": "https://api.github.com/users/cyrusbehr/following{/other_user}",
            "gists_url": "https://api.github.com/users/cyrusbehr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cyrusbehr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cyrusbehr/subscriptions",
            "organizations_url": "https://api.github.com/users/cyrusbehr/orgs",
            "repos_url": "https://api.github.com/users/cyrusbehr/repos",
            "events_url": "https://api.github.com/users/cyrusbehr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cyrusbehr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-01-14T02:43:05Z",
        "updated_at": "2020-01-14T02:44:01Z",
        "author_association": "NONE",
        "body": "Making the changes that @sky186 suggests allows me to perform inference with the model, though I am not sure if the inference results are correct... \r\nAnyone else given this a try? \r\nIn particular, I am referring to making [these](https://github.com/apache/incubator-mxnet/commit/f1a6df82a40d1d9e8be6f7c3f9f4dcfe75948bd6) changes before converting the model",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/573972913/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/600983661",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2045#issuecomment-600983661",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2045",
        "id": 600983661,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDk4MzY2MQ==",
        "user": {
            "login": "HoangTienDuc",
            "id": 53229746,
            "node_id": "MDQ6VXNlcjUzMjI5NzQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/53229746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HoangTienDuc",
            "html_url": "https://github.com/HoangTienDuc",
            "followers_url": "https://api.github.com/users/HoangTienDuc/followers",
            "following_url": "https://api.github.com/users/HoangTienDuc/following{/other_user}",
            "gists_url": "https://api.github.com/users/HoangTienDuc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HoangTienDuc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HoangTienDuc/subscriptions",
            "organizations_url": "https://api.github.com/users/HoangTienDuc/orgs",
            "repos_url": "https://api.github.com/users/HoangTienDuc/repos",
            "events_url": "https://api.github.com/users/HoangTienDuc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HoangTienDuc/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-19T04:34:32Z",
        "updated_at": "2020-03-19T04:34:32Z",
        "author_association": "NONE",
        "body": "> @hariharans29 thanks for your support. I have added flatten layer into it like [here](https://github.com/apache/incubator-mxnet/pull/13356/commits/647f30ec37033602ec87e4ac6142145e0806c5a9) . It worked\r\n\r\nhi @luan1412167 @hariharans29 how did you shape and flatten?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/600983661/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]