[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1589952731",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16341#issuecomment-1589952731",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16341",
        "id": 1589952731,
        "node_id": "IC_kwDOCVq1mM5exMDb",
        "user": {
            "login": "YUNQIUGUO",
            "id": 35738743,
            "node_id": "MDQ6VXNlcjM1NzM4NzQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/35738743?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/YUNQIUGUO",
            "html_url": "https://github.com/YUNQIUGUO",
            "followers_url": "https://api.github.com/users/YUNQIUGUO/followers",
            "following_url": "https://api.github.com/users/YUNQIUGUO/following{/other_user}",
            "gists_url": "https://api.github.com/users/YUNQIUGUO/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/YUNQIUGUO/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/YUNQIUGUO/subscriptions",
            "organizations_url": "https://api.github.com/users/YUNQIUGUO/orgs",
            "repos_url": "https://api.github.com/users/YUNQIUGUO/repos",
            "events_url": "https://api.github.com/users/YUNQIUGUO/events{/privacy}",
            "received_events_url": "https://api.github.com/users/YUNQIUGUO/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-13T20:06:15Z",
        "updated_at": "2023-06-13T20:07:45Z",
        "author_association": "MEMBER",
        "body": "Does your tested onnx model contains a `ReduceMean` operator? looks like the error message shows failed at ReduceMean.\r\n\r\n> [ONNXRuntimeError] : 10 : INVALID_GRAPH : This is an invalid model. In Node, (\"\", ReduceMean, \"\", -1) : (\"_0x19959b0_XU\": tensor(float),) -> (\"_0x19959b0_Mean2D\",) , Error Unrecognized attribute: axes for operator ReduceMean\r\n\r\nso fyi, in opset 18, ReduceMean introduces `axes` as an optional input. Before opset 18, `axes` was an attribute. Error message may indicate this. \r\n\r\n-ReduceMean-18:\r\nhttps://github.com/onnx/onnx/blob/main/docs/Operators.md#ReduceMean\r\n-ReduceMean-13:\r\nhttps://github.com/onnx/onnx/blob/main/docs/Changelog.md#ReduceMean-13\r\n\r\nYou may want to update your model if possible.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1589952731/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1589976296",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16341#issuecomment-1589976296",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16341",
        "id": 1589976296,
        "node_id": "IC_kwDOCVq1mM5exRzo",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-13T20:27:54Z",
        "updated_at": "2023-06-13T20:28:23Z",
        "author_association": "MEMBER",
        "body": "This is the output with ONNX 1.14 or 1.13 and onnxruntime-gpu 1.15 with `ort.InferenceSession(filename,  providers=['CUDAExecutionProvider', 'CPUExecutionProvider'])`:\r\n```\r\n python  test_ln.py\r\nTesting LayerNorm node for opset 17, precision 1:\r\nThe model  is checked!\r\nCreated onnxruntime session!\r\n--------------------------------------------------\r\nTesting LayerNorm node for opset 17, precision 10:\r\nThe model  is checked!\r\nCreated onnxruntime session!\r\n--------------------------------------------------\r\nTesting LayerNorm node for opset 18, precision 1:\r\nThe model  is checked!\r\nCreated onnxruntime session!\r\n--------------------------------------------------\r\nTesting LayerNorm node for opset 18, precision 10:\r\nThe model  is checked!\r\nCreated onnxruntime session!\r\n--------------------------------------------------\r\nTesting LayerNorm node for opset 19, precision 1:\r\nThe model  is checked!\r\nCreated onnxruntime session!\r\n--------------------------------------------------\r\nTesting LayerNorm node for opset 19, precision 10:\r\nThe model  is checked!\r\nCreated onnxruntime session!\r\n--------------------------------------------------\r\n```\r\nIt seems no issue in my machine (Ubuntu 20.04).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1589976296/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1593496406",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16341#issuecomment-1593496406",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16341",
        "id": 1593496406,
        "node_id": "IC_kwDOCVq1mM5e-tNW",
        "user": {
            "login": "galagam",
            "id": 96368689,
            "node_id": "U_kgDOBb54MQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/96368689?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/galagam",
            "html_url": "https://github.com/galagam",
            "followers_url": "https://api.github.com/users/galagam/followers",
            "following_url": "https://api.github.com/users/galagam/following{/other_user}",
            "gists_url": "https://api.github.com/users/galagam/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/galagam/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/galagam/subscriptions",
            "organizations_url": "https://api.github.com/users/galagam/orgs",
            "repos_url": "https://api.github.com/users/galagam/repos",
            "events_url": "https://api.github.com/users/galagam/events{/privacy}",
            "received_events_url": "https://api.github.com/users/galagam/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-15T17:50:09Z",
        "updated_at": "2023-06-15T17:50:09Z",
        "author_association": "NONE",
        "body": "Thanks for the prompt replies. \r\n@YUNQIUGUO - there's no ReduceMean, the graph contains only a single LayerNormalization node, but I'm assuming ONNX-RT is composing the LayerNorm implementation by combining several more basic ops, such as ReduceMean. \r\n\r\n@tianleiwu I can confirm this is working when I enable the CUDAExecutionProvider, so issue here is only with CPU implementation. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1593496406/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1593893596",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16341#issuecomment-1593893596",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16341",
        "id": 1593893596,
        "node_id": "IC_kwDOCVq1mM5fAOLc",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-16T00:51:05Z",
        "updated_at": "2023-06-21T18:02:04Z",
        "author_association": "MEMBER",
        "body": "Currently, cpu supports float version of LayerNormalization up to opset 17 (as in https://github.com/microsoft/onnxruntime/pull/12978). @skottmckay\r\n\r\nFor opset 18/19, when there is no implement of LayerNormalization in CPU, it will use ONNX function of opset-18. That error might have same root cause as in https://github.com/microsoft/onnxruntime/issues/16438.\r\n\r\nThe solution is to extend the float version of LayerNormalization in CPU EP to opset 18.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1593893596/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1603429896",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16341#issuecomment-1603429896",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16341",
        "id": 1603429896,
        "node_id": "IC_kwDOCVq1mM5fkmYI",
        "user": {
            "login": "justinchuby",
            "id": 11205048,
            "node_id": "MDQ6VXNlcjExMjA1MDQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11205048?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justinchuby",
            "html_url": "https://github.com/justinchuby",
            "followers_url": "https://api.github.com/users/justinchuby/followers",
            "following_url": "https://api.github.com/users/justinchuby/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinchuby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justinchuby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinchuby/subscriptions",
            "organizations_url": "https://api.github.com/users/justinchuby/orgs",
            "repos_url": "https://api.github.com/users/justinchuby/repos",
            "events_url": "https://api.github.com/users/justinchuby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justinchuby/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-22T23:21:19Z",
        "updated_at": "2023-06-22T23:21:19Z",
        "author_association": "MEMBER",
        "body": "\r\n> For opset 18/19, when there is no implement of LayerNormalization in CPU, it will use ONNX function of opset-18. That error might have same root cause as in #16438.\r\n\r\nLooks very likely so. Is there a way for ORT to select to correct decomposition there?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1603429896/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1603444646",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/16341#issuecomment-1603444646",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/16341",
        "id": 1603444646,
        "node_id": "IC_kwDOCVq1mM5fkp-m",
        "user": {
            "login": "justinchuby",
            "id": 11205048,
            "node_id": "MDQ6VXNlcjExMjA1MDQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11205048?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/justinchuby",
            "html_url": "https://github.com/justinchuby",
            "followers_url": "https://api.github.com/users/justinchuby/followers",
            "following_url": "https://api.github.com/users/justinchuby/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinchuby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/justinchuby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinchuby/subscriptions",
            "organizations_url": "https://api.github.com/users/justinchuby/orgs",
            "repos_url": "https://api.github.com/users/justinchuby/repos",
            "events_url": "https://api.github.com/users/justinchuby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/justinchuby/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-06-22T23:47:01Z",
        "updated_at": "2023-06-22T23:47:01Z",
        "author_association": "MEMBER",
        "body": "Added observation in #16438 ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1603444646/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]